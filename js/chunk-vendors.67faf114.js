(self["webpackChunk_3x3_generator"]=self["webpackChunk_3x3_generator"]||[]).push([[504],{33:function(t,e,i){"use strict";function n(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return t=>t in e}i.d(e,{$3:function(){return f},$H:function(){return K},BH:function(){return J},BX:function(){return ct},Bm:function(){return v},C4:function(){return $},CE:function(){return m},CP:function(){return u},DY:function(){return P},Gv:function(){return w},J$:function(){return et},Kg:function(){return _},MZ:function(){return r},Mp:function(){return l},NO:function(){return s},Oj:function(){return a},PT:function(){return T},Qd:function(){return V},Ro:function(){return F},SU:function(){return k},TF:function(){return d},Tg:function(){return C},Tn:function(){return Z},Tr:function(){return H},Vp:function(){return ot},W0:function(){return it},We:function(){return U},X$:function(){return c},XW:function(){return lt},Y2:function(){return nt},ZH:function(){return M},Zf:function(){return W},_B:function(){return q},bB:function(){return N},cy:function(){return p},gd:function(){return y},pD:function(){return n},pU:function(){return bt},rU:function(){return L},tE:function(){return o},tl:function(){return Q},u3:function(){return dt},vM:function(){return b},v_:function(){return ft},wQ:function(){return rt},yI:function(){return X},yL:function(){return S},yQ:function(){return Y},z3:function(){return at}});const r={},a=[],o=()=>{},s=()=>!1,l=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),u=t=>t.startsWith("onUpdate:"),c=Object.assign,d=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},h=Object.prototype.hasOwnProperty,f=(t,e)=>h.call(t,e),p=Array.isArray,m=t=>"[object Map]"===I(t),b=t=>"[object Set]"===I(t),g=t=>"[object Date]"===I(t),y=t=>"[object RegExp]"===I(t),Z=t=>"function"===typeof t,_=t=>"string"===typeof t,v=t=>"symbol"===typeof t,w=t=>null!==t&&"object"===typeof t,S=t=>(w(t)||Z(t))&&Z(t.then)&&Z(t.catch),x=Object.prototype.toString,I=t=>x.call(t),W=t=>I(t).slice(8,-1),V=t=>"[object Object]"===I(t),X=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,k=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},R=/-(\w)/g,T=G((t=>t.replace(R,((t,e)=>e?e.toUpperCase():"")))),E=/\B([A-Z])/g,C=G((t=>t.replace(E,"-$1").toLowerCase())),M=G((t=>t.charAt(0).toUpperCase()+t.slice(1))),L=G((t=>{const e=t?`on${M(t)}`:"";return e})),K=(t,e)=>!Object.is(t,e),P=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},Y=(t,e,i,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:i})},N=t=>{const e=parseFloat(t);return isNaN(e)?t:e},F=t=>{const e=_(t)?Number(t):NaN;return isNaN(e)?t:e};let B;const U=()=>B||(B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{});const z="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",J=n(z);function H(t){if(p(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=_(n)?D(n):H(n);if(r)for(const t in r)e[t]=r[t]}return e}if(_(t)||w(t))return t}const A=/;(?![^(]*\))/g,j=/:([^]+)/,O=/\/\*[^]*?\*\//g;function D(t){const e={};return t.replace(O,"").split(A).forEach((t=>{if(t){const i=t.split(j);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function Q(t){if(!t)return"";if(_(t))return t;let e="";for(const i in t){const n=t[i];if(_(n)||"number"===typeof n){const t=i.startsWith("--")?i:C(i);e+=`${t}:${n};`}}return e}function $(t){let e="";if(_(t))e=t;else if(p(t))for(let i=0;i<t.length;i++){const n=$(t[i]);n&&(e+=n+" ")}else if(w(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function q(t){if(!t)return null;let{class:e,style:i}=t;return e&&!_(e)&&(t.class=$(e)),i&&(t.style=H(i)),t}const tt="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",et=n(tt),it=n(tt+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function nt(t){return!!t||""===t}const rt=n("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),at=n("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function ot(t){if(null==t)return!1;const e=typeof t;return"string"===e||"number"===e||"boolean"===e}const st=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function lt(t,e){return t.replace(st,(t=>e?'"'===t?'\\\\\\"':`\\\\${t}`:`\\${t}`))}function ut(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=ct(t[n],e[n]);return i}function ct(t,e){if(t===e)return!0;let i=g(t),n=g(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=v(t),n=v(e),i||n)return t===e;if(i=p(t),n=p(e),i||n)return!(!i||!n)&&ut(t,e);if(i=w(t),n=w(e),i||n){if(!i||!n)return!1;const r=Object.keys(t).length,a=Object.keys(e).length;if(r!==a)return!1;for(const i in t){const n=t.hasOwnProperty(i),r=e.hasOwnProperty(i);if(n&&!r||!n&&r||!ct(t[i],e[i]))return!1}}return String(t)===String(e)}function dt(t,e){return t.findIndex((t=>ct(t,e)))}const ht=t=>!(!t||!0!==t["__v_isRef"]),ft=t=>_(t)?t:null==t?"":p(t)||w(t)&&(t.toString===x||!Z(t.toString))?ht(t)?ft(t.value):JSON.stringify(t,pt,2):String(t),pt=(t,e)=>ht(e)?pt(t,e.value):m(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i],n)=>(t[mt(e,n)+" =>"]=i,t)),{})}:b(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>mt(t)))}:v(e)?mt(e):!w(e)||p(e)||V(e)?e:String(e),mt=(t,e="")=>{var i;return v(t)?`Symbol(${null!=(i=t.description)?i:e})`:t};function bt(t){return null==t?"initial":"string"===typeof t?""===t?" ":t:("number"===typeof t&&Number.isFinite(t),String(t))}},34:function(t,e,i){"use strict";var n=i(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},126:function(t){"use strict";const e="bold|bolder|lighter|[1-9]00",i="italic|oblique",n="small-caps",r="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",a="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",o="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",s=new RegExp(`(${e}) +`,"i"),l=new RegExp(`(${i}) +`,"i"),u=new RegExp(`(${n}) +`,"i"),c=new RegExp(`(${r}) +`,"i"),d=new RegExp(`([\\d\\.]+)(${a}) *((?:${o})( *, *(?:${o}))*)`),h={},f=16;t.exports=t=>{if(h[t])return h[t];const e=d.exec(t);if(!e)return;const i={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let n,r,a,o;const p=t.substring(0,e.index);switch((n=s.exec(p))&&(i.weight=n[1]),(r=l.exec(p))&&(i.style=r[1]),(a=u.exec(p))&&(i.variant=a[1]),(o=c.exec(p))&&(i.stretch=o[1]),i.unit){case"pt":i.size/=.75;break;case"pc":i.size*=16;break;case"in":i.size*=96;break;case"cm":i.size*=96/2.54;break;case"mm":i.size*=96/25.4;break;case"%":break;case"em":case"rem":i.size*=f/.75;break;case"q":i.size*=96/25.4/4;break}return h[t]=i}},181:function(t,e,i){var n="Expected a function",r=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=Object.prototype,m=p.toString,b=Math.max,g=Math.min,y=function(){return f.Date.now()};function Z(t,e,i){var r,a,o,s,l,u,c=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError(n);function p(e){var i=r,n=a;return r=a=void 0,c=e,s=t.apply(n,i),s}function m(t){return c=t,l=setTimeout(w,e),d?p(t):s}function Z(t){var i=t-u,n=t-c,r=e-i;return h?g(r,o-n):r}function v(t){var i=t-u,n=t-c;return void 0===u||i>=e||i<0||h&&n>=o}function w(){var t=y();if(v(t))return x(t);l=setTimeout(w,Z(t))}function x(t){return l=void 0,f&&r?p(t):(r=a=void 0,s)}function I(){void 0!==l&&clearTimeout(l),c=0,r=u=a=l=void 0}function W(){return void 0===l?s:x(y())}function V(){var t=y(),i=v(t);if(r=arguments,a=this,u=t,i){if(void 0===l)return m(u);if(h)return l=setTimeout(w,e),p(u)}return void 0===l&&(l=setTimeout(w,e)),s}return e=S(e)||0,_(i)&&(d=!!i.leading,h="maxWait"in i,o=h?b(S(i.maxWait)||0,e):o,f="trailing"in i?!!i.trailing:f),V.cancel=I,V.flush=W,V}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){return!!t&&"object"==typeof t}function w(t){return"symbol"==typeof t||v(t)&&m.call(t)==a}function S(t){if("number"==typeof t)return t;if(w(t))return r;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=l.test(t);return i||u.test(t)?c(t.slice(2),i?2:8):s.test(t)?r:+t}t.exports=Z},283:function(t,e,i){"use strict";var n=i(9504),r=i(9039),a=i(4901),o=i(9297),s=i(3724),l=i(350).CONFIGURABLE,u=i(3706),c=i(1181),d=c.enforce,h=c.get,f=String,p=Object.defineProperty,m=n("".slice),b=n("".replace),g=n([].join),y=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),Z=String(String).split("String"),_=t.exports=function(t,e,i){"Symbol("===m(f(e),0,7)&&(e="["+b(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&i&&o(i,"arity")&&t.length!==i.arity&&p(t,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var n=d(t);return o(n,"source")||(n.source=g(Z,"string"==typeof e?e:"")),t};Function.prototype.toString=_((function(){return a(this)&&h(this).source||u(this)}),"toString")},350:function(t,e,i){"use strict";var n=i(3724),r=i(9297),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=r(a,"name"),l=s&&"something"===function(){}.name,u=s&&(!n||n&&o(a,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},421:function(t){"use strict";t.exports={}},616:function(t,e,i){"use strict";var n=i(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},641:function(t,e,i){"use strict";i.d(e,{$V:function(){return ee},$u:function(){return ye},$y:function(){return ke},BA:function(){return n.BA},Bi:function(){return Wt},Bs:function(){return Ar},C4:function(){return r.C4},CE:function(){return Dn},Df:function(){return xt},Dl:function(){return E},E:function(){return ni},E3:function(){return sr},EW:function(){return Ur},EY:function(){return Yn},FK:function(){return Pn},Fv:function(){return ur},Fw:function(){return nn},GM:function(){return He},Gc:function(){return n.Gc},Gt:function(){return Si},Gw:function(){return ta},Gy:function(){return ht},H4:function(){return _},HF:function(){return ti},Ht:function(){return De},IG:function(){return n.IG},IJ:function(){return n.IJ},Ic:function(){return ge},Im:function(){return st},K9:function(){return Hi},KC:function(){return me},KR:function(){return n.KR},Kf:function(){return r.rU},Kh:function(){return n.Kh},LJ:function(){return ea},LM:function(){return rn},Lk:function(){return nr},Lu:function(){return Ae},MZ:function(){return St},Mw:function(){return Nn},NP:function(){return je},Ng:function(){return or},OA:function(){return Qe},OW:function(){return _t},PP:function(){return n.PP},PR:function(){return ae},PS:function(){return Ii},PT:function(){return r.PT},Pn:function(){return Dt},Pr:function(){return n.Pr},Q3:function(){return cr},QP:function(){return pt},QW:function(){return n.QW},QZ:function(){return n.QZ},Qi:function(){return J},R1:function(){return n.R1},R8:function(){return Or},RG:function(){return Me},SS:function(){return ve},Tb:function(){return Ke},Tm:function(){return n.Tm},Tq:function(){return $t},Tr:function(){return r.Tr},U4:function(){return m},U_:function(){return sn},Ul:function(){return n.Ul},Vq:function(){return jn},WQ:function(){return xi},Wv:function(){return Qn},X2:function(){return n.X2},Y4:function(){return le},Y5:function(){return ia},YY:function(){return A},Yj:function(){return Ue},Yv:function(){return n.Yv},ZH:function(){return r.ZH},ZQ:function(){return Dr},_B:function(){return r._B},aT:function(){return na},bF:function(){return rr},bU:function(){return Hr},bj:function(){return we},bn:function(){return ii},bo:function(){return O},ch:function(){return n.ch},ci:function(){return Ai},dA:function(){return Qt},dY:function(){return k},ds:function(){return n.ds},eW:function(){return lr},eX:function(){return Ce},fE:function(){return n.fE},fn:function(){return hn},g2:function(){return Ve},g8:function(){return n.g8},gN:function(){return Ge},gW:function(){return tr},gh:function(){return y},h:function(){return zr},hi:function(){return _e},i9:function(){return n.i9},iD:function(){return $r},jC:function(){return Fn},jr:function(){return n.jr},jt:function(){return H},ju:function(){return n.ju},k6:function(){return j},lW:function(){return n.lW},lt:function(){return Qr},mu:function(){return n.mu},n:function(){return se},nD:function(){return n.nD},nI:function(){return _r},nT:function(){return an},o5:function(){return n.o5},p9:function(){return on},pI:function(){return Ee},pM:function(){return It},pR:function(){return yt},qG:function(){return xe},qL:function(){return Z},qP:function(){return ze},qR:function(){return Se},rE:function(){return jr},rO:function(){return Oe},rU:function(){return jt},rY:function(){return n.rY},rk:function(){return Xt},sV:function(){return be},tB:function(){return n.tB},tC:function(){return Tr},tG:function(){return b},tY:function(){return Vn},uX:function(){return zn},uY:function(){return n.uY},ux:function(){return n.ux},v6:function(){return pr},v_:function(){return r.v_},vv:function(){return $n},wB:function(){return ln},wX:function(){return Er},wk:function(){return Je},xo:function(){return Ze},y$:function(){return Jr},yC:function(){return n.yC},zz:function(){return ei}});var n=i(953),r=i(33);const a=[];function o(t){a.push(t)}function s(){a.pop()}let l=!1;function u(t,...e){if(l)return;l=!0,(0,n.C4)();const i=a.length?a[a.length-1].component:null,r=i&&i.appContext.config.warnHandler,o=c();if(r)y(r,i,11,[t+e.map((t=>{var e,i;return null!=(i=null==(e=t.toString)?void 0:e.call(t))?i:JSON.stringify(t)})).join(""),i&&i.proxy,o.map((({vnode:t})=>`at <${Fr(i,t.type)}>`)).join("\n"),o]);else{const i=[`[Vue warn]: ${t}`,...e];o.length&&i.push("\n",...d(o))}(0,n.bl)(),l=!1}function c(){let t=a[a.length-1];if(!t)return[];const e=[];while(t){const i=e[0];i&&i.vnode===t?i.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function d(t){const e=[];return t.forEach(((t,i)=>{e.push(...0===i?[]:["\n"],...h(t))})),e}function h({vnode:t,recurseCount:e}){const i=e>0?`... (${e} recursive calls)`:"",n=!!t.component&&null==t.component.parent,r=` at <${Fr(t.component,t.type,n)}`,a=">"+i;return t.props?[r,...f(t.props),a]:[r+a]}function f(t){const e=[],i=Object.keys(t);return i.slice(0,3).forEach((i=>{e.push(...p(i,t[i]))})),i.length>3&&e.push(" ..."),e}function p(t,e,i){return(0,r.Kg)(e)?(e=JSON.stringify(e),i?e:[`${t}=${e}`]):"number"===typeof e||"boolean"===typeof e||null==e?i?e:[`${t}=${e}`]:(0,n.i9)(e)?(e=p(t,(0,n.ux)(e.value),!0),i?e:[`${t}=Ref<`,e,">"]):(0,r.Tn)(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=(0,n.ux)(e),i?e:[`${t}=`,e])}function m(t,e){}const b={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},g={["sp"]:"serverPrefetch hook",["bc"]:"beforeCreate hook",["c"]:"created hook",["bm"]:"beforeMount hook",["m"]:"mounted hook",["bu"]:"beforeUpdate hook",["u"]:"updated",["bum"]:"beforeUnmount hook",["um"]:"unmounted hook",["a"]:"activated hook",["da"]:"deactivated hook",["ec"]:"errorCaptured hook",["rtc"]:"renderTracked hook",["rtg"]:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush",[15]:"component update",[16]:"app unmount cleanup function"};function y(t,e,i,n){try{return n?t(...n):t()}catch(r){_(r,e,i)}}function Z(t,e,i,n){if((0,r.Tn)(t)){const a=y(t,e,i,n);return a&&(0,r.yL)(a)&&a.catch((t=>{_(t,e,i)})),a}if((0,r.cy)(t)){const r=[];for(let a=0;a<t.length;a++)r.push(Z(t[a],e,i,n));return r}}function _(t,e,i,a=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||r.MZ;if(e){let r=e.parent;const a=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${i}`;while(r){const e=r.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,a,o))return;r=r.parent}if(s)return(0,n.C4)(),y(s,null,10,[t,a,o]),void(0,n.bl)()}v(t,i,o,a,l)}function v(t,e,i,n=!0,r=!1){if(r)throw t}const w=[];let S=-1;const x=[];let I=null,W=0;const V=Promise.resolve();let X=null;function k(t){const e=X||V;return t?e.then(this?t.bind(this):t):e}function G(t){let e=S+1,i=w.length;while(e<i){const n=e+i>>>1,r=w[n],a=L(r);a<t||a===t&&2&r.flags?e=n+1:i=n}return e}function R(t){if(!(1&t.flags)){const e=L(t),i=w[w.length-1];!i||!(2&t.flags)&&e>=L(i)?w.push(t):w.splice(G(e),0,t),t.flags|=1,T()}}function T(){X||(X=V.then(K))}function E(t){(0,r.cy)(t)?x.push(...t):I&&-1===t.id?I.splice(W+1,0,t):1&t.flags||(x.push(t),t.flags|=1),T()}function C(t,e,i=S+1){for(0;i<w.length;i++){const e=w[i];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;0,w.splice(i,1),i--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function M(t){if(x.length){const t=[...new Set(x)].sort(((t,e)=>L(t)-L(e)));if(x.length=0,I)return void I.push(...t);for(I=t,W=0;W<I.length;W++){const t=I[W];0,4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}I=null,W=0}}const L=t=>null==t.id?2&t.flags?-1:1/0:t.id;function K(t){r.tE;try{for(S=0;S<w.length;S++){const t=w[S];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),y(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;S<w.length;S++){const t=w[S];t&&(t.flags&=-2)}S=-1,w.length=0,M(t),X=null,(w.length||x.length)&&K(t)}}let P,Y=[],N=!1;function F(t,e){var i,n;if(P=t,P)P.enabled=!0,Y.forEach((({event:t,args:e})=>P.emit(t,...e))),Y=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null==(n=null==(i=window.navigator)?void 0:i.userAgent)?void 0:n.includes("jsdom"))){const t=e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[];t.push((t=>{F(t,e)})),setTimeout((()=>{P||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,N=!0,Y=[])}),3e3)}else N=!0,Y=[]}let B=null,U=null;function z(t){const e=B;return B=t,U=t&&t.type.__scopeId||null,e}function J(t){U=t}function H(){U=null}const A=t=>j;function j(t,e=B,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&jn(-1);const r=z(e);let a;try{a=t(...i)}finally{z(r),n._d&&jn(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function O(t,e){if(null===B)return t;const i=Kr(B),a=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,l,u=r.MZ]=e[o];t&&((0,r.Tn)(t)&&(t={mounted:t,updated:t}),t.deep&&(0,n.hV)(s),a.push({dir:t,instance:i,value:s,oldValue:void 0,arg:l,modifiers:u}))}return t}function D(t,e,i,r){const a=t.dirs,o=e&&e.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let u=l.dir[r];u&&((0,n.C4)(),Z(u,i,8,[t.el,l,t,e]),(0,n.bl)())}}const Q=Symbol("_vte"),$=t=>t.__isTeleport,q=t=>t&&(t.disabled||""===t.disabled),tt=t=>t&&(t.defer||""===t.defer),et=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,it=t=>"function"===typeof MathMLElement&&t instanceof MathMLElement,nt=(t,e)=>{const i=t&&t.to;if((0,r.Kg)(i)){if(e){const t=e(i);return t}return null}return i},rt={name:"Teleport",__isTeleport:!0,process(t,e,i,n,r,a,o,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:b}}=u,g=q(e.props);let{shapeFlag:y,children:Z,dynamicChildren:_}=e;if(null==t){const t=e.el=m(""),u=e.anchor=m("");f(t,i,n),f(u,i,n);const d=(t,e)=>{16&y&&(r&&r.isCE&&(r.ce._teleportTarget=t),c(Z,t,e,r,a,o,s,l))},h=()=>{const t=e.target=nt(e.props,p),i=ut(t,e,m,f);t&&("svg"!==o&&et(t)?o="svg":"mathml"!==o&&it(t)&&(o="mathml"),g||(d(t,i),lt(e,!1)))};g&&(d(i,u),lt(e,!0)),tt(e.props)?(e.el.__isMounted=!1,Ji((()=>{h(),delete e.el.__isMounted}),a)):h()}else{if(tt(e.props)&&!1===t.el.__isMounted)return void Ji((()=>{rt.process(t,e,i,n,r,a,o,s,l,u)}),a);e.el=t.el,e.targetStart=t.targetStart;const c=e.anchor=t.anchor,f=e.target=t.target,m=e.targetAnchor=t.targetAnchor,b=q(t.props),y=b?i:f,Z=b?c:m;if("svg"===o||et(f)?o="svg":("mathml"===o||it(f))&&(o="mathml"),_?(h(t.dynamicChildren,_,y,r,a,o,s),$i(t,e,!0)):l||d(t,e,y,Z,r,a,o,s,!1),g)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):at(e,i,c,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=nt(e.props,p);t&&at(e,t,null,u,0)}else b&&at(e,f,m,u,1);lt(e,g)}},remove(t,e,i,{um:n,o:{remove:r}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(r(u),r(c)),a&&r(l),16&o){const t=a||!q(h);for(let r=0;r<s.length;r++){const a=s[r];n(a,e,i,t,!!a.dynamicChildren)}}},move:at,hydrate:ot};function at(t,e,i,{o:{insert:n},m:r},a=2){0===a&&n(t.targetAnchor,e,i);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=t,d=2===a;if(d&&n(o,e,i),(!d||q(c))&&16&l)for(let h=0;h<u.length;h++)r(u[h],e,i,2);d&&n(s,e,i)}function ot(t,e,i,n,r,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},d){const h=e.target=nt(e.props,l);if(h){const l=q(e.props),f=h._lpa||h.firstChild;if(16&e.shapeFlag)if(l)e.anchor=d(o(t),e,s(t),i,n,r,a),e.targetStart=f,e.targetAnchor=f&&o(f);else{e.anchor=o(t);let s=f;while(s){if(s&&8===s.nodeType)if("teleport start anchor"===s.data)e.targetStart=s;else if("teleport anchor"===s.data){e.targetAnchor=s,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}s=o(s)}e.targetAnchor||ut(h,e,c,u),d(f&&o(f),e,h,i,n,r,a)}lt(e,l)}return e.anchor&&o(e.anchor)}const st=rt;function lt(t,e){const i=t.ctx;if(i&&i.ut){let n,r;e?(n=t.el,r=t.anchor):(n=t.targetStart,r=t.targetAnchor);while(n&&n!==r)1===n.nodeType&&n.setAttribute("data-v-owner",i.uid),n=n.nextSibling;i.ut()}}function ut(t,e,i,n){const r=e.targetStart=i(""),a=e.targetAnchor=i("");return r[Q]=a,t&&(n(r,t),n(a,t)),a}const ct=Symbol("_leaveCb"),dt=Symbol("_enterCb");function ht(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return be((()=>{t.isMounted=!0})),Ze((()=>{t.isUnmounting=!0})),t}const ft=[Function,Array],pt={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},mt=t=>{const e=t.subTree;return e.component?mt(e.component):e},bt={name:"BaseTransition",props:pt,setup(t,{slots:e}){const i=_r(),r=ht();return()=>{const a=e.default&&xt(e.default(),!0);if(!a||!a.length)return;const o=gt(a),s=(0,n.ux)(t),{mode:l}=s;if(r.isLeaving)return vt(o);const u=wt(o);if(!u)return vt(o);let c=_t(u,s,r,i,(t=>c=t));u.type!==Nn&&St(u,c);let d=i.subTree&&wt(i.subTree);if(d&&d.type!==Nn&&!qn(u,d)&&mt(i).type!==Nn){let t=_t(d,s,r,i);if(St(d,t),"out-in"===l&&u.type!==Nn)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,8&i.job.flags||i.update(),delete t.afterLeave,d=void 0},vt(o);"in-out"===l&&u.type!==Nn?t.delayLeave=(t,e,i)=>{const n=Zt(r,d);n[String(d.key)]=d,t[ct]=()=>{e(),t[ct]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{i(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function gt(t){let e=t[0];if(t.length>1){let i=!1;for(const n of t)if(n.type!==Nn){0,e=n,i=!0;break}}return e}const yt=bt;function Zt(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function _t(t,e,i,n,a){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:g,onAppear:y,onAfterAppear:_,onAppearCancelled:v}=e,w=String(t.key),S=Zt(i,t),x=(t,e)=>{t&&Z(t,n,9,e)},I=(t,e)=>{const i=e[1];x(t,e),(0,r.cy)(t)?t.every((t=>t.length<=1))&&i():t.length<=1&&i()},W={mode:s,persisted:l,beforeEnter(e){let n=u;if(!i.isMounted){if(!o)return;n=g||u}e[ct]&&e[ct](!0);const r=S[w];r&&qn(t,r)&&r.el[ct]&&r.el[ct](),x(n,[e])},enter(t){let e=c,n=d,r=h;if(!i.isMounted){if(!o)return;e=y||c,n=_||d,r=v||h}let a=!1;const s=t[dt]=e=>{a||(a=!0,x(e?r:n,[t]),W.delayedLeave&&W.delayedLeave(),t[dt]=void 0)};e?I(e,[t,s]):s()},leave(e,n){const r=String(t.key);if(e[dt]&&e[dt](!0),i.isUnmounting)return n();x(f,[e]);let a=!1;const o=e[ct]=i=>{a||(a=!0,n(),x(i?b:m,[e]),e[ct]=void 0,S[r]===t&&delete S[r])};S[r]=t,p?I(p,[e,o]):o()},clone(t){const r=_t(t,e,i,n,a);return a&&a(r),r}};return W}function vt(t){if(ne(t))return t=sr(t),t.children=null,t}function wt(t){if(!ne(t))return $(t.type)&&t.children?gt(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:i}=t;if(i){if(16&e)return i[0];if(32&e&&(0,r.Tn)(i.default))return i.default()}}function St(t,e){6&t.shapeFlag&&t.component?(t.transition=e,St(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xt(t,e=!1,i){let n=[],r=0;for(let a=0;a<t.length;a++){let o=t[a];const s=null==i?o.key:String(i)+String(null!=o.key?o.key:a);o.type===Pn?(128&o.patchFlag&&r++,n=n.concat(xt(o.children,e,s))):(e||o.type!==Nn)&&n.push(null!=s?sr(o,{key:s}):o)}if(r>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}function It(t,e){return(0,r.Tn)(t)?(()=>(0,r.X$)({name:t.name},e,{setup:t}))():t}function Wt(){const t=_r();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Vt(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Xt(t){const e=_r(),i=(0,n.IJ)(null);if(e){const n=e.refs===r.MZ?e.refs={}:e.refs;Object.defineProperty(n,t,{enumerable:!0,get:()=>i.value,set:t=>i.value=t})}else 0;const a=i;return a}function kt(t,e,i,a,o=!1){if((0,r.cy)(t))return void t.forEach(((t,n)=>kt(t,e&&((0,r.cy)(e)?e[n]:e),i,a,o)));if(te(a)&&!o)return void(512&a.shapeFlag&&a.type.__asyncResolved&&a.component.subTree.component&&kt(t,e,i,a.component.subTree));const s=4&a.shapeFlag?Kr(a.component):a.el,l=o?null:s,{i:u,r:c}=t;const d=e&&e.r,h=u.refs===r.MZ?u.refs={}:u.refs,f=u.setupState,p=(0,n.ux)(f),m=f===r.MZ?()=>!1:t=>(0,r.$3)(p,t);if(null!=d&&d!==c&&((0,r.Kg)(d)?(h[d]=null,m(d)&&(f[d]=null)):(0,n.i9)(d)&&(d.value=null)),(0,r.Tn)(c))y(c,u,12,[l,h]);else{const e=(0,r.Kg)(c),a=(0,n.i9)(c);if(e||a){const n=()=>{if(t.f){const i=e?m(c)?f[c]:h[c]:c.value;o?(0,r.cy)(i)&&(0,r.TF)(i,s):(0,r.cy)(i)?i.includes(s)||i.push(s):e?(h[c]=[s],m(c)&&(f[c]=h[c])):(c.value=[s],t.k&&(h[t.k]=c.value))}else e?(h[c]=l,m(c)&&(f[c]=l)):a&&(c.value=l,t.k&&(h[t.k]=l))};l?(n.id=-1,Ji(n,i)):n()}else 0}}let Gt=!1;const Rt=()=>{Gt||(Gt=!0)},Tt=t=>t.namespaceURI.includes("svg")&&"foreignObject"!==t.tagName,Et=t=>t.namespaceURI.includes("MathML"),Ct=t=>{if(1===t.nodeType)return Tt(t)?"svg":Et(t)?"mathml":void 0},Mt=t=>8===t.nodeType;function Lt(t){const{mt:e,p:i,o:{patchProp:a,createText:o,nextSibling:s,parentNode:l,remove:c,insert:d,createComment:h}}=t,f=(t,e)=>{if(!e.hasChildNodes())return __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&u("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),i(null,t,e),M(),void(e._vnode=t);p(e.firstChild,t,null,null,null),M(),e._vnode=t},p=(i,n,r,a,c,h=!1)=>{h=h||!!n.dynamicChildren;const f=Mt(i)&&"["===i.data,w=()=>y(i,n,r,a,c,f),{type:S,ref:x,shapeFlag:I,patchFlag:W}=n;let V=i.nodeType;n.el=i,-2===W&&(h=!1,n.dynamicChildren=null);let X=null;switch(S){case Yn:3!==V?""===n.children?(d(n.el=o(""),l(i),i),X=i):X=w():(i.data!==n.children&&(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&u("Hydration text mismatch in",i.parentNode,`\n  - rendered on server: ${JSON.stringify(i.data)}\n  - expected on client: ${JSON.stringify(n.children)}`),Rt(),i.data=n.children),X=s(i));break;case Nn:v(i)?(X=s(i),_(n.el=i.content.firstChild,i,r)):X=8!==V||f?w():s(i);break;case Fn:if(f&&(i=s(i),V=i.nodeType),1===V||3===V){X=i;const t=!n.children.length;for(let e=0;e<n.staticCount;e++)t&&(n.children+=1===X.nodeType?X.outerHTML:X.data),e===n.staticCount-1&&(n.anchor=X),X=s(X);return f?s(X):X}w();break;case Pn:X=f?g(i,n,r,a,c,h):w();break;default:if(1&I)X=1===V&&n.type.toLowerCase()===i.tagName.toLowerCase()||v(i)?m(i,n,r,a,c,h):w();else if(6&I){n.slotScopeIds=c;const t=l(i);if(X=f?Z(i):Mt(i)&&"teleport start"===i.data?Z(i,i.data,"teleport end"):s(i),e(n,t,null,r,a,Ct(t),h),te(n)&&!n.type.__asyncResolved){let e;f?(e=rr(Pn),e.anchor=X?X.previousSibling:t.lastChild):e=3===i.nodeType?lr(""):rr("div"),e.el=i,n.component.subTree=e}}else 64&I?X=8!==V?w():n.type.hydrate(i,n,r,a,c,h,t,b):128&I?X=n.type.hydrate(i,n,r,a,Ct(l(i)),c,h,t,p):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&u("Invalid HostVNode type:",S,`(${typeof S})`)}return null!=x&&kt(x,null,a,n),X},m=(t,e,i,o,s,l)=>{l=l||!!e.dynamicChildren;const{type:d,props:h,patchFlag:f,shapeFlag:p,dirs:m,transition:g}=e,y="input"===d||"option"===d;if(y||-1!==f){m&&D(e,null,i,"created");let d,Z=!1;if(v(t)){Z=Qi(null,g)&&i&&i.vnode.props&&i.vnode.props.appear;const n=t.content.firstChild;if(Z){const t=n.getAttribute("class");t&&(n.$cls=t),g.beforeEnter(n)}_(n,t,i),e.el=t=n}if(16&p&&(!h||!h.innerHTML&&!h.textContent)){let n=b(t.firstChild,e,t,i,o,s,l),r=!1;while(n){Jt(t,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!r&&(u("Hydration children mismatch on",t,"\nServer rendered element contains more child nodes than client vdom."),r=!0),Rt());const e=n;n=n.nextSibling,c(e)}}else if(8&p){let i=e.children;"\n"!==i[0]||"PRE"!==t.tagName&&"TEXTAREA"!==t.tagName||(i=i.slice(1)),t.textContent!==i&&(Jt(t,0)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&u("Hydration text content mismatch on",t,`\n  - rendered on server: ${t.textContent}\n  - expected on client: ${e.children}`),Rt()),t.textContent=e.children)}if(h)if(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__||y||!l||48&f){const n=t.tagName.includes("-");for(const o in h)!__VUE_PROD_HYDRATION_MISMATCH_DETAILS__||m&&m.some((t=>t.dir.created))||!Kt(t,o,h[o],e,i)||Rt(),(y&&(o.endsWith("value")||"indeterminate"===o)||(0,r.Mp)(o)&&!(0,r.SU)(o)||"."===o[0]||n)&&a(t,o,null,h[o],void 0,i)}else if(h.onClick)a(t,"onClick",null,h.onClick,void 0,i);else if(4&f&&(0,n.g8)(h.style))for(const t in h.style)h.style[t];(d=h&&h.onVnodeBeforeMount)&&mr(d,i,e),m&&D(e,null,i,"beforeMount"),((d=h&&h.onVnodeMounted)||m||Z)&&Mn((()=>{d&&mr(d,i,e),Z&&g.enter(t),m&&D(e,null,i,"mounted")}),o)}return t.nextSibling},b=(t,e,n,r,a,l,c)=>{c=c||!!e.dynamicChildren;const h=e.children,f=h.length;let m=!1;for(let b=0;b<f;b++){const e=c?h[b]:h[b]=dr(h[b]),g=e.type===Yn;t?(g&&!c&&b+1<f&&dr(h[b+1]).type===Yn&&(d(o(t.data.slice(e.children.length)),n,s(t)),t.data=e.children),t=p(t,e,r,a,l,c)):g&&!e.children?d(e.el=o(""),n):(Jt(n,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!m&&(u("Hydration children mismatch on",n,"\nServer rendered element contains fewer child nodes than client vdom."),m=!0),Rt()),i(null,e,n,null,r,a,Ct(n),l))}return t},g=(t,e,i,n,r,a)=>{const{slotScopeIds:o}=e;o&&(r=r?r.concat(o):o);const u=l(t),c=b(s(t),e,u,i,n,r,a);return c&&Mt(c)&&"]"===c.data?s(e.anchor=c):(Rt(),d(e.anchor=h("]"),u,c),c)},y=(t,e,n,r,a,o)=>{if(Jt(t.parentElement,1)||(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&u("Hydration node mismatch:\n- rendered on server:",t,3===t.nodeType?"(text)":Mt(t)&&"["===t.data?"(start of fragment)":"","\n- expected on client:",e.type),Rt()),e.el=null,o){const e=Z(t);while(1){const i=s(t);if(!i||i===e)break;c(i)}}const d=s(t),h=l(t);return c(t),i(null,e,h,d,n,r,Ct(h),a),n&&(n.vnode.el=e.el,Sn(n,e.el)),d},Z=(t,e="[",i="]")=>{let n=0;while(t)if(t=s(t),t&&Mt(t)&&(t.data===e&&n++,t.data===i)){if(0===n)return s(t);n--}return t},_=(t,e,i)=>{const n=e.parentNode;n&&n.replaceChild(t,e);let r=i;while(r)r.vnode.el===e&&(r.vnode.el=r.subTree.el=t),r=r.parent},v=t=>1===t.nodeType&&"TEMPLATE"===t.tagName;return[f,p]}function Kt(t,e,i,n,a){let o,s,l,c;if("class"===e)t.$cls?(l=t.$cls,delete t.$cls):l=t.getAttribute("class"),c=(0,r.C4)(i),Yt(Pt(l||""),Pt(c))||(o=2,s="class");else if("style"===e){l=t.getAttribute("style")||"",c=(0,r.Kg)(i)?i:(0,r.tl)((0,r.Tr)(i));const e=Nt(l),u=Nt(c);if(n.dirs)for(const{dir:t,value:i}of n.dirs)"show"!==t.name||i||u.set("display","none");a&&Bt(a,n,u),Ft(e,u)||(o=3,s="style")}else(t instanceof SVGElement&&(0,r.z3)(e)||t instanceof HTMLElement&&((0,r.W0)(e)||(0,r.wQ)(e)))&&((0,r.W0)(e)?(l=t.hasAttribute(e),c=(0,r.Y2)(i)):null==i?(l=t.hasAttribute(e),c=!1):(l=t.hasAttribute(e)?t.getAttribute(e):"value"===e&&"TEXTAREA"===t.tagName&&t.value,c=!!(0,r.Vp)(i)&&String(i)),l!==c&&(o=4,s=e));if(null!=o&&!Jt(t,o)){const e=t=>!1===t?"(not rendered)":`${s}="${t}"`,i=`Hydration ${zt[o]} mismatch on`,n=`\n  - rendered on server: ${e(l)}\n  - expected on client: ${e(c)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;return u(i,t,n),!0}return!1}function Pt(t){return new Set(t.trim().split(/\s+/))}function Yt(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Nt(t){const e=new Map;for(const i of t.split(";")){let[t,n]=i.split(":");t=t.trim(),n=n&&n.trim(),t&&n&&e.set(t,n)}return e}function Ft(t,e){if(t.size!==e.size)return!1;for(const[i,n]of t)if(n!==e.get(i))return!1;return!0}function Bt(t,e,i){const n=t.subTree;if(t.getCssVars&&(e===n||n&&n.type===Pn&&n.children.includes(e))){const e=t.getCssVars();for(const t in e){const n=(0,r.pU)(e[t]);i.set(`--${(0,r.XW)(t,!1)}`,n)}}e===n&&t.parent&&Bt(t.parent,t.vnode,i)}const Ut="data-allow-mismatch",zt={[0]:"text",[1]:"children",[2]:"class",[3]:"style",[4]:"attribute"};function Jt(t,e){if(0===e||1===e)while(t&&!t.hasAttribute(Ut))t=t.parentElement;const i=t&&t.getAttribute(Ut);if(null==i)return!1;if(""===i)return!0;{const t=i.split(",");return!(0!==e||!t.includes("children"))||t.includes(zt[e])}}const Ht=(0,r.We)().requestIdleCallback||(t=>setTimeout(t,1)),At=(0,r.We)().cancelIdleCallback||(t=>clearTimeout(t)),jt=(t=1e4)=>e=>{const i=Ht(e,{timeout:t});return()=>At(i)};function Ot(t){const{top:e,left:i,bottom:n,right:r}=t.getBoundingClientRect(),{innerHeight:a,innerWidth:o}=window;return(e>0&&e<a||n>0&&n<a)&&(i>0&&i<o||r>0&&r<o)}const Dt=t=>(e,i)=>{const n=new IntersectionObserver((t=>{for(const i of t)if(i.isIntersecting){n.disconnect(),e();break}}),t);return i((t=>{if(t instanceof Element)return Ot(t)?(e(),n.disconnect(),!1):void n.observe(t)})),()=>n.disconnect()},Qt=t=>e=>{if(t){const i=matchMedia(t);if(!i.matches)return i.addEventListener("change",e,{once:!0}),()=>i.removeEventListener("change",e);e()}},$t=(t=[])=>(e,i)=>{(0,r.Kg)(t)&&(t=[t]);let n=!1;const a=t=>{n||(n=!0,o(),e(),t.target.dispatchEvent(new t.constructor(t.type,t)))},o=()=>{i((e=>{for(const i of t)e.removeEventListener(i,a)}))};return i((e=>{for(const i of t)e.addEventListener(i,a,{once:!0})})),o};function qt(t,e){if(Mt(t)&&"["===t.data){let i=1,n=t.nextSibling;while(n){if(1===n.nodeType){const t=e(n);if(!1===t)break}else if(Mt(n))if("]"===n.data){if(0===--i)break}else"["===n.data&&i++;n=n.nextSibling}}else e(t)}const te=t=>!!t.type.__asyncLoader;function ee(t){(0,r.Tn)(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:a,delay:o=200,hydrate:s,timeout:l,suspensible:u=!0,onError:c}=t;let d,h=null,f=0;const p=()=>(f++,h=null,m()),m=()=>{let t;return h||(t=h=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),c)return new Promise(((e,i)=>{const n=()=>e(p()),r=()=>i(t);c(t,n,r,f+1)}));throw t})).then((e=>t!==h&&h?h:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),d=e,e))))};return It({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(t,e,i){let n=!1;(e.bu||(e.bu=[])).push((()=>n=!0));const r=()=>{n||i()},a=s?()=>{const i=s(r,(e=>qt(t,e)));i&&(e.bum||(e.bum=[])).push(i)}:r;d?a():m().then((()=>!e.isUnmounted&&a()))},get __asyncResolved(){return d},setup(){const t=Zr;if(Vt(t),d)return()=>ie(d,t);const e=e=>{h=null,_(e,t,13,!a)};if(u&&t.suspense||Xr)return m().then((e=>()=>ie(e,t))).catch((t=>(e(t),()=>a?rr(a,{error:t}):null)));const r=(0,n.KR)(!1),s=(0,n.KR)(),c=(0,n.KR)(!!o);return o&&setTimeout((()=>{c.value=!1}),o),null!=l&&setTimeout((()=>{if(!r.value&&!s.value){const t=new Error(`Async component timed out after ${l}ms.`);e(t),s.value=t}}),l),m().then((()=>{r.value=!0,t.parent&&ne(t.parent.vnode)&&t.parent.update()})).catch((t=>{e(t),s.value=t})),()=>r.value&&d?ie(d,t):s.value&&a?rr(a,{error:s.value}):i&&!c.value?rr(i):void 0}})}function ie(t,e){const{ref:i,props:n,children:r,ce:a}=e.vnode,o=rr(t,n,r);return o.ref=i,o.ce=a,delete e.vnode.ce,o}const ne=t=>t.type.__isKeepAlive,re={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=_r(),n=i.ctx;if(!n.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const a=new Map,o=new Set;let s=null;const l=i.suspense,{renderer:{p:u,m:c,um:d,o:{createElement:h}}}=n,f=h("div");function p(t){de(t),d(t,i,l,!0)}function m(t){a.forEach(((e,i)=>{const n=Nr(e.type);n&&!t(n)&&b(i)}))}function b(t){const e=a.get(t);!e||s&&qn(e,s)?s&&de(s):p(e),a.delete(t),o.delete(t)}n.activate=(t,e,i,n,a)=>{const o=t.component;c(t,e,i,0,l),u(o.vnode,t,e,i,o,l,n,t.slotScopeIds,a),Ji((()=>{o.isDeactivated=!1,o.a&&(0,r.DY)(o.a);const e=t.props&&t.props.onVnodeMounted;e&&mr(e,o.parent,t)}),l)},n.deactivate=t=>{const e=t.component;en(e.m),en(e.a),c(t,f,null,1,l),Ji((()=>{e.da&&(0,r.DY)(e.da);const i=t.props&&t.props.onVnodeUnmounted;i&&mr(i,e.parent,t),e.isDeactivated=!0}),l)},ln((()=>[t.include,t.exclude]),(([t,e])=>{t&&m((e=>oe(t,e))),e&&m((t=>!oe(e,t)))}),{flush:"post",deep:!0});let g=null;const y=()=>{null!=g&&(xn(i.subTree.type)?Ji((()=>{a.set(g,he(i.subTree))}),i.subTree.suspense):a.set(g,he(i.subTree)))};return be(y),ye(y),Ze((()=>{a.forEach((t=>{const{subTree:e,suspense:n}=i,r=he(e);if(t.type!==r.type||t.key!==r.key)p(t);else{de(r);const t=r.component.da;t&&Ji(t,n)}}))})),()=>{if(g=null,!e.default)return s=null;const i=e.default(),n=i[0];if(i.length>1)return s=null,i;if(!$n(n)||!(4&n.shapeFlag)&&!(128&n.shapeFlag))return s=null,n;let r=he(n);if(r.type===Nn)return s=null,r;const l=r.type,u=Nr(te(r)?r.type.__asyncResolved||{}:l),{include:c,exclude:d,max:h}=t;if(c&&(!u||!oe(c,u))||d&&u&&oe(d,u))return r.shapeFlag&=-257,s=r,n;const f=null==r.key?l:r.key,p=a.get(f);return r.el&&(r=sr(r),128&n.shapeFlag&&(n.ssContent=r)),g=f,p?(r.el=p.el,r.component=p.component,r.transition&&St(r,r.transition),r.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),h&&o.size>parseInt(h,10)&&b(o.values().next().value)),r.shapeFlag|=256,s=r,xn(n.type)?n:r}}},ae=re;function oe(t,e){return(0,r.cy)(t)?t.some((t=>oe(t,e))):(0,r.Kg)(t)?t.split(",").includes(e):!!(0,r.gd)(t)&&(t.lastIndex=0,t.test(e))}function se(t,e){ue(t,"a",e)}function le(t,e){ue(t,"da",e)}function ue(t,e,i=Zr){const n=t.__wdc||(t.__wdc=()=>{let e=i;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(fe(e,n,i),i){let t=i.parent;while(t&&t.parent)ne(t.parent.vnode)&&ce(n,e,i,t),t=t.parent}}function ce(t,e,i,n){const a=fe(e,t,n,!0);_e((()=>{(0,r.TF)(n[e],a)}),i)}function de(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function he(t){return 128&t.shapeFlag?t.ssContent:t}function fe(t,e,i=Zr,r=!1){if(i){const a=i[t]||(i[t]=[]),o=e.__weh||(e.__weh=(...r)=>{(0,n.C4)();const a=Sr(i),o=Z(e,i,t,r);return a(),(0,n.bl)(),o});return r?a.unshift(o):a.push(o),o}}const pe=t=>(e,i=Zr)=>{Xr&&"sp"!==t||fe(t,((...t)=>e(...t)),i)},me=pe("bm"),be=pe("m"),ge=pe("bu"),ye=pe("u"),Ze=pe("bum"),_e=pe("um"),ve=pe("sp"),we=pe("rtg"),Se=pe("rtc");function xe(t,e=Zr){fe("ec",t,e)}const Ie="components",We="directives";function Ve(t,e){return Re(Ie,t,!0,e)||t}const Xe=Symbol.for("v-ndc");function ke(t){return(0,r.Kg)(t)?Re(Ie,t,!1)||t:t||Xe}function Ge(t){return Re(We,t)}function Re(t,e,i=!0,n=!1){const a=B||Zr;if(a){const i=a.type;if(t===Ie){const t=Nr(i,!1);if(t&&(t===e||t===(0,r.PT)(e)||t===(0,r.ZH)((0,r.PT)(e))))return i}const o=Te(a[t]||i[t],e)||Te(a.appContext[t],e);return!o&&n?i:o}}function Te(t,e){return t&&(t[e]||t[(0,r.PT)(e)]||t[(0,r.ZH)((0,r.PT)(e))])}function Ee(t,e,i,a){let o;const s=i&&i[a],l=(0,r.cy)(t);if(l||(0,r.Kg)(t)){const i=l&&(0,n.g8)(t);let r=!1,a=!1;i&&(r=!(0,n.fE)(t),a=(0,n.Tm)(t),t=(0,n.qA)(t)),o=new Array(t.length);for(let l=0,u=t.length;l<u;l++)o[l]=e(r?a?(0,n.a1)((0,n.lJ)(t[l])):(0,n.lJ)(t[l]):t[l],l,void 0,s&&s[l])}else if("number"===typeof t){0,o=new Array(t);for(let i=0;i<t;i++)o[i]=e(i+1,i,void 0,s&&s[i])}else if((0,r.Gv)(t))if(t[Symbol.iterator])o=Array.from(t,((t,i)=>e(t,i,void 0,s&&s[i])));else{const i=Object.keys(t);o=new Array(i.length);for(let n=0,r=i.length;n<r;n++){const r=i[n];o[n]=e(t[r],r,n,s&&s[n])}}else o=[];return i&&(i[a]=o),o}function Ce(t,e){for(let i=0;i<e.length;i++){const n=e[i];if((0,r.cy)(n))for(let e=0;e<n.length;e++)t[n[e].name]=n[e].fn;else n&&(t[n.name]=n.key?(...t)=>{const e=n.fn(...t);return e&&(e.key=n.key),e}:n.fn)}return t}function Me(t,e,i={},n,a){if(B.ce||B.parent&&te(B.parent)&&B.parent.ce)return"default"!==e&&(i.name=e),zn(),Qn(Pn,null,[rr("slot",i,n&&n())],64);let o=t[e];o&&o._c&&(o._d=!1),zn();const s=o&&Le(o(i)),l=i.key||s&&s.key,u=Qn(Pn,{key:(l&&!(0,r.Bm)(l)?l:`_${e}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&1===t._?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function Le(t){return t.some((t=>!$n(t)||t.type!==Nn&&!(t.type===Pn&&!Le(t.children))))?t:null}function Ke(t,e){const i={};for(const n in t)i[e&&/[A-Z]/.test(n)?`on:${n}`:(0,r.rU)(n)]=t[n];return i}const Pe=t=>t?Ir(t)?Kr(t):Pe(t.parent):null,Ye=(0,r.X$)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pe(t.parent),$root:t=>Pe(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ui(t),$forceUpdate:t=>t.f||(t.f=()=>{R(t.update)}),$nextTick:t=>t.n||(t.n=k.bind(t.proxy)),$watch:t=>cn.bind(t)}),Ne=(t,e)=>t!==r.MZ&&!t.__isScriptSetup&&(0,r.$3)(t,e),Fe={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:i,setupState:a,data:o,props:s,accessCache:l,type:u,appContext:c}=t;let d;if("$"!==e[0]){const n=l[e];if(void 0!==n)switch(n){case 1:return a[e];case 2:return o[e];case 4:return i[e];case 3:return s[e]}else{if(Ne(a,e))return l[e]=1,a[e];if(o!==r.MZ&&(0,r.$3)(o,e))return l[e]=2,o[e];if((d=t.propsOptions[0])&&(0,r.$3)(d,e))return l[e]=3,s[e];if(i!==r.MZ&&(0,r.$3)(i,e))return l[e]=4,i[e];ri&&(l[e]=0)}}const h=Ye[e];let f,p;return h?("$attrs"===e&&(0,n.u4)(t.attrs,"get",""),h(t)):(f=u.__cssModules)&&(f=f[e])?f:i!==r.MZ&&(0,r.$3)(i,e)?(l[e]=4,i[e]):(p=c.config.globalProperties,(0,r.$3)(p,e)?p[e]:void 0)},set({_:t},e,i){const{data:n,setupState:a,ctx:o}=t;return Ne(a,e)?(a[e]=i,!0):n!==r.MZ&&(0,r.$3)(n,e)?(n[e]=i,!0):!(0,r.$3)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:a,propsOptions:o}},s){let l;return!!i[s]||t!==r.MZ&&(0,r.$3)(t,s)||Ne(e,s)||(l=o[0])&&(0,r.$3)(l,s)||(0,r.$3)(n,s)||(0,r.$3)(Ye,s)||(0,r.$3)(a.config.globalProperties,s)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:(0,r.$3)(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};const Be=(0,r.X$)({},Fe,{get(t,e){if(e!==Symbol.unscopables)return Fe.get(t,e,t)},has(t,e){const i="_"!==e[0]&&!(0,r.BH)(e);return i}});function Ue(){return null}function ze(){return null}function Je(t){0}function He(t){0}function Ae(){return null}function je(){0}function Oe(t,e){return null}function De(){return $e("useSlots").slots}function Qe(){return $e("useAttrs").attrs}function $e(t){const e=_r();return e.setupContext||(e.setupContext=Lr(e))}function qe(t){return(0,r.cy)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}function ti(t,e){const i=qe(t);for(const n in e){if(n.startsWith("__skip"))continue;let t=i[n];t?(0,r.cy)(t)||(0,r.Tn)(t)?t=i[n]={type:t,default:e[n]}:t.default=e[n]:null===t&&(t=i[n]={default:e[n]}),t&&e[`__skip_${n}`]&&(t.skipFactory=!0)}return i}function ei(t,e){return t&&e?(0,r.cy)(t)&&(0,r.cy)(e)?t.concat(e):(0,r.X$)({},qe(t),qe(e)):t||e}function ii(t,e){const i={};for(const n in t)e.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>t[n]});return i}function ni(t){const e=_r();let i=t();return xr(),(0,r.yL)(i)&&(i=i.catch((t=>{throw Sr(e),t}))),[i,()=>Sr(e)]}let ri=!0;function ai(t){const e=ui(t),i=t.proxy,a=t.ctx;ri=!1,e.beforeCreate&&si(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:b,activated:g,deactivated:y,beforeDestroy:Z,beforeUnmount:_,destroyed:v,unmounted:w,render:S,renderTracked:x,renderTriggered:I,errorCaptured:W,serverPrefetch:V,expose:X,inheritAttrs:k,components:G,directives:R,filters:T}=e,E=null;if(d&&oi(d,a,E),l)for(const n in l){const t=l[n];(0,r.Tn)(t)&&(a[n]=t.bind(i))}if(o){0;const e=o.call(i,i);0,(0,r.Gv)(e)&&(t.data=(0,n.Kh)(e))}if(ri=!0,s)for(const n in s){const t=s[n],e=(0,r.Tn)(t)?t.bind(i,i):(0,r.Tn)(t.get)?t.get.bind(i,i):r.tE;0;const o=!(0,r.Tn)(t)&&(0,r.Tn)(t.set)?t.set.bind(i):r.tE,l=Ur({get:e,set:o});Object.defineProperty(a,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(u)for(const n in u)li(u[n],a,i,n);if(c){const t=(0,r.Tn)(c)?c.call(i):c;Reflect.ownKeys(t).forEach((e=>{Si(e,t[e])}))}function C(t,e){(0,r.cy)(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(h&&si(h,t,"c"),C(me,f),C(be,p),C(ge,m),C(ye,b),C(se,g),C(le,y),C(xe,W),C(Se,x),C(we,I),C(Ze,_),C(_e,w),C(ve,V),(0,r.cy)(X))if(X.length){const e=t.exposed||(t.exposed={});X.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e,enumerable:!0})}))}else t.exposed||(t.exposed={});S&&t.render===r.tE&&(t.render=S),null!=k&&(t.inheritAttrs=k),G&&(t.components=G),R&&(t.directives=R),V&&Vt(t)}function oi(t,e,i=r.tE){(0,r.cy)(t)&&(t=pi(t));for(const a in t){const i=t[a];let o;o=(0,r.Gv)(i)?"default"in i?xi(i.from||a,i.default,!0):xi(i.from||a):xi(i),(0,n.i9)(o)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[a]=o}}function si(t,e,i){Z((0,r.cy)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function li(t,e,i,n){let a=n.includes(".")?dn(i,n):()=>i[n];if((0,r.Kg)(t)){const i=e[t];(0,r.Tn)(i)&&ln(a,i)}else if((0,r.Tn)(t))ln(a,t.bind(i));else if((0,r.Gv)(t))if((0,r.cy)(t))t.forEach((t=>li(t,e,i,n)));else{const n=(0,r.Tn)(t.handler)?t.handler.bind(i):e[t.handler];(0,r.Tn)(n)&&ln(a,n,t)}else 0}function ui(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let u;return l?u=l:a.length||i||n?(u={},a.length&&a.forEach((t=>ci(u,t,s,!0))),ci(u,e,s)):u=e,(0,r.Gv)(e)&&o.set(e,u),u}function ci(t,e,i,n=!1){const{mixins:r,extends:a}=e;a&&ci(t,a,i,!0),r&&r.forEach((e=>ci(t,e,i,!0)));for(const o in e)if(n&&"expose"===o);else{const n=di[o]||i&&i[o];t[o]=n?n(t[o],e[o]):e[o]}return t}const di={data:hi,props:gi,emits:gi,methods:bi,computed:bi,beforeCreate:mi,created:mi,beforeMount:mi,mounted:mi,beforeUpdate:mi,updated:mi,beforeDestroy:mi,beforeUnmount:mi,destroyed:mi,unmounted:mi,activated:mi,deactivated:mi,errorCaptured:mi,serverPrefetch:mi,components:bi,directives:bi,watch:yi,provide:hi,inject:fi};function hi(t,e){return e?t?function(){return(0,r.X$)((0,r.Tn)(t)?t.call(this,this):t,(0,r.Tn)(e)?e.call(this,this):e)}:e:t}function fi(t,e){return bi(pi(t),pi(e))}function pi(t){if((0,r.cy)(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function mi(t,e){return t?[...new Set([].concat(t,e))]:e}function bi(t,e){return t?(0,r.X$)(Object.create(null),t,e):e}function gi(t,e){return t?(0,r.cy)(t)&&(0,r.cy)(e)?[...new Set([...t,...e])]:(0,r.X$)(Object.create(null),qe(t),qe(null!=e?e:{})):e}function yi(t,e){if(!t)return e;if(!e)return t;const i=(0,r.X$)(Object.create(null),t);for(const n in e)i[n]=mi(t[n],e[n]);return i}function Zi(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _i=0;function vi(t,e){return function(i,n=null){(0,r.Tn)(i)||(i=(0,r.X$)({},i)),null==n||(0,r.Gv)(n)||(n=null);const a=Zi(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:_i++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:jr,get config(){return a.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,r.Tn)(t.install)?(o.add(t),t.install(u,...e)):(0,r.Tn)(t)&&(o.add(t),t(u,...e))),u},mixin(t){return a.mixins.includes(t)||a.mixins.push(t),u},component(t,e){return e?(a.components[t]=e,u):a.components[t]},directive(t,e){return e?(a.directives[t]=e,u):a.directives[t]},mount(r,o,s){if(!l){0;const c=u._ceVNode||rr(i,n);return c.appContext=a,!0===s?s="svg":!1===s&&(s=void 0),o&&e?e(c,r):t(c,r,s),l=!0,u._container=r,r.__vue_app__=u,Kr(c.component)}},onUnmount(t){s.push(t)},unmount(){l&&(Z(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(t,e){return a.provides[t]=e,u},runWithContext(t){const e=wi;wi=u;try{return t()}finally{wi=e}}};return u}}let wi=null;function Si(t,e){if(Zr){let i=Zr.provides;const n=Zr.parent&&Zr.parent.provides;n===i&&(i=Zr.provides=Object.create(n)),i[t]=e}else 0}function xi(t,e,i=!1){const n=_r();if(n||wi){let a=wi?wi._context.provides:n?null==n.parent||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return i&&(0,r.Tn)(e)?e.call(n&&n.proxy):e}else 0}function Ii(){return!(!_r()&&!wi)}const Wi={},Vi=()=>Object.create(Wi),Xi=t=>Object.getPrototypeOf(t)===Wi;function ki(t,e,i,r=!1){const a={},o=Vi();t.propsDefaults=Object.create(null),Ri(t,e,a,o);for(const n in t.propsOptions[0])n in a||(a[n]=void 0);i?t.props=r?a:(0,n.Gc)(a):t.type.props?t.props=a:t.props=o,t.attrs=o}function Gi(t,e,i,a){const{props:o,attrs:s,vnode:{patchFlag:l}}=t,u=(0,n.ux)(o),[c]=t.propsOptions;let d=!1;if(!(a||l>0)||16&l){let n;Ri(t,e,o,s)&&(d=!0);for(const a in u)e&&((0,r.$3)(e,a)||(n=(0,r.Tg)(a))!==a&&(0,r.$3)(e,n))||(c?!i||void 0===i[a]&&void 0===i[n]||(o[a]=Ti(c,u,a,void 0,t,!0)):delete o[a]);if(s!==u)for(const t in s)e&&(0,r.$3)(e,t)||(delete s[t],d=!0)}else if(8&l){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let a=i[n];if(bn(t.emitsOptions,a))continue;const l=e[a];if(c)if((0,r.$3)(s,a))l!==s[a]&&(s[a]=l,d=!0);else{const e=(0,r.PT)(a);o[e]=Ti(c,u,e,l,t,!1)}else l!==s[a]&&(s[a]=l,d=!0)}}d&&(0,n.hZ)(t.attrs,"set","")}function Ri(t,e,i,a){const[o,s]=t.propsOptions;let l,u=!1;if(e)for(let n in e){if((0,r.SU)(n))continue;const c=e[n];let d;o&&(0,r.$3)(o,d=(0,r.PT)(n))?s&&s.includes(d)?(l||(l={}))[d]=c:i[d]=c:bn(t.emitsOptions,n)||n in a&&c===a[n]||(a[n]=c,u=!0)}if(s){const e=(0,n.ux)(i),a=l||r.MZ;for(let n=0;n<s.length;n++){const l=s[n];i[l]=Ti(o,e,l,a[l],t,!(0,r.$3)(a,l))}}return u}function Ti(t,e,i,n,a,o){const s=t[i];if(null!=s){const t=(0,r.$3)(s,"default");if(t&&void 0===n){const t=s.default;if(s.type!==Function&&!s.skipFactory&&(0,r.Tn)(t)){const{propsDefaults:r}=a;if(i in r)n=r[i];else{const o=Sr(a);n=r[i]=t.call(null,e),o()}}else n=t;a.ce&&a.ce._setProp(i,n)}s[0]&&(o&&!t?n=!1:!s[1]||""!==n&&n!==(0,r.Tg)(i)||(n=!0))}return n}const Ei=new WeakMap;function Ci(t,e,i=!1){const n=i?Ei:e.propsCache,a=n.get(t);if(a)return a;const o=t.props,s={},l=[];let u=!1;if(!(0,r.Tn)(t)){const n=t=>{u=!0;const[i,n]=Ci(t,e,!0);(0,r.X$)(s,i),n&&l.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!o&&!u)return(0,r.Gv)(t)&&n.set(t,r.Oj),r.Oj;if((0,r.cy)(o))for(let d=0;d<o.length;d++){0;const t=(0,r.PT)(o[d]);Mi(t)&&(s[t]=r.MZ)}else if(o){0;for(const t in o){const e=(0,r.PT)(t);if(Mi(e)){const i=o[t],n=s[e]=(0,r.cy)(i)||(0,r.Tn)(i)?{type:i}:(0,r.X$)({},i),a=n.type;let u=!1,c=!0;if((0,r.cy)(a))for(let t=0;t<a.length;++t){const e=a[t],i=(0,r.Tn)(e)&&e.name;if("Boolean"===i){u=!0;break}"String"===i&&(c=!1)}else u=(0,r.Tn)(a)&&"Boolean"===a.name;n[0]=u,n[1]=c,(u||(0,r.$3)(n,"default"))&&l.push(e)}}}const c=[s,l];return(0,r.Gv)(t)&&n.set(t,c),c}function Mi(t){return"$"!==t[0]&&!(0,r.SU)(t)}const Li=t=>"_"===t||"__"===t||"_ctx"===t||"$stable"===t,Ki=t=>(0,r.cy)(t)?t.map(dr):[dr(t)],Pi=(t,e,i)=>{if(e._n)return e;const n=j(((...t)=>Ki(e(...t))),i);return n._c=!1,n},Yi=(t,e,i)=>{const n=t._ctx;for(const a in t){if(Li(a))continue;const i=t[a];if((0,r.Tn)(i))e[a]=Pi(a,i,n);else if(null!=i){0;const t=Ki(i);e[a]=()=>t}}},Ni=(t,e)=>{const i=Ki(e);t.slots.default=()=>i},Fi=(t,e,i)=>{for(const n in e)!i&&Li(n)||(t[n]=e[n])},Bi=(t,e,i)=>{const n=t.slots=Vi();if(32&t.vnode.shapeFlag){const t=e.__;t&&(0,r.yQ)(n,"__",t,!0);const a=e._;a?(Fi(n,e,i),i&&(0,r.yQ)(n,"_",a,!0)):Yi(e,n)}else e&&Ni(t,e)},Ui=(t,e,i)=>{const{vnode:n,slots:a}=t;let o=!0,s=r.MZ;if(32&n.shapeFlag){const t=e._;t?i&&1===t?o=!1:Fi(a,e,i):(o=!e.$stable,Yi(e,a)),s=e}else e&&(Ni(t,e),s={default:1});if(o)for(const r in a)Li(r)||null!=s[r]||delete a[r]};function zi(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,r.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Ji=Mn;function Hi(t){return ji(t)}function Ai(t){return ji(t,Lt)}function ji(t,e){zi();const i=(0,r.We)();i.__VUE__=!0;const{insert:a,remove:o,patchProp:s,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=r.tE,insertStaticContent:b}=t,g=(t,e,i,n=null,r=null,a=null,o=void 0,s=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!qn(t,e)&&(n=j(t),U(t,r,a,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=e;switch(u){case Yn:y(t,e,i,n);break;case Nn:Z(t,e,i,n);break;case Fn:null==t&&_(e,i,n,o);break;case Pn:G(t,e,i,n,r,a,o,s,l);break;default:1&d?S(t,e,i,n,r,a,o,s,l):6&d?T(t,e,i,n,r,a,o,s,l):(64&d||128&d)&&u.process(t,e,i,n,r,a,o,s,l,q)}null!=c&&r?kt(c,t&&t.ref,a,e||t,!e):null==c&&t&&null!=t.ref&&kt(t.ref,null,a,t,!0)},y=(t,e,i,n)=>{if(null==t)a(e.el=u(e.children),i,n);else{const i=e.el=t.el;e.children!==t.children&&d(i,e.children)}},Z=(t,e,i,n)=>{null==t?a(e.el=c(e.children||""),i,n):e.el=t.el},_=(t,e,i,n)=>{[t.el,t.anchor]=b(t.children,e,i,n,t.el,t.anchor)},v=({el:t,anchor:e},i,n)=>{let r;while(t&&t!==e)r=p(t),a(t,i,n),t=r;a(e,i,n)},w=({el:t,anchor:e})=>{let i;while(t&&t!==e)i=p(t),o(t),t=i;o(e)},S=(t,e,i,n,r,a,o,s,l)=>{"svg"===e.type?o="svg":"math"===e.type&&(o="mathml"),null==t?x(e,i,n,r,a,o,s,l):V(t,e,r,a,o,s,l)},x=(t,e,i,n,o,u,c,d)=>{let f,p;const{props:m,shapeFlag:b,transition:g,dirs:y}=t;if(f=t.el=l(t.type,u,m&&m.is,m),8&b?h(f,t.children):16&b&&W(t.children,f,null,n,o,Oi(t,u),c,d),y&&D(t,null,n,"created"),I(f,t,t.scopeId,c,n),m){for(const t in m)"value"===t||(0,r.SU)(t)||s(f,t,null,m[t],u,n);"value"in m&&s(f,"value",null,m.value,u),(p=m.onVnodeBeforeMount)&&mr(p,n,t)}y&&D(t,null,n,"beforeMount");const Z=Qi(o,g);Z&&g.beforeEnter(f),a(f,e,i),((p=m&&m.onVnodeMounted)||Z||y)&&Ji((()=>{p&&mr(p,n,t),Z&&g.enter(f),y&&D(t,null,n,"mounted")}),o)},I=(t,e,i,n,r)=>{if(i&&m(t,i),n)for(let a=0;a<n.length;a++)m(t,n[a]);if(r){let i=r.subTree;if(e===i||xn(i.type)&&(i.ssContent===e||i.ssFallback===e)){const e=r.vnode;I(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},W=(t,e,i,n,r,a,o,s,l=0)=>{for(let u=l;u<t.length;u++){const l=t[u]=s?hr(t[u]):dr(t[u]);g(null,l,e,i,n,r,a,o,s)}},V=(t,e,i,n,a,o,l)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=e;c|=16&t.patchFlag;const p=t.props||r.MZ,m=e.props||r.MZ;let b;if(i&&Di(i,!1),(b=m.onVnodeBeforeUpdate)&&mr(b,i,e,t),f&&D(e,t,i,"beforeUpdate"),i&&Di(i,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&h(u,""),d?X(t.dynamicChildren,d,u,i,n,Oi(e,a),o):l||Y(t,e,u,null,i,n,Oi(e,a),o,!1),c>0){if(16&c)k(u,p,m,i,a);else if(2&c&&p.class!==m.class&&s(u,"class",null,m.class,a),4&c&&s(u,"style",p.style,m.style,a),8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e],r=p[n],o=m[n];o===r&&"value"!==n||s(u,n,r,o,a,i)}}1&c&&t.children!==e.children&&h(u,e.children)}else l||null!=d||k(u,p,m,i,a);((b=m.onVnodeUpdated)||f)&&Ji((()=>{b&&mr(b,i,e,t),f&&D(e,t,i,"updated")}),n)},X=(t,e,i,n,r,a,o)=>{for(let s=0;s<e.length;s++){const l=t[s],u=e[s],c=l.el&&(l.type===Pn||!qn(l,u)||198&l.shapeFlag)?f(l.el):i;g(l,u,c,null,n,r,a,o,!0)}},k=(t,e,i,n,a)=>{if(e!==i){if(e!==r.MZ)for(const o in e)(0,r.SU)(o)||o in i||s(t,o,e[o],null,a,n);for(const o in i){if((0,r.SU)(o))continue;const l=i[o],u=e[o];l!==u&&"value"!==o&&s(t,o,u,l,a,n)}"value"in i&&s(t,"value",e.value,i.value,a)}},G=(t,e,i,n,r,o,s,l,c)=>{const d=e.el=t?t.el:u(""),h=e.anchor=t?t.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(a(d,i,n),a(h,i,n),W(e.children||[],i,h,r,o,s,l,c)):f>0&&64&f&&p&&t.dynamicChildren?(X(t.dynamicChildren,p,i,r,o,s,l),(null!=e.key||r&&e===r.subTree)&&$i(t,e,!0)):Y(t,e,i,h,r,o,s,l,c)},T=(t,e,i,n,r,a,o,s,l)=>{e.slotScopeIds=s,null==t?512&e.shapeFlag?r.ctx.activate(e,i,n,o,l):E(e,i,n,r,a,o,l):L(t,e,l)},E=(t,e,i,n,r,a,o)=>{const s=t.component=yr(t,n,r);if(ne(t)&&(s.ctx.renderer=q),kr(s,!1,o),s.asyncDep){if(r&&r.registerDep(s,K,o),!t.el){const n=s.subTree=rr(Nn);Z(null,n,e,i),t.placeholder=n.el}}else K(s,t,e,i,r,a,o)},L=(t,e,i)=>{const n=e.component=t.component;if(vn(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void P(n,e,i);n.next=e,n.update()}else e.el=t.el,n.vnode=e},K=(t,e,i,a,o,s,l)=>{const u=()=>{if(t.isMounted){let{next:e,bu:i,u:n,parent:a,vnode:c}=t;{const i=tn(t);if(i)return e&&(e.el=c.el,P(t,e,l)),void i.asyncDep.then((()=>{t.isUnmounted||u()}))}let d,h=e;0,Di(t,!1),e?(e.el=c.el,P(t,e,l)):e=c,i&&(0,r.DY)(i),(d=e.props&&e.props.onVnodeBeforeUpdate)&&mr(d,a,e,c),Di(t,!0);const p=gn(t);0;const m=t.subTree;t.subTree=p,g(m,p,f(m.el),j(m),t,o,s),e.el=p.el,null===h&&Sn(t,p.el),n&&Ji(n,o),(d=e.props&&e.props.onVnodeUpdated)&&Ji((()=>mr(d,a,e,c)),o)}else{let n;const{el:l,props:u}=e,{bm:c,m:d,parent:h,root:f,type:p}=t,m=te(e);if(Di(t,!1),c&&(0,r.DY)(c),!m&&(n=u&&u.onVnodeBeforeMount)&&mr(n,h,e),Di(t,!0),l&&et){const e=()=>{t.subTree=gn(t),et(l,t.subTree,t,o,null)};m&&p.__asyncHydrate?p.__asyncHydrate(l,t,e):e()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(p);const n=t.subTree=gn(t);0,g(null,n,i,a,t,o,s),e.el=n.el}if(d&&Ji(d,o),!m&&(n=u&&u.onVnodeMounted)){const t=e;Ji((()=>mr(n,h,t)),o)}(256&e.shapeFlag||h&&te(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&Ji(t.a,o),t.isMounted=!0,e=i=a=null}};t.scope.on();const c=t.effect=new n.X2(u);t.scope.off();const d=t.update=c.run.bind(c),h=t.job=c.runIfDirty.bind(c);h.i=t,h.id=t.uid,c.scheduler=()=>R(h),Di(t,!0),d()},P=(t,e,i)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,Gi(t,e.props,r,i),Ui(t,e.children,i),(0,n.C4)(),C(t),(0,n.bl)()},Y=(t,e,i,n,r,a,o,s,l=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,d=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void F(u,d,i,n,r,a,o,s,l);if(256&f)return void N(u,d,i,n,r,a,o,s,l)}8&p?(16&c&&A(u,r,a),d!==u&&h(i,d)):16&c?16&p?F(u,d,i,n,r,a,o,s,l):A(u,r,a,!0):(8&c&&h(i,""),16&p&&W(d,i,n,r,a,o,s,l))},N=(t,e,i,n,a,o,s,l,u)=>{t=t||r.Oj,e=e||r.Oj;const c=t.length,d=e.length,h=Math.min(c,d);let f;for(f=0;f<h;f++){const n=e[f]=u?hr(e[f]):dr(e[f]);g(t[f],n,i,null,a,o,s,l,u)}c>d?A(t,a,o,!0,!1,h):W(e,i,n,a,o,s,l,u,h)},F=(t,e,i,n,a,o,s,l,u)=>{let c=0;const d=e.length;let h=t.length-1,f=d-1;while(c<=h&&c<=f){const n=t[c],r=e[c]=u?hr(e[c]):dr(e[c]);if(!qn(n,r))break;g(n,r,i,null,a,o,s,l,u),c++}while(c<=h&&c<=f){const n=t[h],r=e[f]=u?hr(e[f]):dr(e[f]);if(!qn(n,r))break;g(n,r,i,null,a,o,s,l,u),h--,f--}if(c>h){if(c<=f){const t=f+1,r=t<d?e[t].el:n;while(c<=f)g(null,e[c]=u?hr(e[c]):dr(e[c]),i,r,a,o,s,l,u),c++}}else if(c>f)while(c<=h)U(t[c],a,o,!0),c++;else{const p=c,m=c,b=new Map;for(c=m;c<=f;c++){const t=e[c]=u?hr(e[c]):dr(e[c]);null!=t.key&&b.set(t.key,c)}let y,Z=0;const _=f-m+1;let v=!1,w=0;const S=new Array(_);for(c=0;c<_;c++)S[c]=0;for(c=p;c<=h;c++){const n=t[c];if(Z>=_){U(n,a,o,!0);continue}let r;if(null!=n.key)r=b.get(n.key);else for(y=m;y<=f;y++)if(0===S[y-m]&&qn(n,e[y])){r=y;break}void 0===r?U(n,a,o,!0):(S[r-m]=c+1,r>=w?w=r:v=!0,g(n,e[r],i,null,a,o,s,l,u),Z++)}const x=v?qi(S):r.Oj;for(y=x.length-1,c=_-1;c>=0;c--){const t=m+c,r=e[t],h=e[t+1],f=t+1<d?h.el||h.placeholder:n;0===S[c]?g(null,r,i,f,a,o,s,l,u):v&&(y<0||c!==x[y]?B(r,i,f,2):y--)}}},B=(t,e,i,n,r=null)=>{const{el:s,type:l,transition:u,children:c,shapeFlag:d}=t;if(6&d)return void B(t.component.subTree,e,i,n);if(128&d)return void t.suspense.move(e,i,n);if(64&d)return void l.move(t,e,i,q);if(l===Pn){a(s,e,i);for(let t=0;t<c.length;t++)B(c[t],e,i,n);return void a(t.anchor,e,i)}if(l===Fn)return void v(t,e,i);const h=2!==n&&1&d&&u;if(h)if(0===n)u.beforeEnter(s),a(s,e,i),Ji((()=>u.enter(s)),r);else{const{leave:n,delayLeave:r,afterLeave:l}=u,c=()=>{t.ctx.isUnmounted?o(s):a(s,e,i)},d=()=>{n(s,(()=>{c(),l&&l()}))};r?r(s,c,d):d()}else a(s,e,i)},U=(t,e,i,r=!1,a=!1)=>{const{type:o,props:s,ref:l,children:u,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:f,cacheIndex:p}=t;if(-2===h&&(a=!1),null!=l&&((0,n.C4)(),kt(l,null,i,t,!0),(0,n.bl)()),null!=p&&(e.renderCache[p]=void 0),256&d)return void e.ctx.deactivate(t);const m=1&d&&f,b=!te(t);let g;if(b&&(g=s&&s.onVnodeBeforeUnmount)&&mr(g,e,t),6&d)H(t.component,i,r);else{if(128&d)return void t.suspense.unmount(i,r);m&&D(t,null,e,"beforeUnmount"),64&d?t.type.remove(t,e,i,q,r):c&&!c.hasOnce&&(o!==Pn||h>0&&64&h)?A(c,e,i,!1,!0):(o===Pn&&384&h||!a&&16&d)&&A(u,e,i),r&&z(t)}(b&&(g=s&&s.onVnodeUnmounted)||m)&&Ji((()=>{g&&mr(g,e,t),m&&D(t,null,e,"unmounted")}),i)},z=t=>{const{type:e,el:i,anchor:n,transition:r}=t;if(e===Pn)return void J(i,n);if(e===Fn)return void w(t);const a=()=>{o(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,o=()=>e(i,a);n?n(t.el,a,o):o()}else a()},J=(t,e)=>{let i;while(t!==e)i=p(t),o(t),t=i;o(e)},H=(t,e,i)=>{const{bum:n,scope:a,job:o,subTree:s,um:l,m:u,a:c,parent:d,slots:{__:h}}=t;en(u),en(c),n&&(0,r.DY)(n),d&&(0,r.cy)(h)&&h.forEach((t=>{d.renderCache[t]=void 0})),a.stop(),o&&(o.flags|=8,U(s,t,e,i)),l&&Ji(l,e),Ji((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},A=(t,e,i,n=!1,r=!1,a=0)=>{for(let o=a;o<t.length;o++)U(t[o],e,i,n,r)},j=t=>{if(6&t.shapeFlag)return j(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=p(t.anchor||t.el),i=e&&e[Q];return i?p(i):e};let O=!1;const $=(t,e,i)=>{null==t?e._vnode&&U(e._vnode,null,null,!0):g(e._vnode||null,t,e,null,null,null,i),e._vnode=t,O||(O=!0,C(),M(),O=!1)},q={p:g,um:U,m:B,r:z,mt:E,mc:W,pc:Y,pbc:X,n:j,o:t};let tt,et;return e&&([tt,et]=e(q)),{render:$,hydrate:tt,createApp:vi($,tt)}}function Oi({type:t,props:e},i){return"svg"===i&&"foreignObject"===t||"mathml"===i&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Di({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Qi(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $i(t,e,i=!1){const n=t.children,a=e.children;if((0,r.cy)(n)&&(0,r.cy)(a))for(let r=0;r<n.length;r++){const t=n[r];let e=a[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=a[r]=hr(a[r]),e.el=t.el),i||-2===e.patchFlag||$i(t,e)),e.type===Yn&&(e.el=t.el),e.type!==Nn||e.el||(e.el=t.el)}}function qi(t){const e=t.slice(),i=[0];let n,r,a,o,s;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(r=i[i.length-1],t[r]<l){e[n]=r,i.push(n);continue}a=0,o=i.length-1;while(a<o)s=a+o>>1,t[i[s]]<l?a=s+1:o=s;l<t[i[a]]&&(a>0&&(e[n]=i[a-1]),i[a]=n)}}a=i.length,o=i[a-1];while(a-- >0)i[a]=o,o=e[o];return i}function tn(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tn(e)}function en(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const nn=Symbol.for("v-scx"),rn=()=>{{const t=xi(nn);return t}};function an(t,e){return un(t,null,e)}function on(t,e){return un(t,null,{flush:"post"})}function sn(t,e){return un(t,null,{flush:"sync"})}function ln(t,e,i){return un(t,e,i)}function un(t,e,i=r.MZ){const{immediate:a,deep:o,flush:s,once:l}=i;const u=(0,r.X$)({},i);const c=e&&a||!e&&"post"!==s;let d;if(Xr)if("sync"===s){const t=rn();d=t.__watcherHandles||(t.__watcherHandles=[])}else if(!c){const t=()=>{};return t.stop=r.tE,t.resume=r.tE,t.pause=r.tE,t}const h=Zr;u.call=(t,e,i)=>Z(t,h,e,i);let f=!1;"post"===s?u.scheduler=t=>{Ji(t,h&&h.suspense)}:"sync"!==s&&(f=!0,u.scheduler=(t,e)=>{e?t():R(t)}),u.augmentJob=t=>{e&&(t.flags|=4),f&&(t.flags|=2,h&&(t.id=h.uid,t.i=h))};const p=(0,n.wB)(t,e,u);return Xr&&(d?d.push(p):c&&p()),p}function cn(t,e,i){const n=this.proxy,a=(0,r.Kg)(t)?t.includes(".")?dn(n,t):()=>n[t]:t.bind(n,n);let o;(0,r.Tn)(e)?o=e:(o=e.handler,i=e);const s=Sr(this),l=un(a,o.bind(n),i);return s(),l}function dn(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function hn(t,e,i=r.MZ){const a=_r();const o=(0,r.PT)(e);const s=(0,r.Tg)(e),l=fn(t,o),u=(0,n.rY)(((n,l)=>{let u,c,d=r.MZ;return sn((()=>{const e=t[o];(0,r.$H)(u,e)&&(u=e,l())})),{get(){return n(),i.get?i.get(u):u},set(t){const n=i.set?i.set(t):t;if(!(0,r.$H)(n,u)&&(d===r.MZ||!(0,r.$H)(t,d)))return;const h=a.vnode.props;h&&(e in h||o in h||s in h)&&(`onUpdate:${e}`in h||`onUpdate:${o}`in h||`onUpdate:${s}`in h)||(u=t,l()),a.emit(`update:${e}`,n),(0,r.$H)(t,n)&&(0,r.$H)(t,d)&&!(0,r.$H)(n,c)&&l(),d=t,c=n}}}));return u[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?l||r.MZ:u,done:!1}:{done:!0}}}},u}const fn=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${(0,r.PT)(e)}Modifiers`]||t[`${(0,r.Tg)(e)}Modifiers`];function pn(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||r.MZ;let a=i;const o=e.startsWith("update:"),s=o&&fn(n,e.slice(7));let l;s&&(s.trim&&(a=i.map((t=>(0,r.Kg)(t)?t.trim():t))),s.number&&(a=i.map(r.bB)));let u=n[l=(0,r.rU)(e)]||n[l=(0,r.rU)((0,r.PT)(e))];!u&&o&&(u=n[l=(0,r.rU)((0,r.Tg)(e))]),u&&Z(u,t,6,a);const c=n[l+"Once"];if(c){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Z(c,t,6,a)}}function mn(t,e,i=!1){const n=e.emitsCache,a=n.get(t);if(void 0!==a)return a;const o=t.emits;let s={},l=!1;if(!(0,r.Tn)(t)){const n=t=>{const i=mn(t,e,!0);i&&(l=!0,(0,r.X$)(s,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return o||l?((0,r.cy)(o)?o.forEach((t=>s[t]=null)):(0,r.X$)(s,o),(0,r.Gv)(t)&&n.set(t,s),s):((0,r.Gv)(t)&&n.set(t,null),null)}function bn(t,e){return!(!t||!(0,r.Mp)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.$3)(t,e[0].toLowerCase()+e.slice(1))||(0,r.$3)(t,(0,r.Tg)(e))||(0,r.$3)(t,e))}function gn(t){const{type:e,vnode:i,proxy:n,withProxy:a,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:b}=t,g=z(t);let y,Z;try{if(4&i.shapeFlag){const t=a||n,e=t;y=dr(c.call(e,t,d,h,p,f,m)),Z=l}else{const t=e;0,y=dr(t.length>1?t(h,{attrs:l,slots:s,emit:u}):t(h,null)),Z=e.props?l:Zn(l)}}catch(w){Bn.length=0,_(w,t,1),y=rr(Nn)}let v=y;if(Z&&!1!==b){const t=Object.keys(Z),{shapeFlag:e}=v;t.length&&7&e&&(o&&t.some(r.CP)&&(Z=_n(Z,o)),v=sr(v,Z,!1,!0))}return i.dirs&&(v=sr(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(i.dirs):i.dirs),i.transition&&St(v,i.transition),y=v,z(g),y}function yn(t,e=!0){let i;for(let n=0;n<t.length;n++){const e=t[n];if(!$n(e))return;if(e.type!==Nn||"v-if"===e.children){if(i)return;i=e}}return i}const Zn=t=>{let e;for(const i in t)("class"===i||"style"===i||(0,r.Mp)(i))&&((e||(e={}))[i]=t[i]);return e},_n=(t,e)=>{const i={};for(const n in t)(0,r.CP)(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function vn(t,e,i){const{props:n,children:r,component:a}=t,{props:o,children:s,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!r&&!s||s&&s.$stable)||n!==o&&(n?!o||wn(n,o,u):!!o);if(1024&l)return!0;if(16&l)return n?wn(n,o,u):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(o[i]!==n[i]&&!bn(u,i))return!0}}return!1}function wn(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const a=n[r];if(e[a]!==t[a]&&!bn(i,a))return!0}return!1}function Sn({vnode:t,parent:e},i){while(e){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n!==t)break;(t=e.vnode).el=i,e=e.parent}}const xn=t=>t.__isSuspense;let In=0;const Wn={name:"Suspense",__isSuspense:!0,process(t,e,i,n,r,a,o,s,l,u){if(null==t)kn(e,i,n,r,a,o,s,l,u);else{if(a&&a.deps>0&&!t.suspense.isInFallback)return e.suspense=t.suspense,e.suspense.vnode=e,void(e.el=t.el);Gn(t,e,i,n,r,o,s,l,u)}},hydrate:Tn,normalize:En},Vn=Wn;function Xn(t,e){const i=t.props&&t.props[e];(0,r.Tn)(i)&&i()}function kn(t,e,i,n,r,a,o,s,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=Rn(t,r,n,e,d,i,a,o,s,l);u(null,h.pendingBranch=t.ssContent,d,null,n,h,a,o),h.deps>0?(Xn(t,"onPending"),Xn(t,"onFallback"),u(null,t.ssFallback,e,i,n,null,a,o),Ln(h,t.ssFallback)):h.resolve(!1,!0)}function Gn(t,e,i,n,r,a,o,s,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:b,isHydrating:g}=d;if(m)d.pendingBranch=h,qn(h,m)?(l(m,h,d.hiddenContainer,null,r,d,a,o,s),d.deps<=0?d.resolve():b&&(g||(l(p,f,i,n,r,null,a,o,s),Ln(d,f)))):(d.pendingId=In++,g?(d.isHydrating=!1,d.activeBranch=m):u(m,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),b?(l(null,h,d.hiddenContainer,null,r,d,a,o,s),d.deps<=0?d.resolve():(l(p,f,i,n,r,null,a,o,s),Ln(d,f))):p&&qn(h,p)?(l(p,h,i,n,r,d,a,o,s),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,r,d,a,o,s),d.deps<=0&&d.resolve()));else if(p&&qn(h,p))l(p,h,i,n,r,d,a,o,s),Ln(d,h);else if(Xn(e,"onPending"),d.pendingBranch=h,512&h.shapeFlag?d.pendingId=h.component.suspenseId:d.pendingId=In++,l(null,h,d.hiddenContainer,null,r,d,a,o,s),d.deps<=0)d.resolve();else{const{timeout:t,pendingId:e}=d;t>0?setTimeout((()=>{d.pendingId===e&&d.fallback(f)}),t):0===t&&d.fallback(f)}}function Rn(t,e,i,n,a,o,s,l,u,c,d=!1){const{p:h,m:f,um:p,n:m,o:{parentNode:b,remove:g}}=c;let y;const Z=Kn(t);Z&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const v=t.props?(0,r.Ro)(t.props.timeout):void 0;const w=o,S={vnode:t,parent:e,parentComponent:i,namespace:s,container:n,hiddenContainer:a,deps:0,pendingId:In++,timeout:"number"===typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(t=!1,i=!1){const{vnode:n,activeBranch:r,pendingBranch:a,pendingId:s,effects:l,parentComponent:u,container:c}=S;let d=!1;S.isHydrating?S.isHydrating=!1:t||(d=r&&a.transition&&"out-in"===a.transition.mode,d&&(r.transition.afterLeave=()=>{s===S.pendingId&&(f(a,c,o===w?m(r):o,0),E(l))}),r&&(b(r.el)===c&&(o=m(r)),p(r,u,S,!0)),d||f(a,c,o,0)),Ln(S,a),S.pendingBranch=null,S.isInFallback=!1;let h=S.parent,g=!1;while(h){if(h.pendingBranch){h.effects.push(...l),g=!0;break}h=h.parent}g||d||E(l),S.effects=[],Z&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,0!==e.deps||i||e.resolve()),Xn(n,"onResolve")},fallback(t){if(!S.pendingBranch)return;const{vnode:e,activeBranch:i,parentComponent:n,container:r,namespace:a}=S;Xn(e,"onFallback");const o=m(i),s=()=>{S.isInFallback&&(h(null,t,r,o,n,null,a,l,u),Ln(S,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(i.transition.afterLeave=s),S.isInFallback=!0,p(i,n,null,!0),c||s()},move(t,e,i){S.activeBranch&&f(S.activeBranch,t,e,i),S.container=t},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(t,e,i){const n=!!S.pendingBranch;n&&S.deps++;const r=t.vnode.el;t.asyncDep.catch((e=>{_(e,t,0)})).then((a=>{if(t.isUnmounted||S.isUnmounted||S.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:o}=t;Rr(t,a,!1),r&&(o.el=r);const l=!r&&t.subTree.el;e(t,o,b(r||t.subTree.el),r?null:m(t.subTree),S,s,i),l&&g(l),Sn(t,o.el),n&&0===--S.deps&&S.resolve()}))},unmount(t,e){S.isUnmounted=!0,S.activeBranch&&p(S.activeBranch,i,t,e),S.pendingBranch&&p(S.pendingBranch,i,t,e)}};return S}function Tn(t,e,i,n,r,a,o,s,l){const u=e.suspense=Rn(e,n,i,t.parentNode,document.createElement("div"),null,r,a,o,s,!0),c=l(t,u.pendingBranch=e.ssContent,i,u,a,o);return 0===u.deps&&u.resolve(!1,!0),c}function En(t){const{shapeFlag:e,children:i}=t,n=32&e;t.ssContent=Cn(n?i.default:i),t.ssFallback=n?Cn(i.fallback):rr(Nn)}function Cn(t){let e;if((0,r.Tn)(t)){const i=An&&t._c;i&&(t._d=!1,zn()),t=t(),i&&(t._d=!0,e=Un,Jn())}if((0,r.cy)(t)){const e=yn(t);0,t=e}return t=dr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function Mn(t,e){e&&e.pendingBranch?(0,r.cy)(t)?e.effects.push(...t):e.effects.push(t):E(t)}function Ln(t,e){t.activeBranch=e;const{vnode:i,parentComponent:n}=t;let r=e.el;while(!r&&e.component)e=e.component.subTree,r=e.el;i.el=r,n&&n.subTree===i&&(n.vnode.el=r,Sn(n,r))}function Kn(t){const e=t.props&&t.props.suspensible;return null!=e&&!1!==e}const Pn=Symbol.for("v-fgt"),Yn=Symbol.for("v-txt"),Nn=Symbol.for("v-cmt"),Fn=Symbol.for("v-stc"),Bn=[];let Un=null;function zn(t=!1){Bn.push(Un=t?null:[])}function Jn(){Bn.pop(),Un=Bn[Bn.length-1]||null}let Hn,An=1;function jn(t,e=!1){An+=t,t<0&&Un&&e&&(Un.hasOnce=!0)}function On(t){return t.dynamicChildren=An>0?Un||r.Oj:null,Jn(),An>0&&Un&&Un.push(t),t}function Dn(t,e,i,n,r,a){return On(nr(t,e,i,n,r,a,!0))}function Qn(t,e,i,n,r){return On(rr(t,e,i,n,r,!0))}function $n(t){return!!t&&!0===t.__v_isVNode}function qn(t,e){return t.type===e.type&&t.key===e.key}function tr(t){Hn=t}const er=({key:t})=>null!=t?t:null,ir=({ref:t,ref_key:e,ref_for:i})=>("number"===typeof t&&(t=""+t),null!=t?(0,r.Kg)(t)||(0,n.i9)(t)||(0,r.Tn)(t)?{i:B,r:t,k:e,f:!!i}:t:null);function nr(t,e=null,i=null,n=0,a=null,o=(t===Pn?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&er(e),ref:e&&ir(e),scopeId:U,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:B};return l?(fr(u,i),128&o&&t.normalize(u)):i&&(u.shapeFlag|=(0,r.Kg)(i)?8:16),An>0&&!s&&Un&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&Un.push(u),u}const rr=ar;function ar(t,e=null,i=null,a=0,o=null,s=!1){if(t&&t!==Xe||(t=Nn),$n(t)){const n=sr(t,e,!0);return i&&fr(n,i),An>0&&!s&&Un&&(6&n.shapeFlag?Un[Un.indexOf(t)]=n:Un.push(n)),n.patchFlag=-2,n}if(Br(t)&&(t=t.__vccOpts),e){e=or(e);let{class:t,style:i}=e;t&&!(0,r.Kg)(t)&&(e.class=(0,r.C4)(t)),(0,r.Gv)(i)&&((0,n.ju)(i)&&!(0,r.cy)(i)&&(i=(0,r.X$)({},i)),e.style=(0,r.Tr)(i))}const l=(0,r.Kg)(t)?1:xn(t)?128:$(t)?64:(0,r.Gv)(t)?4:(0,r.Tn)(t)?2:0;return nr(t,e,i,a,o,l,s,!0)}function or(t){return t?(0,n.ju)(t)||Xi(t)?(0,r.X$)({},t):t:null}function sr(t,e,i=!1,n=!1){const{props:a,ref:o,patchFlag:s,children:l,transition:u}=t,c=e?pr(a||{},e):a,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&er(c),ref:e&&e.ref?i&&o?(0,r.cy)(o)?o.concat(ir(e)):[o,ir(e)]:ir(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&St(d,u.clone(d)),d}function lr(t=" ",e=0){return rr(Yn,null,t,e)}function ur(t,e){const i=rr(Fn,null,t);return i.staticCount=e,i}function cr(t="",e=!1){return e?(zn(),Qn(Nn,null,t)):rr(Nn,null,t)}function dr(t){return null==t||"boolean"===typeof t?rr(Nn):(0,r.cy)(t)?rr(Pn,null,t.slice()):$n(t)?hr(t):rr(Yn,null,String(t))}function hr(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:sr(t)}function fr(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if((0,r.cy)(e))i=16;else if("object"===typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),fr(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||Xi(e)?3===n&&B&&(1===B.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=B}}else(0,r.Tn)(e)?(e={default:e,_ctx:B},i=32):(e=String(e),64&n?(i=16,e=[lr(e)]):i=8);t.children=e,t.shapeFlag|=i}function pr(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=(0,r.C4)([e.class,n.class]));else if("style"===t)e.style=(0,r.Tr)([e.style,n.style]);else if((0,r.Mp)(t)){const i=e[t],a=n[t];!a||i===a||(0,r.cy)(i)&&i.includes(a)||(e[t]=i?[].concat(i,a):a)}else""!==t&&(e[t]=n[t])}return e}function mr(t,e,i,n=null){Z(t,e,7,[i,n])}const br=Zi();let gr=0;function yr(t,e,i){const a=t.type,o=(e?e.appContext:t.appContext)||br,s={uid:gr++,vnode:t,type:a,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new n.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ci(a,o),emitsOptions:mn(a,o),emit:null,emitted:null,propsDefaults:r.MZ,inheritAttrs:a.inheritAttrs,ctx:r.MZ,data:r.MZ,props:r.MZ,attrs:r.MZ,slots:r.MZ,refs:r.MZ,setupState:r.MZ,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=pn.bind(null,s),t.ce&&t.ce(s),s}let Zr=null;const _r=()=>Zr||B;let vr,wr;{const t=(0,r.We)(),e=(e,i)=>{let n;return(n=t[e])||(n=t[e]=[]),n.push(i),t=>{n.length>1?n.forEach((e=>e(t))):n[0](t)}};vr=e("__VUE_INSTANCE_SETTERS__",(t=>Zr=t)),wr=e("__VUE_SSR_SETTERS__",(t=>Xr=t))}const Sr=t=>{const e=Zr;return vr(t),t.scope.on(),()=>{t.scope.off(),vr(e)}},xr=()=>{Zr&&Zr.scope.off(),vr(null)};function Ir(t){return 4&t.vnode.shapeFlag}let Wr,Vr,Xr=!1;function kr(t,e=!1,i=!1){e&&wr(e);const{props:n,children:r}=t.vnode,a=Ir(t);ki(t,n,a,e),Bi(t,r,i||e);const o=a?Gr(t,e):void 0;return e&&wr(!1),o}function Gr(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fe);const{setup:a}=i;if(a){(0,n.C4)();const i=t.setupContext=a.length>1?Lr(t):null,o=Sr(t),s=y(a,t,0,[t.props,i]),l=(0,r.yL)(s);if((0,n.bl)(),o(),!l&&!t.sp||te(t)||Vt(t),l){if(s.then(xr,xr),e)return s.then((i=>{Rr(t,i,e)})).catch((e=>{_(e,t,0)}));t.asyncDep=s}else Rr(t,s,e)}else Cr(t,e)}function Rr(t,e,i){(0,r.Tn)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Gv)(e)&&(t.setupState=(0,n.Pr)(e)),Cr(t,i)}function Tr(t){Wr=t,Vr=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Be))}}const Er=()=>!Wr;function Cr(t,e,i){const a=t.type;if(!t.render){if(!e&&Wr&&!a.render){const e=a.template||ui(t).template;if(e){0;const{isCustomElement:i,compilerOptions:n}=t.appContext.config,{delimiters:o,compilerOptions:s}=a,l=(0,r.X$)((0,r.X$)({isCustomElement:i,delimiters:o},n),s);a.render=Wr(e,l)}}t.render=a.render||r.tE,Vr&&Vr(t)}{const e=Sr(t);(0,n.C4)();try{ai(t)}finally{(0,n.bl)(),e()}}}const Mr={get(t,e){return(0,n.u4)(t,"get",""),t[e]}};function Lr(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,Mr),slots:t.slots,emit:t.emit,expose:e}}function Kr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy((0,n.Pr)((0,n.IG)(t.exposed)),{get(e,i){return i in e?e[i]:i in Ye?Ye[i](t):void 0},has(t,e){return e in t||e in Ye}})):t.proxy}const Pr=/(?:^|[-_])(\w)/g,Yr=t=>t.replace(Pr,(t=>t.toUpperCase())).replace(/[-_]/g,"");function Nr(t,e=!0){return(0,r.Tn)(t)?t.displayName||t.name:t.name||e&&t.__name}function Fr(t,e,i=!1){let n=Nr(e);if(!n&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(n=t[1])}if(!n&&t&&t.parent){const i=t=>{for(const i in t)if(t[i]===e)return i};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?Yr(n):i?"App":"Anonymous"}function Br(t){return(0,r.Tn)(t)&&"__vccOpts"in t}const Ur=(t,e)=>{const i=(0,n.EW)(t,e,Xr);return i};function zr(t,e,i){const n=arguments.length;return 2===n?(0,r.Gv)(e)&&!(0,r.cy)(e)?$n(e)?rr(t,null,[e]):rr(t,e):rr(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&$n(i)&&(i=[i]),rr(t,e,i))}function Jr(){return void 0}function Hr(t,e,i,n){const r=i[n];if(r&&Ar(r,t))return r;const a=e();return a.memo=t.slice(),a.cacheIndex=n,i[n]=a}function Ar(t,e){const i=t.memo;if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if((0,r.$H)(i[n],e[n]))return!1;return An>0&&Un&&Un.push(t),!0}const jr="3.5.18",Or=r.tE,Dr=g,Qr=P,$r=F,qr={createComponentInstance:yr,setupComponent:kr,renderComponentRoot:gn,setCurrentRenderingInstance:z,isVNode:$n,normalizeVNode:dr,getComponentPublicInstance:Kr,ensureValidVNode:Le,pushWarningContext:o,popWarningContext:s},ta=qr,ea=null,ia=null,na=null},655:function(t,e,i){"use strict";var n=i(6955),r=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},741:function(t){"use strict";var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?i:e)(n)}},757:function(t,e,i){"use strict";var n=i(7751),r=i(4901),a=i(1625),o=i(7040),s=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&a(e.prototype,s(t))}},953:function(t,e,i){"use strict";i.d(e,{BA:function(){return Ut},C4:function(){return X},EW:function(){return te},Gc:function(){return xt},IG:function(){return Et},IJ:function(){return Pt},KR:function(){return Kt},Kh:function(){return St},PP:function(){return ie},Pr:function(){return Jt},QW:function(){return jt},QZ:function(){return x},R1:function(){return Bt},Tm:function(){return kt},Ul:function(){return ee},X2:function(){return d},Yv:function(){return oe},a1:function(){return Mt},bl:function(){return k},ch:function(){return se},ds:function(){return I},fE:function(){return Gt},g8:function(){return Xt},hV:function(){return ue},hZ:function(){return N},i9:function(){return Lt},jr:function(){return u},ju:function(){return Rt},lJ:function(){return Ct},lW:function(){return Qt},mu:function(){return Ft},nD:function(){return Wt},o5:function(){return l},qA:function(){return U},rY:function(){return At},tB:function(){return It},u4:function(){return Y},uY:function(){return s},ux:function(){return Tt},wB:function(){return le},yC:function(){return o}});var n=i(33);let r,a;class o{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let t,e;if(this._isPaused=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){let t,e;if(this._isPaused=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){1===++this._on&&(this.prevScope=r,r=this)}off(){this._on>0&&0===--this._on&&(r=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){let e,i;for(this._active=!1,e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(this.effects.length=0,e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0}}}function s(t){return new o(t)}function l(){return r}function u(t,e=!1){r&&r.cleanups.push(t)}const c=new WeakSet;class d{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,r&&r.active&&r.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,c.has(this)&&(c.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||m(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,G(this),y(this);const t=a,e=W;a=this,W=!0;try{return this.fn()}finally{0,Z(this),a=t,W=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)w(t);this.deps=this.depsTail=void 0,G(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?c.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_(this)&&this.run()}get dirty(){return _(this)}}let h,f,p=0;function m(t,e=!1){if(t.flags|=8,e)return t.next=f,void(f=t);t.next=h,h=t}function b(){p++}function g(){if(--p>0)return;if(f){let t=f;f=void 0;while(t){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;while(h){let i=h;h=void 0;while(i){const n=i.next;if(i.next=void 0,i.flags&=-9,1&i.flags)try{i.trigger()}catch(e){t||(t=e)}i=n}}if(t)throw t}function y(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Z(t){let e,i=t.depsTail,n=i;while(n){const t=n.prevDep;-1===n.version?(n===i&&(i=t),w(n),S(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=t}t.deps=e,t.depsTail=i}function _(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(v(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function v(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===R)return;if(t.globalVersion=R,!t.isSSR&&128&t.flags&&(!t.deps&&!t._dirty||!_(t)))return;t.flags|=2;const e=t.dep,i=a,r=W;a=t,W=!0;try{y(t);const i=t.fn(t._value);(0===e.version||(0,n.$H)(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(o){throw e.version++,o}finally{a=i,W=r,Z(t),t.flags&=-3}}function w(t,e=!1){const{dep:i,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),i.subs===t&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let t=i.computed.deps;t;t=t.nextDep)w(t,!0)}e||--i.sc||!i.map||i.map.delete(i.key)}function S(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}function x(t,e){t.effect instanceof d&&(t=t.effect.fn);const i=new d(t);e&&(0,n.X$)(i,e);try{i.run()}catch(a){throw i.stop(),a}const r=i.run.bind(i);return r.effect=i,r}function I(t){t.effect.stop()}let W=!0;const V=[];function X(){V.push(W),W=!1}function k(){const t=V.pop();W=void 0===t||t}function G(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=a;a=void 0;try{e()}finally{a=t}}}let R=0;class T{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class E{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!a||!W||a===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==a)e=this.activeLink=new T(a,this),a.deps?(e.prevDep=a.depsTail,a.depsTail.nextDep=e,a.depsTail=e):a.deps=a.depsTail=e,C(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=a.depsTail,e.nextDep=void 0,a.depsTail.nextDep=e,a.depsTail=e,a.deps===e&&(a.deps=t)}return e}trigger(t){this.version++,R++,this.notify(t)}notify(t){b();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{g()}}}function C(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)C(t)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const M=new WeakMap,L=Symbol(""),K=Symbol(""),P=Symbol("");function Y(t,e,i){if(W&&a){let e=M.get(t);e||M.set(t,e=new Map);let n=e.get(i);n||(e.set(i,n=new E),n.map=e,n.key=i),n.track()}}function N(t,e,i,r,a,o){const s=M.get(t);if(!s)return void R++;const l=t=>{t&&t.trigger()};if(b(),"clear"===e)s.forEach(l);else{const a=(0,n.cy)(t),o=a&&(0,n.yI)(i);if(a&&"length"===i){const t=Number(r);s.forEach(((e,i)=>{("length"===i||i===P||!(0,n.Bm)(i)&&i>=t)&&l(e)}))}else switch((void 0!==i||s.has(void 0))&&l(s.get(i)),o&&l(s.get(P)),e){case"add":a?o&&l(s.get("length")):(l(s.get(L)),(0,n.CE)(t)&&l(s.get(K)));break;case"delete":a||(l(s.get(L)),(0,n.CE)(t)&&l(s.get(K)));break;case"set":(0,n.CE)(t)&&l(s.get(L));break}}g()}function F(t,e){const i=M.get(t);return i&&i.get(e)}function B(t){const e=Tt(t);return e===t?e:(Y(e,"iterate",P),Gt(t)?e:e.map(Ct))}function U(t){return Y(t=Tt(t),"iterate",P),t}const z={__proto__:null,[Symbol.iterator](){return J(this,Symbol.iterator,Ct)},concat(...t){return B(this).concat(...t.map((t=>(0,n.cy)(t)?B(t):t)))},entries(){return J(this,"entries",(t=>(t[1]=Ct(t[1]),t)))},every(t,e){return A(this,"every",t,e,void 0,arguments)},filter(t,e){return A(this,"filter",t,e,(t=>t.map(Ct)),arguments)},find(t,e){return A(this,"find",t,e,Ct,arguments)},findIndex(t,e){return A(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return A(this,"findLast",t,e,Ct,arguments)},findLastIndex(t,e){return A(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return A(this,"forEach",t,e,void 0,arguments)},includes(...t){return O(this,"includes",t)},indexOf(...t){return O(this,"indexOf",t)},join(t){return B(this).join(t)},lastIndexOf(...t){return O(this,"lastIndexOf",t)},map(t,e){return A(this,"map",t,e,void 0,arguments)},pop(){return D(this,"pop")},push(...t){return D(this,"push",t)},reduce(t,...e){return j(this,"reduce",t,e)},reduceRight(t,...e){return j(this,"reduceRight",t,e)},shift(){return D(this,"shift")},some(t,e){return A(this,"some",t,e,void 0,arguments)},splice(...t){return D(this,"splice",t)},toReversed(){return B(this).toReversed()},toSorted(t){return B(this).toSorted(t)},toSpliced(...t){return B(this).toSpliced(...t)},unshift(...t){return D(this,"unshift",t)},values(){return J(this,"values",Ct)}};function J(t,e,i){const n=U(t),r=n[e]();return n===t||Gt(t)||(r._next=r.next,r.next=()=>{const t=r._next();return t.value&&(t.value=i(t.value)),t}),r}const H=Array.prototype;function A(t,e,i,n,r,a){const o=U(t),s=o!==t&&!Gt(t),l=o[e];if(l!==H[e]){const e=l.apply(t,a);return s?Ct(e):e}let u=i;o!==t&&(s?u=function(e,n){return i.call(this,Ct(e),n,t)}:i.length>2&&(u=function(e,n){return i.call(this,e,n,t)}));const c=l.call(o,u,n);return s&&r?r(c):c}function j(t,e,i,n){const r=U(t);let a=i;return r!==t&&(Gt(t)?i.length>3&&(a=function(e,n,r){return i.call(this,e,n,r,t)}):a=function(e,n,r){return i.call(this,e,Ct(n),r,t)}),r[e](a,...n)}function O(t,e,i){const n=Tt(t);Y(n,"iterate",P);const r=n[e](...i);return-1!==r&&!1!==r||!Rt(i[0])?r:(i[0]=Tt(i[0]),n[e](...i))}function D(t,e,i=[]){X(),b();const n=Tt(t)[e].apply(t,i);return g(),k(),n}const Q=(0,n.pD)("__proto__,__v_isRef,__isVue"),$=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(n.Bm));function q(t){(0,n.Bm)(t)||(t=String(t));const e=Tt(this);return Y(e,"has",t),e.hasOwnProperty(t)}class tt{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){if("__v_skip"===e)return t["__v_skip"];const r=this._isReadonly,a=this._isShallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return a;if("__v_raw"===e)return i===(r?a?_t:Zt:a?yt:gt).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=(0,n.cy)(t);if(!r){let t;if(o&&(t=z[e]))return t;if("hasOwnProperty"===e)return q}const s=Reflect.get(t,e,Lt(t)?t:i);return((0,n.Bm)(e)?$.has(e):Q(e))?s:(r||Y(t,"get",e),a?s:Lt(s)?o&&(0,n.yI)(e)?s:s.value:(0,n.Gv)(s)?r?It(s):St(s):s)}}class et extends tt{constructor(t=!1){super(!1,t)}set(t,e,i,r){let a=t[e];if(!this._isShallow){const e=kt(a);if(Gt(i)||kt(i)||(a=Tt(a),i=Tt(i)),!(0,n.cy)(t)&&Lt(a)&&!Lt(i))return!e&&(a.value=i,!0)}const o=(0,n.cy)(t)&&(0,n.yI)(e)?Number(e)<t.length:(0,n.$3)(t,e),s=Reflect.set(t,e,i,Lt(t)?t:r);return t===Tt(r)&&(o?(0,n.$H)(i,a)&&N(t,"set",e,i,a):N(t,"add",e,i)),s}deleteProperty(t,e){const i=(0,n.$3)(t,e),r=t[e],a=Reflect.deleteProperty(t,e);return a&&i&&N(t,"delete",e,void 0,r),a}has(t,e){const i=Reflect.has(t,e);return(0,n.Bm)(e)&&$.has(e)||Y(t,"has",e),i}ownKeys(t){return Y(t,"iterate",(0,n.cy)(t)?"length":L),Reflect.ownKeys(t)}}class it extends tt{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const nt=new et,rt=new it,at=new et(!0),ot=new it(!0),st=t=>t,lt=t=>Reflect.getPrototypeOf(t);function ut(t,e,i){return function(...r){const a=this["__v_raw"],o=Tt(a),s=(0,n.CE)(o),l="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=a[t](...r),d=i?st:e?Mt:Ct;return!e&&Y(o,"iterate",u?K:L),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function ct(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function dt(t,e){const i={get(i){const r=this["__v_raw"],a=Tt(r),o=Tt(i);t||((0,n.$H)(i,o)&&Y(a,"get",i),Y(a,"get",o));const{has:s}=lt(a),l=e?st:t?Mt:Ct;return s.call(a,i)?l(r.get(i)):s.call(a,o)?l(r.get(o)):void(r!==a&&r.get(i))},get size(){const e=this["__v_raw"];return!t&&Y(Tt(e),"iterate",L),Reflect.get(e,"size",e)},has(e){const i=this["__v_raw"],r=Tt(i),a=Tt(e);return t||((0,n.$H)(e,a)&&Y(r,"has",e),Y(r,"has",a)),e===a?i.has(e):i.has(e)||i.has(a)},forEach(i,n){const r=this,a=r["__v_raw"],o=Tt(a),s=e?st:t?Mt:Ct;return!t&&Y(o,"iterate",L),a.forEach(((t,e)=>i.call(n,s(t),s(e),r)))}};(0,n.X$)(i,t?{add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear")}:{add(t){e||Gt(t)||kt(t)||(t=Tt(t));const i=Tt(this),n=lt(i),r=n.has.call(i,t);return r||(i.add(t),N(i,"add",t,t)),this},set(t,i){e||Gt(i)||kt(i)||(i=Tt(i));const r=Tt(this),{has:a,get:o}=lt(r);let s=a.call(r,t);s||(t=Tt(t),s=a.call(r,t));const l=o.call(r,t);return r.set(t,i),s?(0,n.$H)(i,l)&&N(r,"set",t,i,l):N(r,"add",t,i),this},delete(t){const e=Tt(this),{has:i,get:n}=lt(e);let r=i.call(e,t);r||(t=Tt(t),r=i.call(e,t));const a=n?n.call(e,t):void 0,o=e.delete(t);return r&&N(e,"delete",t,void 0,a),o},clear(){const t=Tt(this),e=0!==t.size,i=void 0,n=t.clear();return e&&N(t,"clear",void 0,void 0,i),n}});const r=["keys","values","entries",Symbol.iterator];return r.forEach((n=>{i[n]=ut(n,t,e)})),i}function ht(t,e){const i=dt(t,e);return(e,r,a)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,n.$3)(i,r)&&r in e?i:e,r,a)}const ft={get:ht(!1,!1)},pt={get:ht(!1,!0)},mt={get:ht(!0,!1)},bt={get:ht(!0,!0)};const gt=new WeakMap,yt=new WeakMap,Zt=new WeakMap,_t=new WeakMap;function vt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:vt((0,n.Zf)(t))}function St(t){return kt(t)?t:Vt(t,!1,nt,ft,gt)}function xt(t){return Vt(t,!1,at,pt,yt)}function It(t){return Vt(t,!0,rt,mt,Zt)}function Wt(t){return Vt(t,!0,ot,bt,_t)}function Vt(t,e,i,r,a){if(!(0,n.Gv)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=wt(t);if(0===o)return t;const s=a.get(t);if(s)return s;const l=new Proxy(t,2===o?r:i);return a.set(t,l),l}function Xt(t){return kt(t)?Xt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function kt(t){return!(!t||!t["__v_isReadonly"])}function Gt(t){return!(!t||!t["__v_isShallow"])}function Rt(t){return!!t&&!!t["__v_raw"]}function Tt(t){const e=t&&t["__v_raw"];return e?Tt(e):t}function Et(t){return!(0,n.$3)(t,"__v_skip")&&Object.isExtensible(t)&&(0,n.yQ)(t,"__v_skip",!0),t}const Ct=t=>(0,n.Gv)(t)?St(t):t,Mt=t=>(0,n.Gv)(t)?It(t):t;function Lt(t){return!!t&&!0===t["__v_isRef"]}function Kt(t){return Yt(t,!1)}function Pt(t){return Yt(t,!0)}function Yt(t,e){return Lt(t)?t:new Nt(t,e)}class Nt{constructor(t,e){this.dep=new E,this["__v_isRef"]=!0,this["__v_isShallow"]=!1,this._rawValue=e?t:Tt(t),this._value=e?t:Ct(t),this["__v_isShallow"]=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this["__v_isShallow"]||Gt(t)||kt(t);t=i?t:Tt(t),(0,n.$H)(t,e)&&(this._rawValue=t,this._value=i?t:Ct(t),this.dep.trigger())}}function Ft(t){t.dep&&t.dep.trigger()}function Bt(t){return Lt(t)?t.value:t}function Ut(t){return(0,n.Tn)(t)?t():Bt(t)}const zt={get:(t,e,i)=>"__v_raw"===e?t:Bt(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Lt(r)&&!Lt(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function Jt(t){return Xt(t)?t:new Proxy(t,zt)}class Ht{constructor(t){this["__v_isRef"]=!0,this._value=void 0;const e=this.dep=new E,{get:i,set:n}=t(e.track.bind(e),e.trigger.bind(e));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(t){this._set(t)}}function At(t){return new Ht(t)}function jt(t){const e=(0,n.cy)(t)?new Array(t.length):{};for(const i in t)e[i]=$t(t,i);return e}class Ot{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this["__v_isRef"]=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return F(Tt(this._object),this._key)}}class Dt{constructor(t){this._getter=t,this["__v_isRef"]=!0,this["__v_isReadonly"]=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Qt(t,e,i){return Lt(t)?t:(0,n.Tn)(t)?new Dt(t):(0,n.Gv)(t)&&arguments.length>1?$t(t,e,i):Kt(t)}function $t(t,e,i){const n=t[e];return Lt(n)?n:new Ot(t,e,i)}class qt{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new E(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=R-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!e,this.isSSR=i}notify(){if(this.flags|=16,!(8&this.flags||a===this))return m(this,!0),!0}get value(){const t=this.dep.track();return v(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function te(t,e,i=!1){let r,a;(0,n.Tn)(t)?r=t:(r=t.get,a=t.set);const o=new qt(r,a,i);return o}const ee={GET:"get",HAS:"has",ITERATE:"iterate"},ie={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},ne={},re=new WeakMap;let ae;function oe(){return ae}function se(t,e=!1,i=ae){if(i){let e=re.get(i);e||re.set(i,e=[]),e.push(t)}else 0}function le(t,e,i=n.MZ){const{immediate:r,deep:a,once:o,scheduler:s,augmentJob:u,call:c}=i,h=t=>a?t:Gt(t)||!1===a||0===a?ue(t,1):ue(t);let f,p,m,b,g=!1,y=!1;if(Lt(t)?(p=()=>t.value,g=Gt(t)):Xt(t)?(p=()=>h(t),g=!0):(0,n.cy)(t)?(y=!0,g=t.some((t=>Xt(t)||Gt(t))),p=()=>t.map((t=>Lt(t)?t.value:Xt(t)?h(t):(0,n.Tn)(t)?c?c(t,2):t():void 0))):p=(0,n.Tn)(t)?e?c?()=>c(t,2):t:()=>{if(m){X();try{m()}finally{k()}}const e=ae;ae=f;try{return c?c(t,3,[b]):t(b)}finally{ae=e}}:n.tE,e&&a){const t=p,e=!0===a?1/0:a;p=()=>ue(t(),e)}const Z=l(),_=()=>{f.stop(),Z&&Z.active&&(0,n.TF)(Z.effects,f)};if(o&&e){const t=e;e=(...e)=>{t(...e),_()}}let v=y?new Array(t.length).fill(ne):ne;const w=t=>{if(1&f.flags&&(f.dirty||t))if(e){const t=f.run();if(a||g||(y?t.some(((t,e)=>(0,n.$H)(t,v[e]))):(0,n.$H)(t,v))){m&&m();const i=ae;ae=f;try{const i=[t,v===ne?void 0:y&&v[0]===ne?[]:v,b];v=t,c?c(e,3,i):e(...i)}finally{ae=i}}}else f.run()};return u&&u(w),f=new d(p),f.scheduler=s?()=>s(w,!1):w,b=t=>se(t,!1,f),m=f.onStop=()=>{const t=re.get(f);if(t){if(c)c(t,4);else for(const e of t)e();re.delete(f)}},e?r?w(!0):v=f.run():s?s(w.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}function ue(t,e=1/0,i){if(e<=0||!(0,n.Gv)(t)||t["__v_skip"])return t;if(i=i||new Set,i.has(t))return t;if(i.add(t),e--,Lt(t))ue(t.value,e,i);else if((0,n.cy)(t))for(let n=0;n<t.length;n++)ue(t[n],e,i);else if((0,n.vM)(t)||(0,n.CE)(t))t.forEach((t=>{ue(t,e,i)}));else if((0,n.Qd)(t)){for(const n in t)ue(t[n],e,i);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ue(t[n],e,i)}return t}},1114:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function a(t){var e=r(t,"string");return"symbol"==n(e)?e:String(e)}function o(t,e,i){return e=a(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,{A:function(){return o}})},1181:function(t,e,i){"use strict";var n,r,a,o=i(8622),s=i(4576),l=i(34),u=i(6699),c=i(9297),d=i(7629),h=i(6119),f=i(421),p="Object already initialized",m=s.TypeError,b=s.WeakMap,g=function(t){return a(t)?r(t):n(t,{})},y=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return i}};if(o||d.state){var Z=d.state||(d.state=new b);Z.get=Z.get,Z.has=Z.has,Z.set=Z.set,n=function(t,e){if(Z.has(t))throw new m(p);return e.facade=t,Z.set(t,e),e},r=function(t){return Z.get(t)||{}},a=function(t){return Z.has(t)}}else{var _=h("state");f[_]=!0,n=function(t,e){if(c(t,_))throw new m(p);return e.facade=t,u(t,_,e),e},r=function(t){return c(t,_)?t[_]:{}},a=function(t){return c(t,_)}}t.exports={set:n,get:r,has:a,enforce:g,getterFor:y}},1291:function(t,e,i){"use strict";var n=i(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},1584:function(t,e,i){"use strict";var n=i(8756),r=i(5643),a=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var l="undefined"===typeof window?[String,Array]:[String,Array,Element,NodeList];e.A={render:function(){var t=this.crossorigin||void 0;return(0,n.h)("div",{style:this.containerStyle},[(0,n.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:t})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:l,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var t=this.$options.props,e=(t.containerStyle,t.src,t.alt,t.imgStyle,s(t,["containerStyle","src","alt","imgStyle"])),i={};for(var n in e)void 0!==this[n]&&(i[n]=this[n]);this.cropper=new a.default(this.$refs.img,i)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.cropper.replace(t,e)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(t,e){return this.cropper.move(t,e)},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.cropper.moveTo(t,e)},relativeZoom:function(t,e){return this.cropper.zoom(t,e)},zoomTo:function(t,e){return this.cropper.zoomTo(t,e)},rotate:function(t){return this.cropper.rotate(t)},rotateTo:function(t){return this.cropper.rotateTo(t)},scaleX:function(t){return this.cropper.scaleX(t)},scaleY:function(t){return this.cropper.scaleY(t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.cropper.scale(t,e)},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cropper.getData(t)},setData:function(t){return this.cropper.setData(t)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(t){return this.cropper.setCanvasData(t)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(t){return this.cropper.setCropBoxData(t)},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cropper.getCroppedCanvas(t)},setAspectRatio:function(t){return this.cropper.setAspectRatio(t)},setDragMode:function(t){return this.cropper.setDragMode(t)}}}},1625:function(t,e,i){"use strict";var n=i(9504);t.exports=n({}.isPrototypeOf)},1828:function(t,e,i){"use strict";var n=i(9504),r=i(9297),a=i(5397),o=i(9617).indexOf,s=i(421),l=n([].push);t.exports=function(t,e){var i,n=a(t),u=0,c=[];for(i in n)!r(s,i)&&r(n,i)&&l(c,i);while(e.length>u)r(n,i=e[u++])&&(~o(c,i)||l(c,i));return c}},2106:function(t,e,i){"use strict";var n=i(283),r=i(4913);t.exports=function(t,e,i){return i.get&&n(i.get,e,{getter:!0}),i.set&&n(i.set,e,{setter:!0}),r.f(t,e,i)}},2140:function(t,e,i){"use strict";var n=i(8227),r=n("toStringTag"),a={};a[r]="z",t.exports="[object z]"===String(a)},2195:function(t,e,i){"use strict";var n=i(9504),r=n({}.toString),a=n("".slice);t.exports=function(t){return a(r(t),8,-1)}},2777:function(t,e,i){"use strict";var n=i(9565),r=i(34),a=i(757),o=i(5966),s=i(4270),l=i(8227),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!r(t)||a(t))return t;var i,l=o(t,c);if(l){if(void 0===e&&(e="default"),i=n(l,t,e),!r(i)||a(i))return i;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2796:function(t,e,i){"use strict";var n=i(9039),r=i(4901),a=/#|\.prototype\./,o=function(t,e){var i=l[s(t)];return i===c||i!==u&&(r(e)?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,i){if(t<i)throw new e("Not enough arguments");return t}},2839:function(t,e,i){"use strict";var n=i(4576),r=n.navigator,a=r&&r.userAgent;t.exports=a?String(a):""},3329:function(t,e,i){"use strict";i.d(e,{A:function(){return L}});i(4114);var n={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const r=Object.create(null);for(const K in n)Object.hasOwn(n,K)&&(r[n[K]]=K);const a={to:{},get:{}};function o(t,e,i){return Math.min(Math.max(e,t),i)}function s(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){const e=t.slice(0,3).toLowerCase();let i,n;switch(e){case"hsl":i=a.get.hsl(t),n="hsl";break;case"hwb":i=a.get.hwb(t),n="hwb";break;default:i=a.get.rgb(t),n="rgb";break}return i?{model:n,value:i}:null},a.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,i=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,s=/^(\w+)$/;let l,u,c,d=[0,0,0,1];if(l=t.match(i)){for(c=l[2],l=l[1],u=0;u<3;u++){const t=2*u;d[u]=Number.parseInt(l.slice(t,t+2),16)}c&&(d[3]=Number.parseInt(c,16)/255)}else if(l=t.match(e)){for(l=l[1],c=l[3],u=0;u<3;u++)d[u]=Number.parseInt(l[u]+l[u],16);c&&(d[3]=Number.parseInt(c+c,16)/255)}else if(l=t.match(r)){for(u=0;u<3;u++)d[u]=Number.parseInt(l[u+1],10);l[4]&&(d[3]=l[5]?.01*Number.parseFloat(l[4]):Number.parseFloat(l[4]))}else{if(!(l=t.match(a)))return(l=t.match(s))?"transparent"===l[1]?[0,0,0,0]:Object.hasOwn(n,l[1])?(d=n[l[1]],d[3]=1,d):null:null;for(u=0;u<3;u++)d[u]=Math.round(2.55*Number.parseFloat(l[u+1]));l[4]&&(d[3]=l[5]?.01*Number.parseFloat(l[4]):Number.parseFloat(l[4]))}for(u=0;u<3;u++)d[u]=o(d[u],0,255);return d[3]=o(d[3],0,1),d},a.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=t.match(e);if(i){const t=Number.parseFloat(i[4]),e=(Number.parseFloat(i[1])%360+360)%360,n=o(Number.parseFloat(i[2]),0,100),r=o(Number.parseFloat(i[3]),0,100),a=o(Number.isNaN(t)?1:t,0,1);return[e,n,r,a]}return null},a.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=t.match(e);if(i){const t=Number.parseFloat(i[4]),e=(Number.parseFloat(i[1])%360+360)%360,n=o(Number.parseFloat(i[2]),0,100),r=o(Number.parseFloat(i[3]),0,100),a=o(Number.isNaN(t)?1:t,0,1);return[e,n,r,a]}return null},a.to.hex=function(...t){return"#"+s(t[0])+s(t[1])+s(t[2])+(t[3]<1?s(Math.round(255*t[3])):"")},a.to.rgb=function(...t){return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+i+"%, "+n+"%)":"rgba("+e+"%, "+i+"%, "+n+"%, "+t[3]+")"},a.to.hsl=function(...t){return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(...t){let e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(...t){return r[t.slice(0,3)]};var l=a,u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const c={};for(const K of Object.keys(u))c[u[K]]=K;const d={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var h=d;const f=(6/29)**3;for(const K of Object.keys(d)){if(!("channels"in d[K]))throw new Error("missing channels property: "+K);if(!("labels"in d[K]))throw new Error("missing channel labels property: "+K);if(d[K].labels.length!==d[K].channels)throw new Error("channel and label counts mismatch: "+K);const{channels:t,labels:e}=d[K];delete d[K].channels,delete d[K].labels,Object.defineProperty(d[K],"channels",{value:t}),Object.defineProperty(d[K],"labels",{value:e})}function p(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}function m(){const t={},e=Object.keys(h);for(let{length:i}=e,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}function b(t){const e=m(),i=[t];e[t].distance=0;while(i.length>0){const t=i.pop(),n=Object.keys(h[t]);for(let{length:r}=n,a=0;a<r;a++){const r=n[a],o=e[r];-1===o.distance&&(o.distance=e[t].distance+1,o.parent=t,i.unshift(r))}}return e}function g(t,e){return function(i){return e(t(i))}}function y(t,e){const i=[e[t].parent,t];let n=h[e[t].parent][t],r=e[t].parent;while(e[r].parent)i.unshift(e[r].parent),n=g(h[e[r].parent][r],n),r=e[r].parent;return n.conversion=i,n}function Z(t){const e=b(t),i={},n=Object.keys(e);for(let{length:r}=n,a=0;a<r;a++){const t=n[a],r=e[t];null!==r.parent&&(i[t]=y(t,e))}return i}d.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,r=Math.min(e,i,n),a=Math.max(e,i,n),o=a-r;let s,l;switch(a){case r:s=0;break;case e:s=(i-n)/o;break;case i:s=2+(n-e)/o;break;case n:s=4+(e-i)/o;break}s=Math.min(60*s,360),s<0&&(s+=360);const u=(r+a)/2;return l=a===r?0:u<=.5?o/(a+r):o/(2-a-r),[s,100*l,100*u]},d.rgb.hsv=function(t){let e,i,n,r,a;const o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),d=function(t){return(u-t)/6/c+.5};if(0===c)r=0,a=0;else{switch(a=c/u,e=d(o),i=d(s),n=d(l),u){case o:r=n-i;break;case s:r=1/3+e-n;break;case l:r=2/3+i-e;break}r<0?r+=1:r>1&&(r-=1)}return[360*r,100*a,100*u]},d.rgb.hwb=function(t){const e=t[0],i=t[1];let n=t[2];const r=d.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(i,n));return n=1-1/255*Math.max(e,Math.max(i,n)),[r,100*a,100*n]},d.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,r=Math.min(1-e,1-i,1-n),a=(1-e-r)/(1-r)||0,o=(1-i-r)/(1-r)||0,s=(1-n-r)/(1-r)||0;return[100*a,100*o,100*s,100*r]},d.rgb.keyword=function(t){const e=c[t];if(e)return e;let i,n=Number.POSITIVE_INFINITY;for(const r of Object.keys(u)){const e=u[r],a=p(t,e);a<n&&(n=a,i=r)}return i},d.keyword.rgb=function(t){return u[t]},d.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const r=.4124564*e+.3575761*i+.1804375*n,a=.2126729*e+.7151522*i+.072175*n,o=.0193339*e+.119192*i+.9503041*n;return[100*r,100*a,100*o]},d.rgb.lab=function(t){const e=d.rgb.xyz(t);let i=e[0],n=e[1],r=e[2];i/=95.047,n/=100,r/=108.883,i=i>f?i**(1/3):7.787*i+16/116,n=n>f?n**(1/3):7.787*n+16/116,r=r>f?r**(1/3):7.787*r+16/116;const a=116*n-16,o=500*(i-n),s=200*(n-r);return[a,o,s]},d.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,n=t[2]/100;let r,a;if(0===i)return a=255*n,[a,a,a];const o=n<.5?n*(1+i):n+i-n*i,s=2*n-o,l=[0,0,0];for(let u=0;u<3;u++)r=e+1/3*-(u-1),r<0&&r++,r>1&&r--,a=6*r<1?s+6*(o-s)*r:2*r<1?o:3*r<2?s+(o-s)*(2/3-r)*6:s,l[u]=255*a;return l},d.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,n=t[2]/100,r=i;const a=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,r*=a<=1?a:2-a;const o=(n+i)/2,s=0===n?2*r/(a+r):2*i/(n+i);return[e,100*s,100*o]},d.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let n=t[2]/100;const r=Math.floor(e)%6,a=e-Math.floor(e),o=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a));switch(n*=255,r){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},d.hsv.hsl=function(t){const e=t[0],i=t[1]/100,n=t[2]/100,r=Math.max(n,.01);let a,o;o=(2-i)*n;const s=(2-i)*r;return a=i*r,a/=s<=1?s:2-s,a=a||0,o/=2,[e,100*a,100*o]},d.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,n=t[2]/100;const r=i+n;let a;r>1&&(i/=r,n/=r);const o=Math.floor(6*e),s=1-n;a=6*e-o,0!==(1&o)&&(a=1-a);const l=i+a*(s-i);let u,c,d;switch(o){default:case 6:case 0:u=s,c=l,d=i;break;case 1:u=l,c=s,d=i;break;case 2:u=i,c=s,d=l;break;case 3:u=i,c=l,d=s;break;case 4:u=l,c=i,d=s;break;case 5:u=s,c=i,d=l;break}return[255*u,255*c,255*d]},d.cmyk.rgb=function(t){const e=t[0]/100,i=t[1]/100,n=t[2]/100,r=t[3]/100,a=1-Math.min(1,e*(1-r)+r),o=1-Math.min(1,i*(1-r)+r),s=1-Math.min(1,n*(1-r)+r);return[255*a,255*o,255*s]},d.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,n=t[2]/100;let r,a,o;return r=3.2404542*e+-1.5371385*i+-.4985314*n,a=-.969266*e+1.8760108*i+.041556*n,o=.0556434*e+-.2040259*i+1.0572252*n,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[255*r,255*a,255*o]},d.xyz.lab=function(t){let e=t[0],i=t[1],n=t[2];e/=95.047,i/=100,n/=108.883,e=e>f?e**(1/3):7.787*e+16/116,i=i>f?i**(1/3):7.787*i+16/116,n=n>f?n**(1/3):7.787*n+16/116;const r=116*i-16,a=500*(e-i),o=200*(i-n);return[r,a,o]},d.lab.xyz=function(t){const e=t[0],i=t[1],n=t[2];let r,a,o;a=(e+16)/116,r=i/500+a,o=a-n/200;const s=a**3,l=r**3,u=o**3;return a=s>f?s:(a-16/116)/7.787,r=l>f?l:(r-16/116)/7.787,o=u>f?u:(o-16/116)/7.787,r*=95.047,a*=100,o*=108.883,[r,a,o]},d.lab.lch=function(t){const e=t[0],i=t[1],n=t[2];let r;const a=Math.atan2(n,i);r=360*a/2/Math.PI,r<0&&(r+=360);const o=Math.sqrt(i*i+n*n);return[e,o,r]},d.lch.lab=function(t){const e=t[0],i=t[1],n=t[2],r=n/360*2*Math.PI,a=i*Math.cos(r),o=i*Math.sin(r);return[e,a,o]},d.rgb.ansi16=function(t,e=null){const[i,n,r]=t;let a=null===e?d.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),0===a)return 30;let o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===a&&(o+=60),o},d.hsv.ansi16=function(t){return d.rgb.ansi16(d.hsv.rgb(t),t[2])},d.rgb.ansi256=function(t){const e=t[0],i=t[1],n=t[2];if(e>>4===i>>4&&i>>4===n>>4)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;const r=16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5);return r},d.ansi16.rgb=function(t){t=t[0];let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=.5*(Math.trunc(t>50)+1),n=(1&e)*i*255,r=(e>>1&1)*i*255,a=(e>>2&1)*i*255;return[n,r,a]},d.ansi256.rgb=function(t){if(t=t[0],t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;const i=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,r=e%6/5*255;return[i,n,r]},d.rgb.hex=function(t){const e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),i=e.toString(16).toUpperCase();return"000000".slice(i.length)+i},d.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=[...i].map((t=>t+t)).join(""));const n=Number.parseInt(i,16),r=n>>16&255,a=n>>8&255,o=255&n;return[r,a,o]},d.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,r=Math.max(Math.max(e,i),n),a=Math.min(Math.min(e,i),n),o=r-a;let s;const l=o<1?a/(1-o):0;return s=o<=0?0:r===e?(i-n)/o%6:r===i?2+(n-e)/o:4+(e-i)/o,s/=6,s%=1,[360*s,100*o,100*l]},d.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,n=i<.5?2*e*i:2*e*(1-i);let r=0;return n<1&&(r=(i-.5*n)/(1-n)),[t[0],100*n,100*r]},d.hsv.hcg=function(t){const e=t[1]/100,i=t[2]/100,n=e*i;let r=0;return n<1&&(r=(i-n)/(1-n)),[t[0],100*n,100*r]},d.hcg.rgb=function(t){const e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];const r=[0,0,0],a=e%1*6,o=a%1,s=1-o;let l=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return l=(1-i)*n,[255*(i*r[0]+l),255*(i*r[1]+l),255*(i*r[2]+l)]},d.hcg.hsv=function(t){const e=t[1]/100,i=t[2]/100,n=e+i*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},d.hcg.hsl=function(t){const e=t[1]/100,i=t[2]/100,n=i*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},d.hcg.hwb=function(t){const e=t[1]/100,i=t[2]/100,n=e+i*(1-e);return[t[0],100*(n-e),100*(1-n)]},d.hwb.hcg=function(t){const e=t[1]/100,i=t[2]/100,n=1-i,r=n-e;let a=0;return r<1&&(a=(n-r)/(1-r)),[t[0],100*r,100*a]},d.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},d.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},d.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},d.gray.hsl=function(t){return[0,0,t[0]]},d.gray.hsv=d.gray.hsl,d.gray.hwb=function(t){return[0,100,t[0]]},d.gray.cmyk=function(t){return[0,0,0,t[0]]},d.gray.lab=function(t){return[t[0],0,0]},d.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),i=(e<<16)+(e<<8)+e,n=i.toString(16).toUpperCase();return"000000".slice(n.length)+n},d.rgb.gray=function(t){const e=(t[0]+t[1]+t[2])/3;return[e/255*100]};var _=Z;const v={},w=Object.keys(h);function S(t){const e=function(...e){const i=e[0];return void 0===i||null===i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function x(t){const e=function(...e){const i=e[0];if(void 0===i||null===i)return i;i.length>1&&(e=i);const n=t(e);if("object"===typeof n)for(let{length:t}=n,r=0;r<t;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}for(const K of w){v[K]={},Object.defineProperty(v[K],"channels",{value:h[K].channels}),Object.defineProperty(v[K],"labels",{value:h[K].labels});const t=_(K),e=Object.keys(t);for(const i of e){const e=t[i];v[K][i]=x(e),v[K][i].raw=S(e)}}var I=v;const W=["keyword","gray","hex"],V={};for(const K of Object.keys(I))V[[...I[K].labels].sort().join("")]=K;const X={};function k(t,e){if(!(this instanceof k))return new k(t,e);if(e&&e in W&&(e=null),e&&!(e in I))throw new Error("Unknown model: "+e);let i,n;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof k)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"===typeof t){const e=l.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,n=I[this.model].channels,this.color=e.value.slice(0,n),this.valpha="number"===typeof e.value[n]?e.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=I[this.model].channels;const i=Array.prototype.slice.call(t,0,n);this.color=M(i,n),this.valpha="number"===typeof t[n]?t[n]:1}else if("number"===typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"===typeof t.alpha?t.alpha:0);const n=e.sort().join("");if(!(n in V))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=V[n];const{labels:r}=I[this.model],a=[];for(i=0;i<r.length;i++)a.push(t[r[i]]);this.color=M(a)}if(X[this.model])for(n=I[this.model].channels,i=0;i<n;i++){const t=X[this.model][i];t&&(this.color[i]=t(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}k.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in l.to?this:this.rgb();e=e.round("number"===typeof t?t:1);const i=1===e.valpha?e.color:[...e.color,this.valpha];return l.to[e.model](...i)},percentString(t){const e=this.rgb().round("number"===typeof t?t:1),i=1===e.valpha?e.color:[...e.color,this.valpha];return l.to.rgb.percent(...i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=I[this.model],{labels:i}=I[this.model];for(let n=0;n<e;n++)t[i[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new k([...this.color.map(R(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new k([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:T("rgb",0,E(255)),green:T("rgb",1,E(255)),blue:T("rgb",2,E(255)),hue:T(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:T("hsl",1,E(100)),lightness:T("hsl",2,E(100)),saturationv:T("hsv",1,E(100)),value:T("hsv",2,E(100)),chroma:T("hcg",1,E(100)),gray:T("hcg",2,E(100)),white:T("hwb",1,E(100)),wblack:T("hwb",2,E(100)),cyan:T("cmyk",0,E(100)),magenta:T("cmyk",1,E(100)),yellow:T("cmyk",2,E(100)),black:T("cmyk",3,E(100)),x:T("xyz",0,E(95.047)),y:T("xyz",1,E(100)),z:T("xyz",2,E(108.833)),l:T("lab",0,E(100)),a:T("lab",1),b:T("lab",2),keyword(t){return void 0!==t?new k(t):I[this.model].keyword(this.color)},hex(t){return void 0!==t?new k(t):l.to.hex(...this.rgb().round().color)},hexa(t){if(void 0!==t)return new k(t);const e=this.rgb().round().color;let i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),l.to.hex(...e)+i},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[i,n]of t.entries()){const t=n/255;e[i]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color,e=(2126*t[0]+7152*t[1]+722*t[2])/1e4;return e<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return k.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let i=e.color[0];return i=(i+t)%360,i=i<0?360+i:i,e.color[0]=i,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const i=t.rgb(),n=this.rgb(),r=void 0===e?.5:e,a=2*r-1,o=i.alpha()-n.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return k.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue(),i.alpha()*r+n.alpha()*(1-r))}};for(const K of Object.keys(I)){if(W.includes(K))continue;const{channels:t}=I[K];k.prototype[K]=function(...t){return this.model===K?new k(this):t.length>0?new k(t,K):new k([...C(I[this.model][K].raw(this.color)),this.valpha],K)},k[K]=function(...e){let i=e[0];return"number"===typeof i&&(i=M(e,t)),new k(i,K)}}function G(t,e){return Number(t.toFixed(e))}function R(t){return function(e){return G(e,t)}}function T(t,e,i){t=Array.isArray(t)?t:[t];for(const n of t)(X[n]||=[])[e]=i;return t=t[0],function(n){let r;return void 0!==n?(i&&(n=i(n)),r=this[t](),r.color[e]=n,r):(r=this[t]().color[e],i&&(r=i(r)),r)}}function E(t){return function(e){return Math.max(0,Math.min(t,e))}}function C(t){return Array.isArray(t)?t:[t]}function M(t,e){for(let i=0;i<e;i++)"number"!==typeof t[i]&&(t[i]=0);return t}var L=k},3392:function(t,e,i){"use strict";var n=i(9504),r=0,a=Math.random(),o=n(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+a,36)}},3706:function(t,e,i){"use strict";var n=i(9504),r=i(4901),a=i(7629),o=n(Function.toString);r(a.inspectSource)||(a.inspectSource=function(t){return o(t)}),t.exports=a.inspectSource},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3724:function(t,e,i){"use strict";var n=i(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3751:function(t,e,i){"use strict";i.d(e,{$9:function(){return B},$V:function(){return n.$V},$u:function(){return n.$u},$y:function(){return n.$y},BA:function(){return n.BA},Bi:function(){return n.Bi},Bs:function(){return n.Bs},C4:function(){return n.C4},CE:function(){return n.CE},D:function(){return wt},D$:function(){return $t},Df:function(){return n.Df},Dl:function(){return n.Dl},E:function(){return n.E},E3:function(){return n.E3},EW:function(){return n.EW},EY:function(){return n.EY},Ef:function(){return le},F:function(){return kt},FK:function(){return n.FK},Fv:function(){return n.Fv},Fw:function(){return n.Fw},GM:function(){return n.GM},Gc:function(){return n.Gc},Gt:function(){return n.Gt},Gw:function(){return n.Gw},Gy:function(){return n.Gy},H4:function(){return n.H4},HF:function(){return n.HF},Ht:function(){return n.Ht},IG:function(){return n.IG},IJ:function(){return n.IJ},Ib:function(){return fe},Ic:function(){return n.Ic},Im:function(){return n.Im},Jo:function(){return Pt},K9:function(){return n.K9},KC:function(){return n.KC},KR:function(){return n.KR},KT:function(){return _t},Kf:function(){return n.Kf},Kh:function(){return n.Kh},LJ:function(){return n.LJ},LM:function(){return n.LM},Lk:function(){return n.Lk},Lu:function(){return n.Lu},MZ:function(){return n.MZ},Mw:function(){return n.Mw},NP:function(){return n.NP},Ng:function(){return n.Ng},OA:function(){return n.OA},OW:function(){return n.OW},PP:function(){return n.PP},PR:function(){return n.PR},PS:function(){return n.PS},PT:function(){return n.PT},Pn:function(){return n.Pn},Po:function(){return gt},Pr:function(){return n.Pr},Q3:function(){return n.Q3},QP:function(){return n.QP},QW:function(){return n.QW},QZ:function(){return n.QZ},Qi:function(){return n.Qi},Qv:function(){return se},R1:function(){return n.R1},R8:function(){return n.R8},RG:function(){return n.RG},SS:function(){return n.SS},Tb:function(){return n.Tb},Tm:function(){return n.Tm},Tq:function(){return n.Tq},Tr:function(){return n.Tr},U4:function(){return n.U4},U_:function(){return n.U_},Ul:function(){return n.Ul},Vq:function(){return n.Vq},Vy:function(){return Zt},WQ:function(){return n.WQ},Wv:function(){return n.Wv},X2:function(){return n.X2},XL:function(){return Ft},XX:function(){return oe},Xq:function(){return bt},Y4:function(){return n.Y4},Y5:function(){return n.Y5},YY:function(){return n.YY},Yj:function(){return n.Yj},Yv:function(){return n.Yv},ZH:function(){return n.ZH},ZQ:function(){return n.ZQ},_B:function(){return n._B},_U:function(){return vt},aG:function(){return P},aT:function(){return n.aT},bF:function(){return n.bF},bU:function(){return n.bU},bj:function(){return n.bj},bn:function(){return n.bn},bo:function(){return n.bo},ch:function(){return n.ch},ci:function(){return n.ci},dA:function(){return n.dA},dY:function(){return n.dY},ds:function(){return n.ds},eB:function(){return _},eW:function(){return n.eW},eX:function(){return n.eX},fE:function(){return n.fE},fn:function(){return n.fn},g2:function(){return n.g2},g8:function(){return n.g8},gN:function(){return n.gN},gW:function(){return n.gW},gh:function(){return n.gh},h:function(){return n.h},hi:function(){return n.hi},hp:function(){return Ht},i9:function(){return n.i9},iD:function(){return n.iD},jC:function(){return n.jC},jR:function(){return te},jr:function(){return n.jr},jt:function(){return n.jt},ju:function(){return n.ju},k6:function(){return n.k6},lH:function(){return Yt},lW:function(){return n.lW},lt:function(){return n.lt},m1:function(){return ue},mu:function(){return n.mu},n:function(){return n.n},nD:function(){return n.nD},nI:function(){return n.nI},nT:function(){return n.nT},o5:function(){return n.o5},p9:function(){return n.p9},pI:function(){return n.pI},pM:function(){return n.pM},pR:function(){return n.pR},qG:function(){return n.qG},qL:function(){return n.qL},qP:function(){return n.qP},qR:function(){return n.qR},rE:function(){return n.rE},rO:function(){return n.rO},rU:function(){return n.rU},rY:function(){return n.rY},rk:function(){return n.rk},sV:function(){return n.sV},tB:function(){return n.tB},tC:function(){return n.tC},tG:function(){return n.tG},tY:function(){return n.tY},u1:function(){return Bt},uX:function(){return n.uX},uY:function(){return n.uY},ux:function(){return n.ux},v6:function(){return n.v6},v_:function(){return n.v_},vv:function(){return n.vv},wB:function(){return n.wB},wX:function(){return n.wX},wk:function(){return n.wk},xo:function(){return n.xo},y$:function(){return n.y$},yC:function(){return n.yC},zz:function(){return n.zz}});var n=i(641),r=i(33),a=i(953);let o;const s="undefined"!==typeof window&&window.trustedTypes;if(s)try{o=s.createPolicy("vue",{createHTML:t=>t})}catch(pe){}const l=o?t=>o.createHTML(t):t=>t,u="http://www.w3.org/2000/svg",c="http://www.w3.org/1998/Math/MathML",d="undefined"!==typeof document?document:null,h=d&&d.createElement("template"),f={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r="svg"===e?d.createElementNS(u,t):"mathml"===e?d.createElementNS(c,t):i?d.createElement(t,{is:i}):d.createElement(t);return"select"===t&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:t=>d.createTextNode(t),createComment:t=>d.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>d.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,r,a){const o=i?i.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),i),r===a||!(r=r.nextSibling))break}else{h.innerHTML=l("svg"===n?`<svg>${t}</svg>`:"mathml"===n?`<math>${t}</math>`:t);const r=h.content;if("svg"===n||"mathml"===n){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},p="transition",m="animation",b=Symbol("_vtc"),g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y=(0,r.X$)({},n.QP,g),Z=t=>(t.displayName="Transition",t.props=y,t),_=Z(((t,{slots:e})=>(0,n.h)(n.pR,S(t),e))),v=(t,e=[])=>{(0,r.cy)(t)?t.forEach((t=>t(...e))):t&&t(...e)},w=t=>!!t&&((0,r.cy)(t)?t.some((t=>t.length>1)):t.length>1);function S(t){const e={};for(const r in t)r in g||(e[r]=t[r]);if(!1===t.css)return e;const{name:i="v",type:n,duration:a,enterFromClass:o=`${i}-enter-from`,enterActiveClass:s=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:h=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=t,m=x(a),b=m&&m[0],y=m&&m[1],{onBeforeEnter:Z,onEnter:_,onEnterCancelled:S,onLeave:I,onLeaveCancelled:k,onBeforeAppear:R=Z,onAppear:T=_,onAppearCancelled:E=S}=e,M=(t,e,i,n)=>{t._enterCancelled=n,V(t,e?d:l),V(t,e?c:s),i&&i()},L=(t,e)=>{t._isLeaving=!1,V(t,h),V(t,p),V(t,f),e&&e()},K=t=>(e,i)=>{const r=t?T:_,a=()=>M(e,t,i);v(r,[e,a]),X((()=>{V(e,t?u:o),W(e,t?d:l),w(r)||G(e,n,b,a)}))};return(0,r.X$)(e,{onBeforeEnter(t){v(Z,[t]),W(t,o),W(t,s)},onBeforeAppear(t){v(R,[t]),W(t,u),W(t,c)},onEnter:K(!1),onAppear:K(!0),onLeave(t,e){t._isLeaving=!0;const i=()=>L(t,e);W(t,h),t._enterCancelled?(W(t,f),C()):(C(),W(t,f)),X((()=>{t._isLeaving&&(V(t,h),W(t,p),w(I)||G(t,n,y,i))})),v(I,[t,i])},onEnterCancelled(t){M(t,!1,void 0,!0),v(S,[t])},onAppearCancelled(t){M(t,!0,void 0,!0),v(E,[t])},onLeaveCancelled(t){L(t),v(k,[t])}})}function x(t){if(null==t)return null;if((0,r.Gv)(t))return[I(t.enter),I(t.leave)];{const e=I(t);return[e,e]}}function I(t){const e=(0,r.Ro)(t);return e}function W(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[b]||(t[b]=new Set)).add(e)}function V(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const i=t[b];i&&(i.delete(e),i.size||(t[b]=void 0))}function X(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let k=0;function G(t,e,i,n){const r=t._endId=++k,a=()=>{r===t._endId&&n()};if(null!=i)return setTimeout(a,i);const{type:o,timeout:s,propCount:l}=R(t,e);if(!o)return n();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),a()},h=e=>{e.target===t&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),s+1),t.addEventListener(u,h)}function R(t,e){const i=window.getComputedStyle(t),n=t=>(i[t]||"").split(", "),r=n(`${p}Delay`),a=n(`${p}Duration`),o=T(r,a),s=n(`${m}Delay`),l=n(`${m}Duration`),u=T(s,l);let c=null,d=0,h=0;e===p?o>0&&(c=p,d=o,h=a.length):e===m?u>0&&(c=m,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?p:m:null,h=c?c===p?a.length:l.length:0);const f=c===p&&/\b(transform|all)(,|$)/.test(n(`${p}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function T(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,i)=>E(e)+E(t[i]))))}function E(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function C(){return document.body.offsetHeight}function M(t,e,i){const n=t[b];n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const L=Symbol("_vod"),K=Symbol("_vsh"),P={beforeMount(t,{value:e},{transition:i}){t[L]="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):Y(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!==!i&&(n?e?(n.beforeEnter(t),Y(t,!0),n.enter(t)):n.leave(t,(()=>{Y(t,!1)})):Y(t,e))},beforeUnmount(t,{value:e}){Y(t,e)}};function Y(t,e){t.style.display=e?t[L]:"none",t[K]=!e}function N(){P.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const F=Symbol("");function B(t){const e=(0,n.nI)();if(!e)return;const i=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>z(t,i)))};const a=()=>{const n=t(e.proxy);e.ce?z(e.ce,n):U(e.subTree,n),i(n)};(0,n.Ic)((()=>{(0,n.Dl)(a)})),(0,n.sV)((()=>{(0,n.wB)(a,r.tE,{flush:"post"});const t=new MutationObserver(a);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,n.hi)((()=>t.disconnect()))}))}function U(t,e){if(128&t.shapeFlag){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{U(i.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el)z(t.el,e);else if(t.type===n.FK)t.children.forEach((t=>U(t,e)));else if(t.type===n.jC){let{el:i,anchor:n}=t;while(i){if(z(i,e),i===n)break;i=i.nextSibling}}}function z(t,e){if(1===t.nodeType){const i=t.style;let n="";for(const t in e){const a=(0,r.pU)(e[t]);i.setProperty(`--${t}`,a),n+=`--${t}: ${a};`}i[F]=n}}const J=/(^|;)\s*display\s*:/;function H(t,e,i){const n=t.style,a=(0,r.Kg)(i);let o=!1;if(i&&!a){if(e)if((0,r.Kg)(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==i[e]&&j(n,e,"")}else for(const t in e)null==i[t]&&j(n,t,"");for(const t in i)"display"===t&&(o=!0),j(n,t,i[t])}else if(a){if(e!==i){const t=n[F];t&&(i+=";"+t),n.cssText=i,o=J.test(i)}}else e&&t.removeAttribute("style");L in t&&(t[L]=o?n.display:"",t[K]&&(n.display="none"))}const A=/\s*!important$/;function j(t,e,i){if((0,r.cy)(i))i.forEach((i=>j(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=Q(t,e);A.test(i)?t.setProperty((0,r.Tg)(n),i.replace(A,""),"important"):t[n]=i}}const O=["Webkit","Moz","ms"],D={};function Q(t,e){const i=D[e];if(i)return i;let n=(0,r.PT)(e);if("filter"!==n&&n in t)return D[e]=n;n=(0,r.ZH)(n);for(let r=0;r<O.length;r++){const i=O[r]+n;if(i in t)return D[e]=i}return e}const $="http://www.w3.org/1999/xlink";function q(t,e,i,n,a,o=(0,r.J$)(e)){n&&e.startsWith("xlink:")?null==i?t.removeAttributeNS($,e.slice(6,e.length)):t.setAttributeNS($,e,i):null==i||o&&!(0,r.Y2)(i)?t.removeAttribute(e):t.setAttribute(e,o?"":(0,r.Bm)(i)?String(i):i)}function tt(t,e,i,n,a){if("innerHTML"===e||"textContent"===e)return void(null!=i&&(t[e]="innerHTML"===e?l(i):i));const o=t.tagName;if("value"===e&&"PROGRESS"!==o&&!o.includes("-")){const n="OPTION"===o?t.getAttribute("value")||"":t.value,r=null==i?"checkbox"===t.type?"on":"":String(i);return n===r&&"_value"in t||(t.value=r),null==i&&t.removeAttribute(e),void(t._value=i)}let s=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=(0,r.Y2)(i):null==i&&"string"===n?(i="",s=!0):"number"===n&&(i=0,s=!0)}try{t[e]=i}catch(pe){0}s&&t.removeAttribute(a||e)}function et(t,e,i,n){t.addEventListener(e,i,n)}function it(t,e,i,n){t.removeEventListener(e,i,n)}const nt=Symbol("_vei");function rt(t,e,i,n,r=null){const a=t[nt]||(t[nt]={}),o=a[e];if(n&&o)o.value=n;else{const[i,s]=ot(e);if(n){const o=a[e]=ct(n,r);et(t,i,o,s)}else o&&(it(t,i,o,s),a[e]=void 0)}}const at=/(?:Once|Passive|Capture)$/;function ot(t){let e;if(at.test(t)){let i;e={};while(i=t.match(at))t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):(0,r.Tg)(t.slice(2));return[i,e]}let st=0;const lt=Promise.resolve(),ut=()=>st||(lt.then((()=>st=0)),st=Date.now());function ct(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();(0,n.qL)(dt(t,i.value),e,5,[t])};return i.value=t,i.attached=ut(),i}function dt(t,e){if((0,r.cy)(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const ht=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ft=(t,e,i,n,a,o)=>{const s="svg"===a;"class"===e?M(t,n,s):"style"===e?H(t,i,n):(0,r.Mp)(e)?(0,r.CP)(e)||rt(t,e,i,n,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):pt(t,e,n,s))?(tt(t,e,n),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||q(t,e,n,s,o,"value"!==e)):!t._isVueCE||!/[A-Z]/.test(e)&&(0,r.Kg)(n)?("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),q(t,e,n,s)):tt(t,(0,r.PT)(e),n,o,e)};function pt(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&ht(e)&&(0,r.Tn)(i));if("spellcheck"===e||"draggable"===e||"translate"===e||"autocorrect"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!ht(e)||!(0,r.Kg)(i))&&e in t}const mt={};function bt(t,e,i){const a=(0,n.pM)(t,e);(0,r.Qd)(a)&&(0,r.X$)(a,e);class o extends Zt{constructor(t){super(a,t,i)}}return o.def=a,o}const gt=(t,e)=>bt(t,e,ue),yt="undefined"!==typeof HTMLElement?HTMLElement:class{};class Zt extends yt{constructor(t,e={},i=le){super(),this._def=t,this._props=e,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==le?this._root=this.shadowRoot:!1!==t.shadowRoot?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._resolved||this._parseSlots(),this._connected=!0;let t=this;while(t=t&&(t.parentNode||t.host))if(t instanceof Zt){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then((()=>{this._pendingResolve=void 0,this._resolveDef()})):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,(0,n.dY)((()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)}))}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})),this._ob.observe(this,{attributes:!0});const t=(t,e=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:n}=t;let a;if(i&&!(0,r.cy)(i))for(const o in i){const t=i[o];(t===Number||t&&t.type===Number)&&(o in this._props&&(this._props[o]=(0,r.Ro)(this._props[o])),(a||(a=Object.create(null)))[(0,r.PT)(o)]=!0)}this._numberProps=a,this._resolveProps(t),this.shadowRoot&&this._applyStyles(n),this._mount(t)},e=this._def.__asyncLoader;e?this._pendingResolve=e().then((e=>{e.configureApp=this._def.configureApp,t(this._def=e,!0)})):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const e=this._instance&&this._instance.exposed;if(e)for(const i in e)(0,r.$3)(this,i)||Object.defineProperty(this,i,{get:()=>(0,a.R1)(e[i])})}_resolveProps(t){const{props:e}=t,i=(0,r.cy)(e)?e:Object.keys(e||{});for(const n of Object.keys(this))"_"!==n[0]&&i.includes(n)&&this._setProp(n,this[n]);for(const n of i.map(r.PT))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(t){this._setProp(n,t,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const e=this.hasAttribute(t);let i=e?this.getAttribute(t):mt;const n=(0,r.PT)(t);e&&this._numberProps&&this._numberProps[n]&&(i=(0,r.Ro)(i)),this._setProp(n,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,n=!1){if(e!==this._props[t]&&(e===mt?delete this._props[t]:(this._props[t]=e,"key"===t&&this._app&&(this._app._ceVNode.key=e)),n&&this._instance&&this._update(),i)){const i=this._ob;i&&i.disconnect(),!0===e?this.setAttribute((0,r.Tg)(t),""):"string"===typeof e||"number"===typeof e?this.setAttribute((0,r.Tg)(t),e+""):e||this.removeAttribute((0,r.Tg)(t)),i&&i.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),oe(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const e=(0,n.bF)(this._def,(0,r.X$)(t,this._props));return this._instance||(e.ce=t=>{this._instance=t,t.ce=this,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,(0,r.Qd)(e[0])?(0,r.X$)({detail:e},e[0]):{detail:e}))};t.emit=(t,...i)=>{e(t,i),(0,r.Tg)(t)!==t&&e((0,r.Tg)(t),i)},this._setParent()}),e}_applyStyles(t,e){if(!t)return;if(e){if(e===this._def||this._styleChildren.has(e))return;this._styleChildren.add(e)}const i=this._nonce;for(let n=t.length-1;n>=0;n--){const e=document.createElement("style");i&&e.setAttribute("nonce",i),e.textContent=t[n],this.shadowRoot.prepend(e)}}_parseSlots(){const t=this._slots={};let e;while(e=this.firstChild){const i=1===e.nodeType&&e.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(e),this.removeChild(e)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),e=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const n=t[i],r=n.getAttribute("name")||"default",a=this._slots[r],o=n.parentNode;if(a)for(const t of a){if(e&&1===t.nodeType){const i=e+"-s",n=document.createTreeWalker(t,1);let r;t.setAttribute(i,"");while(r=n.nextNode())r.setAttribute(i,"")}o.insertBefore(t,n)}else while(n.firstChild)o.insertBefore(n.firstChild,n);o.removeChild(n)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){0}}function _t(t){const e=(0,n.nI)(),i=e&&e.ce;return i||null}function vt(){const t=_t();return t&&t.shadowRoot}function wt(t="$style"){{const e=(0,n.nI)();if(!e)return r.MZ;const i=e.type.__cssModules;if(!i)return r.MZ;const a=i[t];return a||r.MZ}}const St=new WeakMap,xt=new WeakMap,It=Symbol("_moveCb"),Wt=Symbol("_enterCb"),Vt=t=>(delete t.props.mode,t),Xt=Vt({name:"TransitionGroup",props:(0,r.X$)({},y,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=(0,n.nI)(),r=(0,n.Gy)();let o,s;return(0,n.$u)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!Et(o[0].el,i.vnode.el,e))return void(o=[]);o.forEach(Gt),o.forEach(Rt);const n=o.filter(Tt);C(),n.forEach((t=>{const i=t.el,n=i.style;W(i,e),n.transform=n.webkitTransform=n.transitionDuration="";const r=i[It]=t=>{t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",r),i[It]=null,V(i,e))};i.addEventListener("transitionend",r)})),o=[]})),()=>{const l=(0,a.ux)(t),u=S(l);let c=l.tag||n.FK;if(o=[],s)for(let t=0;t<s.length;t++){const e=s[t];e.el&&e.el instanceof Element&&(o.push(e),(0,n.MZ)(e,(0,n.OW)(e,u,r,i)),St.set(e,e.el.getBoundingClientRect()))}s=e.default?(0,n.Df)(e.default()):[];for(let t=0;t<s.length;t++){const e=s[t];null!=e.key&&(0,n.MZ)(e,(0,n.OW)(e,u,r,i))}return(0,n.bF)(c,null,s)}}}),kt=Xt;function Gt(t){const e=t.el;e[It]&&e[It](),e[Wt]&&e[Wt]()}function Rt(t){xt.set(t,t.el.getBoundingClientRect())}function Tt(t){const e=St.get(t),i=xt.get(t),n=e.left-i.left,r=e.top-i.top;if(n||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${r}px)`,e.transitionDuration="0s",t}}function Et(t,e,i){const n=t.cloneNode(),r=t[b];r&&r.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))})),i.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const a=1===e.nodeType?e:e.parentNode;a.appendChild(n);const{hasTransform:o}=R(n);return a.removeChild(n),o}const Ct=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,r.cy)(e)?t=>(0,r.DY)(e,t):e};function Mt(t){t.target.composing=!0}function Lt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Kt=Symbol("_assign"),Pt={created(t,{modifiers:{lazy:e,trim:i,number:n}},a){t[Kt]=Ct(a);const o=n||a.props&&"number"===a.props.type;et(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i&&(n=n.trim()),o&&(n=(0,r.bB)(n)),t[Kt](n)})),i&&et(t,"change",(()=>{t.value=t.value.trim()})),e||(et(t,"compositionstart",Mt),et(t,"compositionend",Lt),et(t,"change",Lt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,oldValue:i,modifiers:{lazy:n,trim:a,number:o}},s){if(t[Kt]=Ct(s),t.composing)return;const l=!o&&"number"!==t.type||/^0\d/.test(t.value)?t.value:(0,r.bB)(t.value),u=null==e?"":e;if(l!==u){if(document.activeElement===t&&"range"!==t.type){if(n&&e===i)return;if(a&&t.value.trim()===u)return}t.value=u}}},Yt={deep:!0,created(t,e,i){t[Kt]=Ct(i),et(t,"change",(()=>{const e=t._modelValue,i=zt(t),n=t.checked,a=t[Kt];if((0,r.cy)(e)){const t=(0,r.u3)(e,i),o=-1!==t;if(n&&!o)a(e.concat(i));else if(!n&&o){const i=[...e];i.splice(t,1),a(i)}}else if((0,r.vM)(e)){const t=new Set(e);n?t.add(i):t.delete(i),a(t)}else a(Jt(t,n))}))},mounted:Nt,beforeUpdate(t,e,i){t[Kt]=Ct(i),Nt(t,e,i)}};function Nt(t,{value:e,oldValue:i},n){let a;if(t._modelValue=e,(0,r.cy)(e))a=(0,r.u3)(e,n.props.value)>-1;else if((0,r.vM)(e))a=e.has(n.props.value);else{if(e===i)return;a=(0,r.BX)(e,Jt(t,!0))}t.checked!==a&&(t.checked=a)}const Ft={created(t,{value:e},i){t.checked=(0,r.BX)(e,i.props.value),t[Kt]=Ct(i),et(t,"change",(()=>{t[Kt](zt(t))}))},beforeUpdate(t,{value:e,oldValue:i},n){t[Kt]=Ct(n),e!==i&&(t.checked=(0,r.BX)(e,n.props.value))}},Bt={deep:!0,created(t,{value:e,modifiers:{number:i}},a){const o=(0,r.vM)(e);et(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?(0,r.bB)(zt(t)):zt(t)));t[Kt](t.multiple?o?new Set(e):e:e[0]),t._assigning=!0,(0,n.dY)((()=>{t._assigning=!1}))})),t[Kt]=Ct(a)},mounted(t,{value:e}){Ut(t,e)},beforeUpdate(t,e,i){t[Kt]=Ct(i)},updated(t,{value:e}){t._assigning||Ut(t,e)}};function Ut(t,e){const i=t.multiple,n=(0,r.cy)(e);if(!i||n||(0,r.vM)(e)){for(let a=0,o=t.options.length;a<o;a++){const o=t.options[a],s=zt(o);if(i)if(n){const t=typeof s;o.selected="string"===t||"number"===t?e.some((t=>String(t)===String(s))):(0,r.u3)(e,s)>-1}else o.selected=e.has(s);else if((0,r.BX)(zt(o),e))return void(t.selectedIndex!==a&&(t.selectedIndex=a))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function zt(t){return"_value"in t?t._value:t.value}function Jt(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const Ht={created(t,e,i){jt(t,e,i,null,"created")},mounted(t,e,i){jt(t,e,i,null,"mounted")},beforeUpdate(t,e,i,n){jt(t,e,i,n,"beforeUpdate")},updated(t,e,i,n){jt(t,e,i,n,"updated")}};function At(t,e){switch(t){case"SELECT":return Bt;case"TEXTAREA":return Pt;default:switch(e){case"checkbox":return Yt;case"radio":return Ft;default:return Pt}}}function jt(t,e,i,n,r){const a=At(t.tagName,i.props&&i.props.type),o=a[r];o&&o(t,e,i,n)}function Ot(){Pt.getSSRProps=({value:t})=>({value:t}),Ft.getSSRProps=({value:t},e)=>{if(e.props&&(0,r.BX)(e.props.value,t))return{checked:!0}},Yt.getSSRProps=({value:t},e)=>{if((0,r.cy)(t)){if(e.props&&(0,r.u3)(t,e.props.value)>-1)return{checked:!0}}else if((0,r.vM)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Ht.getSSRProps=(t,e)=>{if("string"!==typeof e.type)return;const i=At(e.type.toUpperCase(),e.props&&e.props.type);return i.getSSRProps?i.getSSRProps(t,e):void 0}}const Dt=["ctrl","shift","alt","meta"],Qt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Dt.some((i=>t[`${i}Key`]&&!e.includes(i)))},$t=(t,e)=>{const i=t._withMods||(t._withMods={}),n=e.join(".");return i[n]||(i[n]=(i,...n)=>{for(let t=0;t<e.length;t++){const n=Qt[e[t]];if(n&&n(i,e))return}return t(i,...n)})},qt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},te=(t,e)=>{const i=t._withKeys||(t._withKeys={}),n=e.join(".");return i[n]||(i[n]=i=>{if(!("key"in i))return;const n=(0,r.Tg)(i.key);return e.some((t=>t===n||qt[t]===n))?t(i):void 0})},ee=(0,r.X$)({patchProp:ft},f);let ie,ne=!1;function re(){return ie||(ie=(0,n.K9)(ee))}function ae(){return ie=ne?ie:(0,n.ci)(ee),ne=!0,ie}const oe=(...t)=>{re().render(...t)},se=(...t)=>{ae().hydrate(...t)},le=(...t)=>{const e=re().createApp(...t);const{mount:i}=e;return e.mount=t=>{const n=de(t);if(!n)return;const a=e._component;(0,r.Tn)(a)||a.render||a.template||(a.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const o=i(n,!1,ce(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e},ue=(...t)=>{const e=ae().createApp(...t);const{mount:i}=e;return e.mount=t=>{const e=de(t);if(e)return i(e,!0,ce(e))},e};function ce(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function de(t){if((0,r.Kg)(t)){const e=document.querySelector(t);return e}return t}let he=!1;const fe=()=>{he||(he=!0,Ot(),N())}},4055:function(t,e,i){"use strict";var n=i(4576),r=i(34),a=n.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},4114:function(t,e,i){"use strict";var n=i(6518),r=i(8981),a=i(6198),o=i(4527),s=i(6837),l=i(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=u||!c();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=r(this),i=a(e),n=arguments.length;s(i+n);for(var l=0;l<n;l++)e[i]=arguments[l],i++;return o(e,i),i}})},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},4270:function(t,e,i){"use strict";var n=i(9565),r=i(4901),a=i(34),o=TypeError;t.exports=function(t,e){var i,s;if("string"===e&&r(i=t.toString)&&!a(s=n(i,t)))return s;if(r(i=t.valueOf)&&!a(s=n(i,t)))return s;if("string"!==e&&r(i=t.toString)&&!a(s=n(i,t)))return s;throw new o("Can't convert object to primitive value")}},4376:function(t,e,i){"use strict";var n=i(2195);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4495:function(t,e,i){"use strict";var n=i(9519),r=i(9039),a=i(4576),o=a.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4527:function(t,e,i){"use strict";var n=i(3724),r=i(4376),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(r(t)&&!o(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4576:function(t,e,i){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4603:function(t,e,i){"use strict";var n=i(6840),r=i(9504),a=i(655),o=i(2812),s=URLSearchParams,l=s.prototype,u=r(l.append),c=r(l["delete"]),d=r(l.forEach),h=r([].push),f=new s("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&n(l,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return c(this,t);var n=[];d(this,(function(t,e){h(n,{key:e,value:t})})),o(e,1);var r,s=a(t),l=a(i),f=0,p=0,m=!1,b=n.length;while(f<b)r=n[f++],m||r.key===s?(m=!0,c(this,r.key)):p++;while(p<b)r=n[p++],r.key===s&&r.value===l||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,i){"use strict";var n=i(3724),r=i(5917),a=i(8686),o=i(8551),s=i(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=n?a?function(t,e,i){if(o(t),e=s(e),o(i),"function"===typeof t&&"prototype"===e&&"value"in i&&f in i&&!i[f]){var n=c(t,e);n&&n[f]&&(t[e]=i.value,i={configurable:h in i?i[h]:n[h],enumerable:d in i?i[d]:n[d],writable:!1})}return u(t,e,i)}:u:function(t,e,i){if(o(t),e=s(e),o(i),r)try{return u(t,e,i)}catch(n){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},5031:function(t,e,i){"use strict";var n=i(7751),r=i(9504),a=i(8480),o=i(3717),s=i(8551),l=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(s(t)),i=o.f;return i?l(e,i(t)):e}},5397:function(t,e,i){"use strict";var n=i(7055),r=i(7750);t.exports=function(t){return n(r(t))}},5419:function(t){t.exports=function(t,e,i,n){var r="undefined"!==typeof n?[n,t]:[t],a=new Blob(r,{type:i||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,e);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(a):window.webkitURL.createObjectURL(a),s=document.createElement("a");s.style.display="none",s.href=o,s.setAttribute("download",e),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)}),200)}}},5610:function(t,e,i){"use strict";var n=i(1291),r=Math.max,a=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):a(i,e)}},5643:function(t){(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function a(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,i){return e=p(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t){return l(t)||u(t)||c(t)||h()}function l(t){if(Array.isArray(t))return d(t)}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if("object"!==typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function p(t){var e=f(t,"string");return"symbol"===typeof e?e:String(e)}var m="undefined"!==typeof window&&"undefined"!==typeof window.document,b=m?window:{},g=!(!m||!b.document.documentElement)&&"ontouchstart"in b.document.documentElement,y=!!m&&"PointerEvent"in b,Z="cropper",_="all",v="crop",w="move",S="zoom",x="e",I="w",W="s",V="n",X="ne",k="nw",G="se",R="sw",T="".concat(Z,"-crop"),E="".concat(Z,"-disabled"),C="".concat(Z,"-hidden"),M="".concat(Z,"-hide"),L="".concat(Z,"-invisible"),K="".concat(Z,"-modal"),P="".concat(Z,"-move"),Y="".concat(Z,"Action"),N="".concat(Z,"Preview"),F="crop",B="move",U="none",z="crop",J="cropend",H="cropmove",A="cropstart",j="dblclick",O=g?"touchstart":"mousedown",D=g?"touchmove":"mousemove",Q=g?"touchend touchcancel":"mouseup",$=y?"pointerdown":O,q=y?"pointermove":D,tt=y?"pointerup pointercancel":Q,et="ready",it="resize",nt="wheel",rt="zoom",at="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,st=/^data:/,lt=/^data:image\/jpeg;base64,/,ut=/^img|canvas$/i,ct=200,dt=100,ht={viewMode:0,dragMode:F,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ct,minContainerHeight:dt,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ft='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',pt=Number.isNaN||b.isNaN;function mt(t){return"number"===typeof t&&!pt(t)}var bt=function(t){return t>0&&t<1/0};function gt(t){return"undefined"===typeof t}function yt(t){return"object"===i(t)&&null!==t}var Zt=Object.prototype.hasOwnProperty;function _t(t){if(!yt(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&Zt.call(i,"isPrototypeOf")}catch(n){return!1}}function vt(t){return"function"===typeof t}var wt=Array.prototype.slice;function St(t){return Array.from?Array.from(t):wt.call(t)}function xt(t,e){return t&&vt(e)&&(Array.isArray(t)||mt(t.length)?St(t).forEach((function(i,n){e.call(t,i,n,t)})):yt(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var It=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return yt(t)&&i.length>0&&i.forEach((function(e){yt(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},Wt=/\.\d*(?:0|9){12}\d*$/;function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Wt.test(t)?Math.round(t*e)/e:t}var Xt=/^width|height|left|top|marginLeft|marginTop$/;function kt(t,e){var i=t.style;xt(e,(function(t,e){Xt.test(e)&&mt(t)&&(t="".concat(t,"px")),i[e]=t}))}function Gt(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Rt(t,e){if(e)if(mt(t.length))xt(t,(function(t){Rt(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function Tt(t,e){e&&(mt(t.length)?xt(t,(function(t){Tt(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Et(t,e,i){e&&(mt(t.length)?xt(t,(function(t){Et(t,e,i)})):i?Rt(t,e):Tt(t,e))}var Ct=/([a-z\d])([A-Z])/g;function Mt(t){return t.replace(Ct,"$1-$2").toLowerCase()}function Lt(t,e){return yt(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Mt(e)))}function Kt(t,e,i){yt(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Mt(e)),i)}function Pt(t,e){if(yt(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Mt(e)))}var Yt=/\s\s*/,Nt=function(){var t=!1;if(m){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});b.addEventListener("test",i,n),b.removeEventListener("test",i,n)}return t}();function Ft(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(Yt).forEach((function(e){if(!Nt){var a=t.listeners;a&&a[e]&&a[e][i]&&(r=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,n)}))}function Bt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(Yt).forEach((function(e){if(n.once&&!Nt){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][i],t.removeEventListener(e,r,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],n),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,n)}))}function Ut(t,e,i){var n;return vt(Event)&&vt(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(n)}function zt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Jt=b.location,Ht=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function At(t){var e=t.match(Ht);return null!==e&&(e[1]!==Jt.protocol||e[2]!==Jt.hostname||e[3]!==Jt.port)}function jt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function Ot(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];mt(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),mt(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),mt(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),mt(i)&&1!==i&&o.push("scaleX(".concat(i,")")),mt(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Dt(t){var i=e({},t),n=0;return xt(t,(function(t,e){delete i[e],xt(i,(function(e){var i=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(i*i+r*r),l=Math.sqrt(a*a+o*o),u=(l-s)/s;Math.abs(u)>Math.abs(n)&&(n=u)}))})),n}function Qt(t,i){var n=t.pageX,r=t.pageY,a={endX:n,endY:r};return i?a:e({startX:n,startY:r},a)}function $t(t){var e=0,i=0,n=0;return xt(t,(function(t){var r=t.startX,a=t.startY;e+=r,i+=a,n+=1})),e/=n,i/=n,{pageX:e,pageY:i}}function qt(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=bt(n),o=bt(i);if(a&&o){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else a?i=n/e:o&&(n=i*e);return{width:n,height:i}}function te(t){var e=t.width,i=t.height,n=t.degree;if(n=Math.abs(n)%180,90===n)return{width:i,height:e};var r=n%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=e*o+i*a,l=e*a+i*o;return n>90?{width:l,height:s}:{width:s,height:l}}function ee(t,e,i,n){var r=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,l=e.rotate,u=void 0===l?0:l,c=e.scaleX,d=void 0===c?1:c,h=e.scaleY,f=void 0===h?1:h,p=i.aspectRatio,m=i.naturalWidth,b=i.naturalHeight,g=n.fillColor,y=void 0===g?"transparent":g,Z=n.imageSmoothingEnabled,_=void 0===Z||Z,v=n.imageSmoothingQuality,w=void 0===v?"low":v,S=n.maxWidth,x=void 0===S?1/0:S,I=n.maxHeight,W=void 0===I?1/0:I,V=n.minWidth,X=void 0===V?0:V,k=n.minHeight,G=void 0===k?0:k,R=document.createElement("canvas"),T=R.getContext("2d"),E=qt({aspectRatio:p,width:x,height:W}),C=qt({aspectRatio:p,width:X,height:G},"cover"),M=Math.min(E.width,Math.max(C.width,m)),L=Math.min(E.height,Math.max(C.height,b)),K=qt({aspectRatio:r,width:x,height:W}),P=qt({aspectRatio:r,width:X,height:G},"cover"),Y=Math.min(K.width,Math.max(P.width,a)),N=Math.min(K.height,Math.max(P.height,o)),F=[-Y/2,-N/2,Y,N];return R.width=Vt(M),R.height=Vt(L),T.fillStyle=y,T.fillRect(0,0,M,L),T.save(),T.translate(M/2,L/2),T.rotate(u*Math.PI/180),T.scale(d,f),T.imageSmoothingEnabled=_,T.imageSmoothingQuality=w,T.drawImage.apply(T,[t].concat(s(F.map((function(t){return Math.floor(Vt(t))}))))),T.restore(),R}var ie=String.fromCharCode;function ne(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=ie(t.getUint8(r));return n}var re=/^data:.*,/;function ae(t){var e=t.replace(re,""),i=atob(e),n=new ArrayBuffer(i.length),r=new Uint8Array(n);return xt(r,(function(t,e){r[e]=i.charCodeAt(e)})),n}function oe(t,e){var i=[],n=8192,r=new Uint8Array(t);while(r.length>0)i.push(ie.apply(null,St(r.subarray(0,n)))),r=r.subarray(n);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}function se(t){var e,i=new DataView(t);try{var n,r,a;if(255===i.getUint8(0)&&216===i.getUint8(1)){var o=i.byteLength,s=2;while(s+1<o){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}}if(r){var l=r+4,u=r+10;if("Exif"===ne(i,l,4)){var c=i.getUint16(u);if(n=18761===c,(n||19789===c)&&42===i.getUint16(u+2,n)){var d=i.getUint32(u+4,n);d>=8&&(a=u+d)}}}if(a){var h,f,p=i.getUint16(a,n);for(f=0;f<p;f+=1)if(h=a+12*f+2,274===i.getUint16(h,n)){h+=8,e=i.getUint16(h,n),i.setUint16(h,1,n);break}}}catch(m){e=1}return e}function le(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:i,scaleY:n}}var ue={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,r=Number(e.minContainerWidth),a=Number(e.minContainerHeight);Rt(n,C),Tt(t,C);var o={width:Math.max(i.offsetWidth,r>=0?r:ct),height:Math.max(i.offsetHeight,a>=0?a:dt)};this.containerData=o,kt(n,{width:o.width,height:o.height}),Rt(t,C),Tt(n,C)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180===90,r=n?e.naturalHeight:e.naturalWidth,a=n?e.naturalWidth:e.naturalHeight,o=r/a,s=t.width,l=t.height;t.height*o>t.width?3===i?s=t.height*o:l=t.width/o:3===i?l=t.width/o:s=t.height*o;var u={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:l};this.canvasData=u,this.limited=1===i||2===i,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(t.width-u.width)/2,u.top=(t.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=It({},u)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,l=this.cropped&&a;if(t){var u=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;o>1?(u=Math.max(u,n.width),c=Math.max(c,n.height),3===o&&(c*s>u?u=c*s:c=u/s)):o>0&&(u?u=Math.max(u,l?a.width:0):c?c=Math.max(c,l?a.height:0):l&&(u=a.width,c=a.height,c*s>u?u=c*s:c=u/s));var d=qt({aspectRatio:s,width:u,height:c});u=d.width,c=d.height,r.minWidth=u,r.minHeight=c,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(l?0:1)){var h=n.width-r.width,f=n.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,f),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,f),l&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=n.height&&(r.minTop=Math.min(0,f),r.maxTop=Math.max(0,f))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=te({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=r.width,o=r.height,s=i.width*(a/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,kt(this.canvas,It({width:i.width,height:i.height},Ot({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);It(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),kt(this.image,It({width:i.width,height:i.height},Ot(It({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=It({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,u=Number(i.minCropBoxHeight)||0,c=o?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,d=o?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;l=Math.min(l,n.width),u=Math.min(u,n.height),s&&(l&&u?u*s>l?u=l/s:l=u*s:l?u=l/s:u&&(l=u*s),d*s>c?d=c/s:c=d*s),a.minWidth=Math.min(l,c),a.minHeight=Math.min(u,d),a.maxWidth=c,a.maxHeight=d}e&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(n.width,r.left+r.width)-a.width,a.maxTop=Math.min(n.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&Kt(this.face,Y,i.width>=e.width&&i.height>=e.height?w:_),kt(this.cropBox,It({width:i.width,height:i.height},Ot({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ut(this.element,z,this.getData())}},ce={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=n,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var o=i;"string"===typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,xt(o,(function(t){var i=document.createElement("img");Kt(t,N,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){xt(this.previews,(function(t){var e=Lt(t,N);kt(t,{width:e.width,height:e.height}),t.innerHTML=e.html,Pt(t,N)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,a=t.width,o=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(kt(this.viewBoxImage,It({width:a,height:o},Ot(It({translateX:-s,translateY:-l},t)))),xt(this.previews,(function(e){var i=Lt(e,N),u=i.width,c=i.height,d=u,h=c,f=1;n&&(f=u/n,h=r*f),r&&h>c&&(f=c/r,d=n*f,h=c),kt(e,{width:d,height:h}),kt(e.getElementsByTagName("img")[0],It({width:a*f,height:o*f},Ot(It({translateX:-s*f,translateY:-l*f},t))))})))}},de={bind:function(){var t=this.element,e=this.options,i=this.cropper;vt(e.cropstart)&&Bt(t,A,e.cropstart),vt(e.cropmove)&&Bt(t,H,e.cropmove),vt(e.cropend)&&Bt(t,J,e.cropend),vt(e.crop)&&Bt(t,z,e.crop),vt(e.zoom)&&Bt(t,rt,e.zoom),Bt(i,$,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&Bt(i,nt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Bt(i,j,this.onDblclick=this.dblclick.bind(this)),Bt(t.ownerDocument,q,this.onCropMove=this.cropMove.bind(this)),Bt(t.ownerDocument,tt,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&Bt(window,it,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;vt(e.cropstart)&&Ft(t,A,e.cropstart),vt(e.cropmove)&&Ft(t,H,e.cropmove),vt(e.cropend)&&Ft(t,J,e.cropend),vt(e.crop)&&Ft(t,z,e.crop),vt(e.zoom)&&Ft(t,rt,e.zoom),Ft(i,$,this.onCropStart),e.zoomable&&e.zoomOnWheel&&Ft(i,nt,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Ft(i,j,this.onDblclick),Ft(t.ownerDocument,q,this.onCropMove),Ft(t.ownerDocument,tt,this.onCropEnd),e.responsive&&Ft(window,it,this.onResize)}},he={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,r=this.containerData,a=n.offsetWidth/r.width,o=n.offsetHeight/r.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;if(1!==s)i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(xt(t,(function(e,i){t[i]=e*s}))),this.setCropBoxData(xt(e,(function(t,i){e[i]=t*s}))))}},dblclick:function(){this.disabled||this.options.dragMode===U||this.setDragMode(Gt(this.dragBox,T)?B:F)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(mt(e)&&1!==e||mt(i)&&0!==i||t.ctrlKey))){var n,r=this.options,a=this.pointers;t.changedTouches?xt(t.changedTouches,(function(t){a[t.identifier]=Qt(t)})):a[t.pointerId||0]=Qt(t),n=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?S:Lt(t.target,Y),ot.test(n)&&!1!==Ut(this.element,A,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===v&&(this.cropping=!0,Rt(this.dragBox,K)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==Ut(this.element,H,{originalEvent:t,action:e})&&(t.changedTouches?xt(t.changedTouches,(function(t){It(i[t.identifier]||{},Qt(t,!0))})):It(i[t.pointerId||0]||{},Qt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?xt(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Et(this.dragBox,K,this.cropped&&this.options.modal)),Ut(this.element,J,{originalEvent:t,action:e}))}}},fe={change:function(t){var e,i=this.options,n=this.canvasData,r=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,l=i.aspectRatio,u=a.left,c=a.top,d=a.width,h=a.height,f=u+d,p=c+h,m=0,b=0,g=r.width,y=r.height,Z=!0;!l&&t.shiftKey&&(l=d&&h?d/h:1),this.limited&&(m=a.minLeft,b=a.minTop,g=m+Math.min(r.width,n.width,n.left+n.width),y=b+Math.min(r.height,n.height,n.top+n.height));var T=o[Object.keys(o)[0]],E={x:T.endX-T.startX,y:T.endY-T.startY},M=function(t){switch(t){case x:f+E.x>g&&(E.x=g-f);break;case I:u+E.x<m&&(E.x=m-u);break;case V:c+E.y<b&&(E.y=b-c);break;case W:p+E.y>y&&(E.y=y-p);break}};switch(s){case _:u+=E.x,c+=E.y;break;case x:if(E.x>=0&&(f>=g||l&&(c<=b||p>=y))){Z=!1;break}M(x),d+=E.x,d<0&&(s=I,d=-d,u-=d),l&&(h=d/l,c+=(a.height-h)/2);break;case V:if(E.y<=0&&(c<=b||l&&(u<=m||f>=g))){Z=!1;break}M(V),h-=E.y,c+=E.y,h<0&&(s=W,h=-h,c-=h),l&&(d=h*l,u+=(a.width-d)/2);break;case I:if(E.x<=0&&(u<=m||l&&(c<=b||p>=y))){Z=!1;break}M(I),d-=E.x,u+=E.x,d<0&&(s=x,d=-d,u-=d),l&&(h=d/l,c+=(a.height-h)/2);break;case W:if(E.y>=0&&(p>=y||l&&(u<=m||f>=g))){Z=!1;break}M(W),h+=E.y,h<0&&(s=V,h=-h,c-=h),l&&(d=h*l,u+=(a.width-d)/2);break;case X:if(l){if(E.y<=0&&(c<=b||f>=g)){Z=!1;break}M(V),h-=E.y,c+=E.y,d=h*l}else M(V),M(x),E.x>=0?f<g?d+=E.x:E.y<=0&&c<=b&&(Z=!1):d+=E.x,E.y<=0?c>b&&(h-=E.y,c+=E.y):(h-=E.y,c+=E.y);d<0&&h<0?(s=R,h=-h,d=-d,c-=h,u-=d):d<0?(s=k,d=-d,u-=d):h<0&&(s=G,h=-h,c-=h);break;case k:if(l){if(E.y<=0&&(c<=b||u<=m)){Z=!1;break}M(V),h-=E.y,c+=E.y,d=h*l,u+=a.width-d}else M(V),M(I),E.x<=0?u>m?(d-=E.x,u+=E.x):E.y<=0&&c<=b&&(Z=!1):(d-=E.x,u+=E.x),E.y<=0?c>b&&(h-=E.y,c+=E.y):(h-=E.y,c+=E.y);d<0&&h<0?(s=G,h=-h,d=-d,c-=h,u-=d):d<0?(s=X,d=-d,u-=d):h<0&&(s=R,h=-h,c-=h);break;case R:if(l){if(E.x<=0&&(u<=m||p>=y)){Z=!1;break}M(I),d-=E.x,u+=E.x,h=d/l}else M(W),M(I),E.x<=0?u>m?(d-=E.x,u+=E.x):E.y>=0&&p>=y&&(Z=!1):(d-=E.x,u+=E.x),E.y>=0?p<y&&(h+=E.y):h+=E.y;d<0&&h<0?(s=X,h=-h,d=-d,c-=h,u-=d):d<0?(s=G,d=-d,u-=d):h<0&&(s=k,h=-h,c-=h);break;case G:if(l){if(E.x>=0&&(f>=g||p>=y)){Z=!1;break}M(x),d+=E.x,h=d/l}else M(W),M(x),E.x>=0?f<g?d+=E.x:E.y>=0&&p>=y&&(Z=!1):d+=E.x,E.y>=0?p<y&&(h+=E.y):h+=E.y;d<0&&h<0?(s=k,h=-h,d=-d,c-=h,u-=d):d<0?(s=R,d=-d,u-=d):h<0&&(s=X,h=-h,c-=h);break;case w:this.move(E.x,E.y),Z=!1;break;case S:this.zoom(Dt(o),t),Z=!1;break;case v:if(!E.x||!E.y){Z=!1;break}e=zt(this.cropper),u=T.startX-e.left,c=T.startY-e.top,d=a.minWidth,h=a.minHeight,E.x>0?s=E.y>0?G:X:E.x<0&&(u-=d,s=E.y>0?R:k),E.y<0&&(c-=h),this.cropped||(Tt(this.cropBox,C),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Z&&(a.width=d,a.height=h,a.left=u,a.top=c,this.action=s,this.renderCropBox()),xt(o,(function(t){t.startX=t.endX,t.startY=t.endY}))}},pe={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Rt(this.dragBox,K),Tt(this.cropBox,C),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=It({},this.initialImageData),this.canvasData=It({},this.initialCanvasData),this.cropBoxData=It({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(It(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Tt(this.dragBox,K),Rt(this.cropBox,C)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,xt(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Tt(this.cropper,E)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Rt(this.cropper,E)),this},destroy:function(){var t=this.element;return t[Z]?(t[Z]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(gt(t)?t:n+Number(t),gt(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(mt(t)&&(i.left=t,n=!0),mt(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),t=t<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,l=r.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&n.zoomable){var u=s*t,c=l*t;if(!1===Ut(this.element,rt,{ratio:t,oldRatio:a/s,originalEvent:i}))return this;if(i){var d=this.pointers,h=zt(this.cropper),f=d&&Object.keys(d).length?$t(d):{pageX:i.pageX,pageY:i.pageY};r.left-=(u-a)*((f.pageX-h.left-r.left)/a),r.top-=(c-o)*((f.pageY-h.top-r.top)/o)}else _t(e)&&mt(e.x)&&mt(e.y)?(r.left-=(u-a)*((e.x-r.left)/a),r.top-=(c-o)*((e.y-r.top)/o)):(r.left-=(u-a)/2,r.top-=(c-o)/2);r.width=u,r.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),mt(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,mt(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(mt(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(mt(t)&&(i.scaleX=t,n=!0),mt(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(xt(t,(function(e,i){t[i]=e/o})),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&_t(t)){var a=!1;e.rotatable&&mt(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,a=!0),e.scalable&&(mt(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,a=!0),mt(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;mt(t.x)&&(r.left=t.x*o+n.left),mt(t.y)&&(r.top=t.y*o+n.top),mt(t.width)&&(r.width=t.width*o),mt(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?It({},this.containerData):{}},getImageData:function(){return this.sized?It({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&xt(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&_t(t)&&(mt(t.left)&&(e.left=t.left),mt(t.top)&&(e.top=t.top),mt(t.width)?(e.width=t.width,e.height=t.width/i):mt(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&_t(t)&&(mt(t.left)&&(n.left=t.left),mt(t.top)&&(n.top=t.top),mt(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),mt(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=ee(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(t.rounded),r=n.x,a=n.y,o=n.width,l=n.height,u=i.width/Math.floor(e.naturalWidth);1!==u&&(r*=u,a*=u,o*=u,l*=u);var c=o/l,d=qt({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=qt({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=qt({aspectRatio:c,width:t.width||(1!==u?i.width:o),height:t.height||(1!==u?i.height:l)}),p=f.width,m=f.height;p=Math.min(d.width,Math.max(h.width,p)),m=Math.min(d.height,Math.max(h.height,m));var b=document.createElement("canvas"),g=b.getContext("2d");b.width=Vt(p),b.height=Vt(m),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,p,m);var y=t.imageSmoothingEnabled,Z=void 0===y||y,_=t.imageSmoothingQuality;g.imageSmoothingEnabled=Z,_&&(g.imageSmoothingQuality=_);var v,w,S,x,I,W,V=i.width,X=i.height,k=r,G=a;k<=-o||k>V?(k=0,v=0,S=0,I=0):k<=0?(S=-k,k=0,v=Math.min(V,o+k),I=v):k<=V&&(S=0,v=Math.min(o,V-k),I=v),v<=0||G<=-l||G>X?(G=0,w=0,x=0,W=0):G<=0?(x=-G,G=0,w=Math.min(X,l+G),W=w):G<=X&&(x=0,w=Math.min(l,X-G),W=w);var R=[k,G,v,w];if(I>0&&W>0){var T=p/o;R.push(S*T,x*T,I*T,W*T)}return g.drawImage.apply(g,[i].concat(s(R.map((function(t){return Math.floor(Vt(t))}))))),b},setAspectRatio:function(t){var e=this.options;return this.disabled||gt(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r=t===F,a=e.movable&&t===B;t=r||a?t:U,e.dragMode=t,Kt(i,Y,t),Et(i,T,r),Et(i,P,a),e.cropBoxMovable||(Kt(n,Y,t),Et(n,T,r),Et(n,P,a))}return this}},me=b.Cropper,be=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e||!ut.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=It({},ht,_t(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a(t,[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[Z]){if(e[Z]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(st.test(t))lt.test(t)?this.read(ae(t)):this.clone();else{var r=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=a,r.onerror=a,r.ontimeout=a,r.onprogress=function(){r.getResponseHeader("content-type")!==at&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&At(t)&&i.crossOrigin&&(t=jt(t)),r.open("GET",t,!0),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=se(t),r=0,a=1,o=1;if(n>1){this.url=oe(t,at);var s=le(n);r=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=a,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&At(e)&&(i||(i="anonymous"),n=jt(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),Rt(r,M),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=b.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(b.navigator.userAgent),n=function(e,i){It(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=It({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||a.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML=ft;var a=r.querySelector(".".concat(Z,"-container")),o=a.querySelector(".".concat(Z,"-canvas")),s=a.querySelector(".".concat(Z,"-drag-box")),l=a.querySelector(".".concat(Z,"-crop-box")),u=l.querySelector(".".concat(Z,"-face"));this.container=n,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=a.querySelector(".".concat(Z,"-view-box")),this.face=u,o.appendChild(i),Rt(t,C),n.insertBefore(a,t.nextSibling),Tt(i,M),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,Rt(l,C),e.guides||Rt(l.getElementsByClassName("".concat(Z,"-dashed")),C),e.center||Rt(l.getElementsByClassName("".concat(Z,"-center")),C),e.background&&Rt(a,"".concat(Z,"-bg")),e.highlight||Rt(u,L),e.cropBoxMovable&&(Rt(u,P),Kt(u,Y,_)),e.cropBoxResizable||(Rt(l.getElementsByClassName("".concat(Z,"-line")),C),Rt(l.getElementsByClassName("".concat(Z,"-point")),C)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),vt(e.ready)&&Bt(t,et,e.ready,{once:!0}),Ut(t,et)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),Tt(this.element,C)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=me,t}},{key:"setDefaults",value:function(t){It(ht,_t(t)&&t)}}]),t}();return It(be.prototype,ue,ce,de,he,fe,pe),be}))},5745:function(t,e,i){"use strict";var n=i(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},5917:function(t,e,i){"use strict";var n=i(3724),r=i(9039),a=i(4055);t.exports=!n&&!r((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5966:function(t,e,i){"use strict";var n=i(9306),r=i(4117);t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},6119:function(t,e,i){"use strict";var n=i(5745),r=i(3392),a=n("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},6198:function(t,e,i){"use strict";var n=i(8014);t.exports=function(t){return n(t.length)}},6262:function(t,e){"use strict";e.A=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i}},6278:function(t,e,i){"use strict";i.d(e,{y$:function(){return et},i0:function(){return ot},L8:function(){return at},aH:function(){return rt},Pj:function(){return g}});var n=i(641),r=i(953);function a(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{}}const s="function"===typeof Proxy,l="devtools-plugin:setup",u="plugin:settings:set";let c,d;function h(){var t;return void 0!==c||("undefined"!==typeof window&&window.performance?(c=!0,d=window.performance):"undefined"!==typeof i.g&&(null===(t=i.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,d=i.g.perf_hooks.performance):c=!1),c}function f(){return h()?d.now():Date.now()}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const o in t.settings){const e=t.settings[o];i[o]=e.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},i);try{const t=localStorage.getItem(n),e=JSON.parse(t);Object.assign(r,e)}catch(a){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(a){}r=t},now(){return f()}},e&&e.on(u,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((i=>{this.targetQueue.push({method:e,args:t,resolve:i})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function m(t,e){const i=t,n=o(),r=a(),u=s&&i.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const t=u?new p(i,r):null,a=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];a.push({pluginDescriptor:i,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}var b="store";function g(t){return void 0===t&&(t=null),(0,n.WQ)(null!==t?t:b)}function y(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function Z(t){return null!==t&&"object"===typeof t}function _(t){return t&&"function"===typeof t.then}function v(t,e){return function(){return t(e)}}function w(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function S(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;I(t,i,[],t._modules.root,!0),x(t,i,e)}function x(t,e,i){var a=t._state,o=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,l={},u={},c=(0,r.uY)(!0);c.run((function(){y(s,(function(e,i){l[i]=v(e,t),u[i]=(0,n.EW)((function(){return l[i]()})),Object.defineProperty(t.getters,i,{get:function(){return u[i].value},enumerable:!0})}))})),t._state=(0,r.Kh)({data:e}),t._scope=c,t.strict&&R(t),a&&i&&t._withCommit((function(){a.data=null})),o&&o.stop()}function I(t,e,i,n,r){var a=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!a&&!r){var s=T(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){s[l]=n.state}))}var u=n.context=W(t,o,i);n.forEachMutation((function(e,i){var n=o+i;X(t,n,e,u)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;k(t,n,r,u)})),n.forEachGetter((function(e,i){var n=o+i;G(t,n,e,u)})),n.forEachChild((function(n,a){I(t,e,i.concat(a),n,r)}))}function W(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var a=E(i,n,r),o=a.payload,s=a.options,l=a.type;return s&&s.root||(l=e+l),t.dispatch(l,o)},commit:n?t.commit:function(i,n,r){var a=E(i,n,r),o=a.payload,s=a.options,l=a.type;s&&s.root||(l=e+l),t.commit(l,o,s)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return V(t,e)}},state:{get:function(){return T(t.state,i)}}}),r}function V(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var a=r.slice(n);Object.defineProperty(i,a,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function X(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function k(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return _(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function G(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function R(t){(0,n.wB)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function T(t,e){return e.reduce((function(t,e){return t[e]}),t)}function E(t,e,i){return Z(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}var C="vuex bindings",M="vuex:mutations",L="vuex:actions",K="vuex",P=0;function Y(t,e){m({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[C]},(function(i){i.addTimelineLayer({id:M,label:"Vuex Mutations",color:N}),i.addTimelineLayer({id:L,label:"Vuex Actions",color:N}),i.addInspector({id:K,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree((function(i){if(i.app===t&&i.inspectorId===K)if(i.filter){var n=[];H(n,e._modules.root,i.filter,""),i.rootNodes=n}else i.rootNodes=[J(e._modules.root,"")]})),i.on.getInspectorState((function(i){if(i.app===t&&i.inspectorId===K){var n=i.nodeId;V(e,n),i.state=A(O(e._modules,n),"root"===n?e.getters:e._makeLocalGettersCache,n)}})),i.on.editInspectorState((function(i){if(i.app===t&&i.inspectorId===K){var n=i.nodeId,r=i.path;"root"!==n&&(r=n.split("/").filter(Boolean).concat(r)),e._withCommit((function(){i.set(e._state.data,r,i.state.value)}))}})),e.subscribe((function(t,e){var n={};t.payload&&(n.payload=t.payload),n.state=e,i.notifyComponentUpdate(),i.sendInspectorTree(K),i.sendInspectorState(K),i.addTimelineEvent({layerId:M,event:{time:Date.now(),title:t.type,data:n}})})),e.subscribeAction({before:function(t,e){var n={};t.payload&&(n.payload=t.payload),t._id=P++,t._time=Date.now(),n.state=e,i.addTimelineEvent({layerId:L,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:n}})},after:function(t,e){var n={},r=Date.now()-t._time;n.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(n.payload=t.payload),n.state=e,i.addTimelineEvent({layerId:L,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:n}})}})}))}var N=8702998,F=6710886,B=16777215,U={label:"namespaced",textColor:B,backgroundColor:F};function z(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function J(t,e){return{id:e||"root",label:z(e),tags:t.namespaced?[U]:[],children:Object.keys(t._children).map((function(i){return J(t._children[i],e+i+"/")}))}}function H(t,e,i,n){n.includes(i)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[U]:[]}),Object.keys(e._children).forEach((function(r){H(t,e._children[r],i,n+r+"/")}))}function A(t,e,i){e="root"===i?e:e[i];var n=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(n.length){var a=j(e);r.getters=Object.keys(a).map((function(t){return{key:t.endsWith("/")?z(t):t,editable:!1,value:D((function(){return a[t]}))}}))}return r}function j(t){var e={};return Object.keys(t).forEach((function(i){var n=i.split("/");if(n.length>1){var r=e,a=n.pop();n.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[a]=D((function(){return t[i]}))}else e[i]=D((function(){return t[i]}))})),e}function O(t,e){var i=e.split("/").filter((function(t){return t}));return i.reduce((function(t,n,r){var a=t[n];if(!a)throw new Error('Missing module "'+n+'" for path "'+e+'".');return r===i.length-1?a:a._children}),"root"===e?t:t.root._children)}function D(t){try{return t()}catch(e){return e}}var Q=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},$={namespaced:{configurable:!0}};$.namespaced.get=function(){return!!this._rawModule.namespaced},Q.prototype.addChild=function(t,e){this._children[t]=e},Q.prototype.removeChild=function(t){delete this._children[t]},Q.prototype.getChild=function(t){return this._children[t]},Q.prototype.hasChild=function(t){return t in this._children},Q.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Q.prototype.forEachChild=function(t){y(this._children,t)},Q.prototype.forEachGetter=function(t){this._rawModule.getters&&y(this._rawModule.getters,t)},Q.prototype.forEachAction=function(t){this._rawModule.actions&&y(this._rawModule.actions,t)},Q.prototype.forEachMutation=function(t){this._rawModule.mutations&&y(this._rawModule.mutations,t)},Object.defineProperties(Q.prototype,$);var q=function(t){this.register([],t,!1)};function tt(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;tt(t.concat(n),e.getChild(n),i.modules[n])}}q.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},q.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},q.prototype.update=function(t){tt([],this.root,t)},q.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new Q(e,i);if(0===t.length)this.root=r;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],r)}e.modules&&y(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},q.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},q.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};function et(t){return new it(t)}var it=function(t){var e=this;void 0===t&&(t={});var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new q(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var a=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,i){return l.call(a,t,e,i)},this.strict=n;var u=this._modules.root.state;I(this,u,[],this._modules.root),x(this,u),i.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};it.prototype.install=function(t,e){t.provide(e||b,this),t.config.globalProperties.$store=this;var i=void 0!==this._devtools&&this._devtools;i&&Y(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},it.prototype.commit=function(t,e,i){var n=this,r=E(t,e,i),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(s,n.state)})))},it.prototype.dispatch=function(t,e){var i=this,n=E(t,e),r=n.type,a=n.payload,o={type:r,payload:a},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(t){return t(a)}))):s[0](a);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(u){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(u){0}e(t)}))}))}},it.prototype.subscribe=function(t,e){return w(t,this._subscribers,e)},it.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return w(i,this._actionSubscribers,e)},it.prototype.watch=function(t,e,i){var r=this;return(0,n.wB)((function(){return t(r.state,r.getters)}),e,Object.assign({},i))},it.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},it.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),I(this,this.state,t,this._modules.get(t),i.preserveState),x(this,this.state)},it.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=T(e.state,t.slice(0,-1));delete i[t[t.length-1]]})),S(this)},it.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},it.prototype.hotUpdate=function(t){this._modules.update(t),S(this,!0)},it.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(it.prototype,nt);var rt=ut((function(t,e){var i={};return st(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=ct(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),at=(ut((function(t,e){var i={};return st(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var a=ct(this.$store,"mapMutations",t);if(!a)return;n=a.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),ut((function(t,e){var i={};return st(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||ct(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i}))),ot=ut((function(t,e){var i={};return st(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var a=ct(this.$store,"mapActions",t);if(!a)return;n=a.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));function st(t){return lt(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function lt(t){return Array.isArray(t)||Z(t)}function ut(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function ct(t,e,i){var n=t._modulesNamespaceMap[i];return n}},6395:function(t){"use strict";t.exports=!1},6518:function(t,e,i){"use strict";var n=i(4576),r=i(7347).f,a=i(6699),o=i(6840),s=i(9433),l=i(7740),u=i(2796);t.exports=function(t,e){var i,c,d,h,f,p,m=t.target,b=t.global,g=t.stat;if(c=b?n:g?n[m]||s(m,{}):n[m]&&n[m].prototype,c)for(d in e){if(f=e[d],t.dontCallGetSet?(p=r(c,d),h=p&&p.value):h=c[d],i=u(b?d:m+(g?".":"#")+d,t.forced),!i&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),o(c,d,f,t)}}},6699:function(t,e,i){"use strict";var n=i(3724),r=i(4913),a=i(6980);t.exports=n?function(t,e,i){return r.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(i){return"Object"}}},6837:function(t){"use strict";var e=TypeError,i=9007199254740991;t.exports=function(t){if(t>i)throw e("Maximum allowed index exceeded");return t}},6840:function(t,e,i){"use strict";var n=i(4901),r=i(4913),a=i(283),o=i(9433);t.exports=function(t,e,i,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:e;if(n(i)&&a(i,u,s),s.global)l?t[e]=i:o(e,i);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6955:function(t,e,i){"use strict";var n=i(2140),r=i(4901),a=i(2195),o=i(8227),s=o("toStringTag"),l=Object,u="Arguments"===a(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(i){}};t.exports=n?a:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=c(e=l(t),s))?i:u?a(e):"Object"===(n=a(e))&&r(e.callee)?"Arguments":n}},6969:function(t,e,i){"use strict";var n=i(2777),r=i(757);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:function(t,e,i){"use strict";var n=i(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,i){"use strict";var n=i(9504),r=i(9039),a=i(2195),o=Object,s=n("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):o(t)}:o},7347:function(t,e,i){"use strict";var n=i(3724),r=i(9565),a=i(8773),o=i(6980),s=i(5397),l=i(6969),u=i(9297),c=i(5917),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=s(t),e=l(e),c)try{return d(t,e)}catch(i){}if(u(t,e))return o(!r(a.f,t,e),t[e])}},7535:function(t,e,i){"use strict";i.d(e,{y:function(){return f}});var n=i(7793);const r=t=>{var e,i;if(200==t.width&&200==t.height){const i=(0,n.Nw)(t.width,t.height);return null==(e=i.getContext("2d"))||e.drawImage(t,0,0,200,200),[{x:0,y:0,element:i}]}const r=[],a=200*Math.ceil(t.width/200),o=200*Math.ceil(t.height/200);for(let s=0;s<a;s+=180)for(let e=0;e<o;e+=180){const l=(0,n.Nw)(200,200);let u=s,c=e;s+200>t.width&&(u-=a-t.width),e+200>t.height&&(c-=o-t.height),null==(i=l.getContext("2d"))||i.drawImage(t,u,c,200,200,0,0,200,200),r.push({x:2*u,y:2*c,element:l})}return r},a={maxWorkers:1,maxInternalWorkers:4,denoiseModel:"conservative",base:"undefined"!=typeof window?window.location.href:"./public/"};var o=Object.defineProperty,s=(t,e,i)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,l=(t,e,i)=>(s(t,"symbol"!=typeof e?e+"":e,i),i);const u="dmFyIGhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgeW49KHFlLEJlLE5lKT0+QmUgaW4gcWU/aG4ocWUsQmUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk5lfSk6cWVbQmVdPU5lO3ZhciBBdD0ocWUsQmUsTmUpPT4oeW4ocWUsdHlwZW9mIEJlIT0ic3ltYm9sIj9CZSsiIjpCZSxOZSksTmUpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBxZShhZSxoZSl7cmV0dXJuIGhlLmZvckVhY2goZnVuY3Rpb24oc2Upe3NlJiZ0eXBlb2Ygc2UhPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheShzZSkmJk9iamVjdC5rZXlzKHNlKS5mb3JFYWNoKGZ1bmN0aW9uKGJlKXtpZihiZSE9PSJkZWZhdWx0IiYmIShiZSBpbiBhZSkpe3ZhciBpZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNlLGJlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYWUsYmUsaWUuZ2V0P2llOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzZVtiZV19fSl9fSl9KSxPYmplY3QuZnJlZXplKGFlKX1mdW5jdGlvbiBCZShhZSl7cmV0dXJuIGFlJiZhZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYWUsImRlZmF1bHQiKT9hZS5kZWZhdWx0OmFlfXZhciBOZT17ZXhwb3J0czp7fX07LyohCiogT05OWCBSdW50aW1lIFdlYiB2MS4xMS4wCiogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgoqLyhmdW5jdGlvbihhZSxoZSl7KGZ1bmN0aW9uKHNlLGJlKXthZS5leHBvcnRzPWJlKCl9KShzZWxmLGZ1bmN0aW9uKCl7cmV0dXJuKCgpPT57dmFyIHNlPXs0NTM6KE4saCx3KT0+e3cucihoKSx3LmQoaCx7SW5mZXJlbmNlU2Vzc2lvbjooKT0+RCxUZW5zb3I6KCk9PlQsZW52OigpPT5yLHJlZ2lzdGVyQmFja2VuZDooKT0+SX0pO2NvbnN0IEw9e30saz1bXSxJPShiLGwsXyk9PntpZighbHx8dHlwZW9mIGwuaW5pdCE9ImZ1bmN0aW9uInx8dHlwZW9mIGwuY3JlYXRlU2Vzc2lvbkhhbmRsZXIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgdmFsaWQgYmFja2VuZCIpO3tjb25zdCBCPUxbYl07aWYoQiE9PXZvaWQgMCl7aWYoQi5iYWNrZW5kPT09bClyZXR1cm47dGhyb3cgbmV3IEVycm9yKGBiYWNrZW5kICIke2J9IiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRgKX1pZihMW2JdPXtiYWNrZW5kOmwscHJpb3JpdHk6X30sXz49MCl7Zm9yKGxldCBZPTA7WTxrLmxlbmd0aDtZKyspaWYoTFtrW1ldXS5wcmlvcml0eTw9XylyZXR1cm4gdm9pZCBrLnNwbGljZShZLDAsYik7ay5wdXNoKGIpfX19LHI9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy53YXNtPXt9LHRoaXMud2ViZ2w9e30sdGhpcy5sb2dMZXZlbEludGVybmFsPSJ3YXJuaW5nIn1zZXQgbG9nTGV2ZWwoYil7aWYoYiE9PXZvaWQgMCl7aWYodHlwZW9mIGIhPSJzdHJpbmcifHxbInZlcmJvc2UiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiZmF0YWwiXS5pbmRleE9mKGIpPT09LTEpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke2J9YCk7dGhpcy5sb2dMZXZlbEludGVybmFsPWJ9fWdldCBsb2dMZXZlbCgpe3JldHVybiB0aGlzLmxvZ0xldmVsSW50ZXJuYWx9fSxTPXR5cGVvZiBCaWdJbnQ2NEFycmF5IT0idW5kZWZpbmVkIiYmdHlwZW9mIEJpZ0ludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIix1PXR5cGVvZiBCaWdVaW50NjRBcnJheSE9InVuZGVmaW5lZCImJnR5cGVvZiBCaWdVaW50NjRBcnJheS5mcm9tPT0iZnVuY3Rpb24iLEY9bmV3IE1hcChbWyJmbG9hdDMyIixGbG9hdDMyQXJyYXldLFsidWludDgiLFVpbnQ4QXJyYXldLFsiaW50OCIsSW50OEFycmF5XSxbInVpbnQxNiIsVWludDE2QXJyYXldLFsiaW50MTYiLEludDE2QXJyYXldLFsiaW50MzIiLEludDMyQXJyYXldLFsiYm9vbCIsVWludDhBcnJheV0sWyJmbG9hdDY0IixGbG9hdDY0QXJyYXldLFsidWludDMyIixVaW50MzJBcnJheV1dKSxuPW5ldyBNYXAoW1tGbG9hdDMyQXJyYXksImZsb2F0MzIiXSxbVWludDhBcnJheSwidWludDgiXSxbSW50OEFycmF5LCJpbnQ4Il0sW1VpbnQxNkFycmF5LCJ1aW50MTYiXSxbSW50MTZBcnJheSwiaW50MTYiXSxbSW50MzJBcnJheSwiaW50MzIiXSxbRmxvYXQ2NEFycmF5LCJmbG9hdDY0Il0sW1VpbnQzMkFycmF5LCJ1aW50MzIiXV0pO1MmJihGLnNldCgiaW50NjQiLEJpZ0ludDY0QXJyYXkpLG4uc2V0KEJpZ0ludDY0QXJyYXksImludDY0IikpLHUmJihGLnNldCgidWludDY0IixCaWdVaW50NjRBcnJheSksbi5zZXQoQmlnVWludDY0QXJyYXksInVpbnQ2NCIpKTtjbGFzcyB2e2NvbnN0cnVjdG9yKGwsXyxCKXtsZXQgWSx6LFU7aWYodHlwZW9mIGw9PSJzdHJpbmciKWlmKFk9bCxVPUIsbD09PSJzdHJpbmciKXtpZighQXJyYXkuaXNBcnJheShfKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHN0cmluZyB0ZW5zb3IncyBkYXRhIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuIik7ej1ffWVsc2V7Y29uc3QgRz1GLmdldChsKTtpZihHPT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHRlbnNvciB0eXBlOiAke2x9LmApO2lmKEFycmF5LmlzQXJyYXkoXykpej1HLmZyb20oXyk7ZWxzZXtpZighKF8gaW5zdGFuY2VvZiBHKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBBICR7WX0gdGVuc29yJ3MgZGF0YSBtdXN0IGJlIHR5cGUgb2YgJHtHfWApO3o9X319ZWxzZSBpZihVPV8sQXJyYXkuaXNBcnJheShsKSl7aWYobC5sZW5ndGg9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIlRlbnNvciB0eXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIGFuIGVtcHR5IGFycmF5LiIpO2NvbnN0IEc9dHlwZW9mIGxbMF07aWYoRz09PSJzdHJpbmciKVk9InN0cmluZyIsej1sO2Vsc2V7aWYoRyE9PSJib29sZWFuIil0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGVsZW1lbnQgdHlwZSBvZiBkYXRhIGFycmF5OiAke0d9LmApO1k9ImJvb2wiLHo9VWludDhBcnJheS5mcm9tKGwpfX1lbHNle2NvbnN0IEc9bi5nZXQobC5jb25zdHJ1Y3Rvcik7aWYoRz09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0eXBlIGZvciB0ZW5zb3IgZGF0YTogJHtsLmNvbnN0cnVjdG9yfS5gKTtZPUcsej1sfWlmKFU9PT12b2lkIDApVT1bei5sZW5ndGhdO2Vsc2UgaWYoIUFycmF5LmlzQXJyYXkoVSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSB0ZW5zb3IncyBkaW1zIG11c3QgYmUgYSBudW1iZXIgYXJyYXkiKTtjb25zdCBxPShHPT57bGV0IGQ9MTtmb3IobGV0IE89MDtPPEcubGVuZ3RoO08rKyl7Y29uc3QgbT1HW09dO2lmKHR5cGVvZiBtIT0ibnVtYmVyInx8IU51bWJlci5pc1NhZmVJbnRlZ2VyKG0pKXRocm93IG5ldyBUeXBlRXJyb3IoYGRpbXNbJHtPfV0gbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3Q6ICR7bX1gKTtpZihtPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoYGRpbXNbJHtPfV0gbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBnb3Q6ICR7bX1gKTtkKj1tfXJldHVybiBkfSkoVSk7aWYocSE9PXoubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVGVuc29yJ3Mgc2l6ZSgke3F9KSBkb2VzIG5vdCBtYXRjaCBkYXRhIGxlbmd0aCgke3oubGVuZ3RofSkuYCk7dGhpcy5kaW1zPVUsdGhpcy50eXBlPVksdGhpcy5kYXRhPXosdGhpcy5zaXplPXF9cmVzaGFwZShsKXtyZXR1cm4gbmV3IHYodGhpcy50eXBlLHRoaXMuZGF0YSxsKX19Y29uc3QgVD12O2NsYXNzIFJ7Y29uc3RydWN0b3IobCl7dGhpcy5oYW5kbGVyPWx9YXN5bmMgcnVuKGwsXyxCKXtjb25zdCBZPXt9O2xldCB6PXt9O2lmKHR5cGVvZiBsIT0ib2JqZWN0Inx8bD09PW51bGx8fGwgaW5zdGFuY2VvZiBUfHxBcnJheS5pc0FycmF5KGwpKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZWVkcycgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCB1c2UgaW5wdXQgbmFtZXMgYXMga2V5cyBhbmQgT25ueFZhbHVlIGFzIGNvcnJlc3BvbmRpbmcgdmFsdWVzLiIpO2xldCBVPSEwO2lmKHR5cGVvZiBfPT0ib2JqZWN0Iil7aWYoXz09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFsxXTogY2Fubm90IGJlIG51bGwuIik7aWYoXyBpbnN0YW5jZW9mIFQpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIGNhbm5vdCBiZSBhIFRlbnNvciIpO2lmKEFycmF5LmlzQXJyYXkoXykpe2lmKF8ubGVuZ3RoPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgY2Fubm90IGJlIGFuIGVtcHR5IGFycmF5LiIpO1U9ITE7Zm9yKGNvbnN0IGQgb2YgXyl7aWYodHlwZW9mIGQhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZXRjaGVzJyBtdXN0IGJlIGEgc3RyaW5nIGFycmF5IG9yIGFuIG9iamVjdC4iKTtpZih0aGlzLm91dHB1dE5hbWVzLmluZGV4T2YoZCk9PT0tMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJ2ZldGNoZXMnIGNvbnRhaW5zIGludmFsaWQgb3V0cHV0IG5hbWU6ICR7ZH0uYCk7WVtkXT1udWxsfWlmKHR5cGVvZiBCPT0ib2JqZWN0IiYmQiE9PW51bGwpej1CO2Vsc2UgaWYoQiE9PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZXtsZXQgZD0hMTtjb25zdCBPPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF8pO2Zvcihjb25zdCBtIG9mIHRoaXMub3V0cHV0TmFtZXMpaWYoTy5pbmRleE9mKG0pIT09LTEpe2NvbnN0IEM9X1ttXTsoQz09PW51bGx8fEMgaW5zdGFuY2VvZiBUKSYmKGQ9ITAsVT0hMSxZW21dPUMpfWlmKGQpe2lmKHR5cGVvZiBCPT0ib2JqZWN0IiYmQiE9PW51bGwpej1CO2Vsc2UgaWYoQiE9PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSB6PV99fWVsc2UgaWYoXyE9PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50WzFdOiBtdXN0IGJlICdmZXRjaGVzJyBvciAnb3B0aW9ucycuIik7Zm9yKGNvbnN0IGQgb2YgdGhpcy5pbnB1dE5hbWVzKWlmKGxbZF09PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBpbnB1dCAnJHtkfScgaXMgbWlzc2luZyBpbiAnZmVlZHMnLmApO2lmKFUpZm9yKGNvbnN0IGQgb2YgdGhpcy5vdXRwdXROYW1lcylZW2RdPW51bGw7Y29uc3QgcT1hd2FpdCB0aGlzLmhhbmRsZXIucnVuKGwsWSx6KSxHPXt9O2Zvcihjb25zdCBkIGluIHEpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocSxkKSYmKEdbZF09bmV3IFQocVtkXS50eXBlLHFbZF0uZGF0YSxxW2RdLmRpbXMpKTtyZXR1cm4gR31zdGF0aWMgYXN5bmMgY3JlYXRlKGwsXyxCLFkpe2xldCB6LFU9e307aWYodHlwZW9mIGw9PSJzdHJpbmciKXtpZih6PWwsdHlwZW9mIF89PSJvYmplY3QiJiZfIT09bnVsbClVPV87ZWxzZSBpZihfIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGlmKGwgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtpZih6PWwsdHlwZW9mIF89PSJvYmplY3QiJiZfIT09bnVsbClVPV87ZWxzZSBpZihfIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNle2lmKCEobCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIhPSJ1bmRlZmluZWQiJiZsIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVuZXhwZWN0ZWQgYXJndW1lbnRbMF06IG11c3QgYmUgJ3BhdGgnIG9yICdidWZmZXInLiIpO3tjb25zdCBPPWw7bGV0IG09MCxDPWwuYnl0ZUxlbmd0aDtpZih0eXBlb2YgXz09Im9iamVjdCImJl8hPT1udWxsKVU9XztlbHNlIGlmKHR5cGVvZiBfPT0ibnVtYmVyIil7aWYobT1fLCFOdW1iZXIuaXNTYWZlSW50ZWdlcihtKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2J5dGVPZmZzZXQnIG11c3QgYmUgYW4gaW50ZWdlci4iKTtpZihtPDB8fG0+PU8uYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJ2J5dGVPZmZzZXQnIGlzIG91dCBvZiByYW5nZSBbMCwgJHtPLmJ5dGVMZW5ndGh9KS5gKTtpZihDPWwuYnl0ZUxlbmd0aC1tLHR5cGVvZiBCPT0ibnVtYmVyIil7aWYoQz1CLCFOdW1iZXIuaXNTYWZlSW50ZWdlcihDKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2J5dGVMZW5ndGgnIG11c3QgYmUgYW4gaW50ZWdlci4iKTtpZihDPD0wfHxtK0M+Ty5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKGAnYnl0ZUxlbmd0aCcgaXMgb3V0IG9mIHJhbmdlICgwLCAke08uYnl0ZUxlbmd0aC1tfV0uYCk7aWYodHlwZW9mIFk9PSJvYmplY3QiJiZZIT09bnVsbClVPVk7ZWxzZSBpZihZIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGlmKEIhPT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2J5dGVMZW5ndGgnIG11c3QgYmUgYSBudW1iZXIuIil9ZWxzZSBpZihfIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKTt6PW5ldyBVaW50OEFycmF5KE8sbSxDKX19Y29uc3QgcT0oVS5leGVjdXRpb25Qcm92aWRlcnN8fFtdKS5tYXAoTz0+dHlwZW9mIE89PSJzdHJpbmciP086Ty5uYW1lKSxHPWF3YWl0KGFzeW5jIE89Pntjb25zdCBtPU8ubGVuZ3RoPT09MD9rOk8sQz1bXTtmb3IoY29uc3QgUSBvZiBtKXtjb25zdCB5PUxbUV07aWYoeSl7aWYoeS5pbml0aWFsaXplZClyZXR1cm4geS5iYWNrZW5kO2lmKHkuYWJvcnRlZCljb250aW51ZTtjb25zdCB5ZT0hIXkuaW5pdFByb21pc2U7dHJ5e3JldHVybiB5ZXx8KHkuaW5pdFByb21pc2U9eS5iYWNrZW5kLmluaXQoKSksYXdhaXQgeS5pbml0UHJvbWlzZSx5LmluaXRpYWxpemVkPSEwLHkuYmFja2VuZH1jYXRjaChKKXt5ZXx8Qy5wdXNoKHtuYW1lOlEsZXJyOkp9KSx5LmFib3J0ZWQ9ITB9ZmluYWxseXtkZWxldGUgeS5pbml0UHJvbWlzZX19fXRocm93IG5ldyBFcnJvcihgbm8gYXZhaWxhYmxlIGJhY2tlbmQgZm91bmQuIEVSUjogJHtDLm1hcChRPT5gWyR7US5uYW1lfV0gJHtRLmVycn1gKS5qb2luKCIsICIpfWApfSkocSksZD1hd2FpdCBHLmNyZWF0ZVNlc3Npb25IYW5kbGVyKHosVSk7cmV0dXJuIG5ldyBSKGQpfXN0YXJ0UHJvZmlsaW5nKCl7dGhpcy5oYW5kbGVyLnN0YXJ0UHJvZmlsaW5nKCl9ZW5kUHJvZmlsaW5nKCl7dGhpcy5oYW5kbGVyLmVuZFByb2ZpbGluZygpfWdldCBpbnB1dE5hbWVzKCl7cmV0dXJuIHRoaXMuaGFuZGxlci5pbnB1dE5hbWVzfWdldCBvdXRwdXROYW1lcygpe3JldHVybiB0aGlzLmhhbmRsZXIub3V0cHV0TmFtZXN9fWNvbnN0IEQ9Un0sNDc0OihOLGgsdyk9Pnt2YXIgTCxrPShMPShMPXR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwKXx8Ii9pbmRleC5qcyIsZnVuY3Rpb24oSSl7ZnVuY3Rpb24gcigpe3JldHVybiBWLmJ1ZmZlciE9dWUmJkRlKFYuYnVmZmVyKSxjZX1mdW5jdGlvbiBTKCl7cmV0dXJuIFYuYnVmZmVyIT11ZSYmRGUoVi5idWZmZXIpLE1lfWZ1bmN0aW9uIHUoKXtyZXR1cm4gVi5idWZmZXIhPXVlJiZEZShWLmJ1ZmZlcikscmV9ZnVuY3Rpb24gRigpe3JldHVybiBWLmJ1ZmZlciE9dWUmJkRlKFYuYnVmZmVyKSxTZX12YXIgbjtJPUl8fHt9LG58fChuPUkhPT12b2lkIDA/STp7fSk7dmFyIHYsVCxSPU9iamVjdC5hc3NpZ247bi5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3Y9ZSxUPXR9KTt2YXIgRCxiLGwsXyxCLFksej1SKHt9LG4pLFU9Ii4vdGhpcy5wcm9ncmFtIixxPShlLHQpPT57dGhyb3cgdH0sRz10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixkPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLE89dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLG09bi5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMSxDPSIiO2Z1bmN0aW9uIFEoZSl7cmV0dXJuIG4ubG9jYXRlRmlsZT9uLmxvY2F0ZUZpbGUoZSxDKTpDK2V9aWYoTyl7bGV0IGU7Qz1kP3coOTA4KS5kaXJuYW1lKEMpKyIvIjoiLy8iLFk9KCk9PntCfHwoXz13KDM4NCksQj13KDkwOCkpfSxEPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIFkoKSx0PUIubm9ybWFsaXplKHQpLF8ucmVhZEZpbGVTeW5jKHQsaT9udWxsOiJ1dGY4Iil9LGw9dD0+KCh0PUQodCwhMCkpLmJ1ZmZlcnx8KHQ9bmV3IFVpbnQ4QXJyYXkodCkpLHQpLGI9KHQsaSxzKT0+e1koKSx0PUIubm9ybWFsaXplKHQpLF8ucmVhZEZpbGUodCxmdW5jdGlvbihBLEUpe0E/cyhBKTppKEUuYnVmZmVyKX0pfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJihVPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgcHQpKXRocm93IHR9KSxwcm9jZXNzLm9uKCJ1bmhhbmRsZWRSZWplY3Rpb24iLGZ1bmN0aW9uKHQpe3Rocm93IHR9KSxxPSh0LGkpPT57aWYoVmUoKSl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPXQsaTtpIGluc3RhbmNlb2YgcHR8fEsoImV4aXRpbmcgZHVlIHRvIGV4Y2VwdGlvbjogIitpKSxwcm9jZXNzLmV4aXQodCl9LG4uaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9O3RyeXtlPXcoOTI1KX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKCdUaGUgIndvcmtlcl90aHJlYWRzIiBtb2R1bGUgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIG5vZGUuanMgYnVpbGQgLSBwZXJoYXBzIGEgbmV3ZXIgdmVyc2lvbiBpcyBuZWVkZWQ/JyksdH13LmcuV29ya2VyPWUuV29ya2VyfWVsc2UoR3x8ZCkmJihkP0M9c2VsZi5sb2NhdGlvbi5ocmVmOnR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihDPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxMJiYoQz1MKSxDPUMuaW5kZXhPZigiYmxvYjoiKSE9PTA/Qy5zdWJzdHIoMCxDLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6IiIsT3x8KEQ9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQuc2VuZChudWxsKSx0LnJlc3BvbnNlVGV4dH0sZCYmKGw9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsdC5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpfSksYj0oZSx0LGkpPT57dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbigiR0VUIixlLCEwKSxzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHMub25sb2FkPSgpPT57cy5zdGF0dXM9PTIwMHx8cy5zdGF0dXM9PTAmJnMucmVzcG9uc2U/dChzLnJlc3BvbnNlKTppKCl9LHMub25lcnJvcj1pLHMuc2VuZChudWxsKX0pKTtPJiZ0eXBlb2YgcGVyZm9ybWFuY2U9PSJ1bmRlZmluZWQiJiYody5nLnBlcmZvcm1hbmNlPXcoOTUzKS5wZXJmb3JtYW5jZSk7dmFyIHk9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSx5ZT1jb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtPJiYoWSgpLHk9ZT0+Xy53cml0ZVN5bmMoMSxlK2AKYCkseWU9ZT0+Xy53cml0ZVN5bmMoMixlK2AKYCkpO3ZhciBKLGRlLFRlPW4ucHJpbnR8fHksSz1uLnByaW50RXJyfHx5ZTtSKG4seiksej1udWxsLG4udGhpc1Byb2dyYW0mJihVPW4udGhpc1Byb2dyYW0pLG4ucXVpdCYmKHE9bi5xdWl0KSxuLndhc21CaW5hcnkmJihkZT1uLndhc21CaW5hcnkpO3ZhciB3ZT1uLm5vRXhpdFJ1bnRpbWV8fCExO3R5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJkZlKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIFYsT2Usb2U9ITE7ZnVuY3Rpb24gVWUoZSl7dmFyIHQ9bmV3IFRleHREZWNvZGVyKGUpO3RoaXMuZGVjb2RlPWk9PihpLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyJiYoaT1uZXcgVWludDhBcnJheShpKSksdC5kZWNvZGUuY2FsbCh0LGkpKX12YXIgdWUsY2UsTWUscmUsU2UsV2U9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVWUoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24geGUoZSx0LGkpe3ZhciBzPXQraTtmb3IoaT10O2VbaV0mJiEoaT49cyk7KSsraTtpZigxNjxpLXQmJmUuc3ViYXJyYXkmJldlKXJldHVybiBXZS5kZWNvZGUoZS5zdWJhcnJheSh0LGkpKTtmb3Iocz0iIjt0PGk7KXt2YXIgQT1lW3QrK107aWYoMTI4JkEpe3ZhciBFPTYzJmVbdCsrXTtpZigoMjI0JkEpPT0xOTIpcys9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmQSk8PDZ8RSk7ZWxzZXt2YXIgUD02MyZlW3QrK107NjU1MzY+KEE9KDI0MCZBKT09MjI0PygxNSZBKTw8MTJ8RTw8NnxQOig3JkEpPDwxOHxFPDwxMnxQPDw2fDYzJmVbdCsrXSk/cys9U3RyaW5nLmZyb21DaGFyQ29kZShBKTooQS09NjU1MzYscys9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxBPj4xMCw1NjMyMHwxMDIzJkEpKX19ZWxzZSBzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKEEpfXJldHVybiBzfWZ1bmN0aW9uIFJlKGUsdCl7cmV0dXJuIGU/eGUoUygpLGUsdCk6IiJ9ZnVuY3Rpb24gQ2UoZSx0LGkscyl7aWYoISgwPHMpKXJldHVybiAwO3ZhciBBPWk7cz1pK3MtMTtmb3IodmFyIEU9MDtFPGUubGVuZ3RoOysrRSl7dmFyIFA9ZS5jaGFyQ29kZUF0KEUpO2lmKDU1Mjk2PD1QJiY1NzM0Mz49UCYmKFA9NjU1MzYrKCgxMDIzJlApPDwxMCl8MTAyMyZlLmNoYXJDb2RlQXQoKytFKSksMTI3Pj1QKXtpZihpPj1zKWJyZWFrO3RbaSsrXT1QfWVsc2V7aWYoMjA0Nz49UCl7aWYoaSsxPj1zKWJyZWFrO3RbaSsrXT0xOTJ8UD4+Nn1lbHNle2lmKDY1NTM1Pj1QKXtpZihpKzI+PXMpYnJlYWs7dFtpKytdPTIyNHxQPj4xMn1lbHNle2lmKGkrMz49cylicmVhazt0W2krK109MjQwfFA+PjE4LHRbaSsrXT0xMjh8UD4+MTImNjN9dFtpKytdPTEyOHxQPj42JjYzfXRbaSsrXT0xMjh8NjMmUH19cmV0dXJuIHRbaV09MCxpLUF9ZnVuY3Rpb24gR2UoZSx0LGkpe3JldHVybiBDZShlLFMoKSx0LGkpfWZ1bmN0aW9uIHRlKGUpe2Zvcih2YXIgdD0wLGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIHM9ZS5jaGFyQ29kZUF0KGkpOzU1Mjk2PD1zJiY1NzM0Mz49cyYmKHM9NjU1MzYrKCgxMDIzJnMpPDwxMCl8MTAyMyZlLmNoYXJDb2RlQXQoKytpKSksMTI3Pj1zPysrdDp0PTIwNDc+PXM/dCsyOjY1NTM1Pj1zP3QrMzp0KzR9cmV0dXJuIHR9ZnVuY3Rpb24ga2UoZSl7dmFyIHQ9dGUoZSkrMSxpPWZ0KHQpO3JldHVybiBpJiZDZShlLHIoKSxpLHQpLGl9ZnVuY3Rpb24gRGUoZSl7dWU9ZSxuLkhFQVA4PWNlPW5ldyBJbnQ4QXJyYXkoZSksbi5IRUFQMTY9bmV3IEludDE2QXJyYXkoZSksbi5IRUFQMzI9cmU9bmV3IEludDMyQXJyYXkoZSksbi5IRUFQVTg9TWU9bmV3IFVpbnQ4QXJyYXkoZSksbi5IRUFQVTE2PW5ldyBVaW50MTZBcnJheShlKSxuLkhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGUpLG4uSEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KGUpLG4uSEVBUEY2ND1TZT1uZXcgRmxvYXQ2NEFycmF5KGUpfXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCImJm5ldyBVZSgidXRmLTE2bGUiKSxtJiYodWU9bi5idWZmZXIpO3ZhciBYZT1uLklOSVRJQUxfTUVNT1JZfHwxNjc3NzIxNjtpZihtKVY9bi53YXNtTWVtb3J5LHVlPW4uYnVmZmVyO2Vsc2UgaWYobi53YXNtTWVtb3J5KVY9bi53YXNtTWVtb3J5O2Vsc2UgaWYoISgoVj1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOlhlLzY1NTM2LG1heGltdW06MzI3Njgsc2hhcmVkOiEwfSkpLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKSl0aHJvdyBLKCJyZXF1ZXN0ZWQgYSBzaGFyZWQgV2ViQXNzZW1ibHkuTWVtb3J5IGJ1dCB0aGUgcmV0dXJuZWQgYnVmZmVyIGlzIG5vdCBhIFNoYXJlZEFycmF5QnVmZmVyLCBpbmRpY2F0aW5nIHRoYXQgd2hpbGUgdGhlIGJyb3dzZXIgaGFzIFNoYXJlZEFycmF5QnVmZmVyIGl0IGRvZXMgbm90IGhhdmUgV2ViQXNzZW1ibHkgdGhyZWFkcyBzdXBwb3J0IC0geW91IG1heSBuZWVkIHRvIHNldCBhIGZsYWciKSxPJiZjb25zb2xlLmxvZygiKG9uIG5vZGUgeW91IG1heSBuZWVkOiAtLWV4cGVyaW1lbnRhbC13YXNtLXRocmVhZHMgLS1leHBlcmltZW50YWwtd2FzbS1idWxrLW1lbW9yeSBhbmQgYWxzbyB1c2UgYSByZWNlbnQgdmVyc2lvbikiKSxFcnJvcigiYmFkIG1lbW9yeSIpO1YmJih1ZT1WLmJ1ZmZlciksWGU9dWUuYnl0ZUxlbmd0aCxEZSh1ZSk7dmFyIFFlLHR0PVtdLFplPVtdLFN0PVtdLEplPVtdO2Z1bmN0aW9uIFZlKCl7cmV0dXJuIHdlfHwhMX1mdW5jdGlvbiBkdCgpe3ZhciBlPW4ucHJlUnVuLnNoaWZ0KCk7dHQudW5zaGlmdChlKX12YXIgdmUsSWU9MCxMZT1udWxsO2Z1bmN0aW9uIEZlKGUpe3Rocm93IG0/cG9zdE1lc3NhZ2Uoe2NtZDoib25BYm9ydCIsYXJnOmV9KTpuLm9uQWJvcnQmJm4ub25BYm9ydChlKSxLKGU9IkFib3J0ZWQoIitlKyIpIiksb2U9ITAsZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGUrIi4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4iKSxUKGUpLGV9ZnVuY3Rpb24gS2UoKXtyZXR1cm4gdmUuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpfWZ1bmN0aW9uIG90KCl7dmFyIGU9dmU7dHJ5e2lmKGU9PXZlJiZkZSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGUpO2lmKGwpcmV0dXJuIGwoZSk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKHQpe0ZlKHQpfX1uLnByZWxvYWRlZEltYWdlcz17fSxuLnByZWxvYWRlZEF1ZGlvcz17fSx2ZT0ib3J0LXdhc20tdGhyZWFkZWQud2FzbSIsS2UoKXx8KHZlPVEodmUpKTt2YXIgVHQ9e307ZnVuY3Rpb24gSGUoZSl7Zm9yKDswPGUubGVuZ3RoOyl7dmFyIHQ9ZS5zaGlmdCgpO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iKXQobik7ZWxzZXt2YXIgaT10LlRiO3R5cGVvZiBpPT0ibnVtYmVyIj90LlNhPT09dm9pZCAwP2F0KGkpKCk6YXQoaSkodC5TYSk6aSh0LlNhPT09dm9pZCAwP251bGw6dC5TYSl9fX1mdW5jdGlvbiBzdChlKXt2YXIgdD1VdCgpO3JldHVybiBlPWUoKSx2dCh0KSxlfWZ1bmN0aW9uIG50KGUpe3ZhciB0PVcuT2FbZV07dCYmKHUoKVtlPj4yXT0wLFcuamIodC53b3JrZXIpKX12YXIgVz17UGE6W10sVmE6W10sZmI6W10sV2I6ZnVuY3Rpb24oKXt9LHViOmZ1bmN0aW9uKCl7Vy5yZWNlaXZlT2JqZWN0VHJhbnNmZXI9Vy56YixXLnRocmVhZEluaXQ9Vy5sYixXLnNldEV4aXRTdGF0dXM9Vy5CYn0sT2E6e30sQmI6ZnVuY3Rpb24oKXt9LGtiOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIFcuT2Epe3ZhciB0PVcuT2FbZV07dCYmdC53b3JrZXImJlcuamIodC53b3JrZXIpfWZvcihlPTA7ZTxXLlBhLmxlbmd0aDsrK2UpVy5QYVtlXS50ZXJtaW5hdGUoKTtXLlBhPVtdfSxqYjpmdW5jdGlvbihlKXtXLkFiKGZ1bmN0aW9uKCl7ZGVsZXRlIFcuT2FbZS5RYS5lYl0sVy5QYS5wdXNoKGUpLFcuVmEuc3BsaWNlKFcuVmEuaW5kZXhPZihlKSwxKSxQdChlLlFhLmViKSxlLlFhPXZvaWQgMH0pfSxBYjpmdW5jdGlvbihlKXt1KClbYW4+PjJdPTA7dHJ5e2UoKX1maW5hbGx5e3UoKVthbj4+Ml09MX19LHpiOmZ1bmN0aW9uKCl7fSxsYjpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBXLmZiKVcuZmJbZV0oKX0sd2I6ZnVuY3Rpb24oZSx0KXtlLm9ubWVzc2FnZT1pPT57dmFyIHM9KGk9aS5kYXRhKS5jbWQ7aWYoZS5RYSYmKFcucGI9ZS5RYS5lYiksaS50YXJnZXRUaHJlYWQmJmkudGFyZ2V0VGhyZWFkIT1idCgpKXt2YXIgQT1XLk9hW2kuYmNdO0E/QS53b3JrZXIucG9zdE1lc3NhZ2UoaSxpLnRyYW5zZmVyTGlzdCk6SygnSW50ZXJuYWwgZXJyb3IhIFdvcmtlciBzZW50IGEgbWVzc2FnZSAiJytzKyciIHRvIHRhcmdldCBwdGhyZWFkICcraS50YXJnZXRUaHJlYWQrIiwgYnV0IHRoYXQgdGhyZWFkIG5vIGxvbmdlciBleGlzdHMhIil9ZWxzZSBzPT09InByb2Nlc3NRdWV1ZWRNYWluVGhyZWFkV29yayI/a3QoKTpzPT09InNwYXduVGhyZWFkIj9hKGkpOnM9PT0iY2xlYW51cFRocmVhZCI/bnQoaS50aHJlYWQpOnM9PT0ia2lsbFRocmVhZCI/KGk9aS50aHJlYWQsdSgpW2k+PjJdPTAscz1XLk9hW2ldLGRlbGV0ZSBXLk9hW2ldLHMud29ya2VyLnRlcm1pbmF0ZSgpLFB0KGkpLFcuVmEuc3BsaWNlKFcuVmEuaW5kZXhPZihzLndvcmtlciksMSkscy53b3JrZXIuUWE9dm9pZCAwKTpzPT09ImNhbmNlbFRocmVhZCI/Vy5PYVtpLnRocmVhZF0ud29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ImNhbmNlbCJ9KTpzPT09ImxvYWRlZCI/KGUubG9hZGVkPSEwLHQmJnQoZSksZS5VYSYmKGUuVWEoKSxkZWxldGUgZS5VYSkpOnM9PT0icHJpbnQiP1RlKCJUaHJlYWQgIitpLnRocmVhZElkKyI6ICIraS50ZXh0KTpzPT09InByaW50RXJyIj9LKCJUaHJlYWQgIitpLnRocmVhZElkKyI6ICIraS50ZXh0KTpzPT09ImFsZXJ0Ij9hbGVydCgiVGhyZWFkICIraS50aHJlYWRJZCsiOiAiK2kudGV4dCk6aS50YXJnZXQ9PT0ic2V0aW1tZWRpYXRlIj9lLnBvc3RNZXNzYWdlKGkpOnM9PT0ib25BYm9ydCI/bi5vbkFib3J0JiZuLm9uQWJvcnQoaS5hcmcpOksoIndvcmtlciBzZW50IGFuIHVua25vd24gY29tbWFuZCAiK3MpO1cucGI9dm9pZCAwfSxlLm9uZXJyb3I9aT0+e3Rocm93IEsoIndvcmtlciBzZW50IGFuIGVycm9yISAiK2kuZmlsZW5hbWUrIjoiK2kubGluZW5vKyI6ICIraS5tZXNzYWdlKSxpfSxPJiYoZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oaSl7ZS5vbm1lc3NhZ2Uoe2RhdGE6aX0pfSksZS5vbigiZXJyb3IiLGZ1bmN0aW9uKGkpe2Uub25lcnJvcihpKX0pLGUub24oImRldGFjaGVkRXhpdCIsZnVuY3Rpb24oKXt9KSksZS5wb3N0TWVzc2FnZSh7Y21kOiJsb2FkIix1cmxPckJsb2I6bi5tYWluU2NyaXB0VXJsT3JCbG9ifHxMLHdhc21NZW1vcnk6Vix3YXNtTW9kdWxlOk9lfSl9LG1iOmZ1bmN0aW9uKCl7dmFyIGU9USgib3J0LXdhc20tdGhyZWFkZWQud29ya2VyLmpzIik7Vy5QYS5wdXNoKG5ldyBXb3JrZXIoZSkpfSxyYjpmdW5jdGlvbigpe3JldHVybiBXLlBhLmxlbmd0aD09MCYmKFcubWIoKSxXLndiKFcuUGFbMF0pKSxXLlBhLnBvcCgpfX07ZnVuY3Rpb24gdXQoZSl7aWYobSlyZXR1cm4gZWUoMSwwLGUpO3RyeXtvbihlKX1jYXRjaCh0KXt0IGluc3RhbmNlb2YgcHR8fHQ9PSJ1bndpbmQifHxxKDEsdCl9fW4uZXN0YWJsaXNoU3RhY2tTcGFjZT1mdW5jdGlvbigpe3ZhciBlPWJ0KCksdD11KClbZSs0ND4+Ml07ZT11KClbZSs0OD4+Ml0scm4odCx0LWUpLHZ0KHQpfTt2YXIgcnQsZXQ9W107ZnVuY3Rpb24gYXQoZSl7dmFyIHQ9ZXRbZV07cmV0dXJuIHR8fChlPj1ldC5sZW5ndGgmJihldC5sZW5ndGg9ZSsxKSxldFtlXT10PVFlLmdldChlKSksdH1mdW5jdGlvbiBjdChlKXt0aGlzLlRhPWUtMTYsdGhpcy5HYj1mdW5jdGlvbih0KXt1KClbdGhpcy5UYSs0Pj4yXT10fSx0aGlzLkRiPWZ1bmN0aW9uKHQpe3UoKVt0aGlzLlRhKzg+PjJdPXR9LHRoaXMuRWI9ZnVuY3Rpb24oKXt1KClbdGhpcy5UYT4+Ml09MH0sdGhpcy5DYj1mdW5jdGlvbigpe3IoKVt0aGlzLlRhKzEyPj4wXT0wfSx0aGlzLkZiPWZ1bmN0aW9uKCl7cigpW3RoaXMuVGErMTM+PjBdPTB9LHRoaXMuc2I9ZnVuY3Rpb24odCxpKXt0aGlzLkdiKHQpLHRoaXMuRGIoaSksdGhpcy5FYigpLHRoaXMuQ2IoKSx0aGlzLkZiKCl9fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9Vy5yYigpO2lmKCF0KXJldHVybiA2O1cuVmEucHVzaCh0KTt2YXIgaT1XLk9hW2UuY2JdPXt3b3JrZXI6dCxlYjplLmNifTt0LlFhPWk7dmFyIHM9e2NtZDoicnVuIixzdGFydF9yb3V0aW5lOmUuSGIsYXJnOmUuU2EsdGhyZWFkSW5mb1N0cnVjdDplLmNifTtyZXR1cm4gdC5VYT0oKT0+e3MudGltZT1wZXJmb3JtYW5jZS5ub3coKSx0LnBvc3RNZXNzYWdlKHMsZS5NYil9LHQubG9hZGVkJiYodC5VYSgpLGRlbGV0ZSB0LlVhKSwwfW4uaW52b2tlRW50cnlQb2ludD1mdW5jdGlvbihlLHQpe3JldHVybiBhdChlKSh0KX0scnQ9Tz8oKT0+e3ZhciBlPXByb2Nlc3MuaHJ0aW1lKCk7cmV0dXJuIDFlMyplWzBdK2VbMV0vMWU2fTptPygpPT5wZXJmb3JtYW5jZS5ub3coKS1uLl9fcGVyZm9ybWFuY2Vfbm93X2Nsb2NrX2RyaWZ0OigpPT5wZXJmb3JtYW5jZS5ub3coKTt2YXIgbz17fSxwPVtudWxsLFtdLFtdXTtmdW5jdGlvbiBnKGUsdCl7dmFyIGk9cFtlXTt0PT09MHx8dD09PTEwPygoZT09PTE/VGU6SykoeGUoaSwwKSksaS5sZW5ndGg9MCk6aS5wdXNoKHQpfXZhciB4PXt9O2Z1bmN0aW9uIE0oZSx0LGkpe3JldHVybiBtP2VlKDIsMSxlLHQsaSk6MH1mdW5jdGlvbiBIKGUsdCl7aWYobSlyZXR1cm4gZWUoMywxLGUsdCl9ZnVuY3Rpb24gbWUoZSx0LGkscyl7aWYobSlyZXR1cm4gZWUoNCwxLGUsdCxpLHMpfWZ1bmN0aW9uIEFlKGUsdCl7aWYobSlyZXR1cm4gZWUoNSwxLGUsdCl9ZnVuY3Rpb24gRWUoZSx0LGkpe2lmKG0pcmV0dXJuIGVlKDYsMSxlLHQsaSl9ZnVuY3Rpb24gbGUoZSx0LGkpe3JldHVybiBtP2VlKDcsMSxlLHQsaSk6MH1mdW5jdGlvbiB6ZShlLHQpe2lmKG0pcmV0dXJuIGVlKDgsMSxlLHQpfWZ1bmN0aW9uICRlKGUsdCl7cmV0dXJuIG0/ZWUoOSwxLGUsdCk6KGU9UmUoZSkseC5RYihlLHQpKX1mdW5jdGlvbiBmKGUsdCxpLHMsQSxFKXtpZihtKXQ9ZWUoMTAsMSxlLHQsaSxzLEEsRSk7ZWxzZSBpZihFPDw9MTIsKDE2JnMpIT0wJiZlJTY1NTM2IT0wKXQ9LTI4O2Vsc2UgaWYoKDMyJnMpIT0wKXt2YXIgUD02NTUzNipNYXRoLmNlaWwodC82NTUzNik7KGU9bm4oNjU1MzYsUCkpP1MoKS5maWxsKDAsZSxlK1ApOmU9MCxlPyhvW2VdPXt5YjplLHZiOnQsbmI6ITAsZmQ6QSxaYjppLGZsYWdzOnMsb2Zmc2V0OkV9LHQ9ZSk6dD0tNDh9ZWxzZSB0PS01MjtyZXR1cm4gdH1mdW5jdGlvbiAkKGUsdCl7aWYobSllPWVlKDExLDEsZSx0KTtlbHNle3ZhciBpPW9bZV07dCE9PTAmJmk/KHQ9PT1pLnZiJiYob1tlXT1udWxsLGkubmImJlF0KGkueWIpKSxlPTApOmU9LTI4fXJldHVybiBlfWZ1bmN0aW9uIG5lKGUsdCxpKXtpZihtKXJldHVybiBlZSgxMiwxLGUsdCxpKX1mdW5jdGlvbiBZZShlLHQsaSl7cmV0dXJuIG0/ZWUoMTMsMSxlLHQsaSk6KGU9UmUoZSkseC5SYihlLHQsaSkpfWZ1bmN0aW9uIGx0KGUpe2lmKG0pcmV0dXJuIGVlKDE0LDEsZSl9ZnVuY3Rpb24gRnQoZSx0KXtpZihtKXJldHVybiBlZSgxNSwxLGUsdCl9ZnVuY3Rpb24ganQoZSl7aWYobSlyZXR1cm4gZWUoMTYsMSxlKX1mdW5jdGlvbiBXdChlLHQsaSl7ZnVuY3Rpb24gcyhmZSl7cmV0dXJuKGZlPWZlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pKT9mZVsxXToiR01UIn1pZihtKXJldHVybiBlZSgxNywxLGUsdCxpKTt2YXIgQT1uZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksRT1uZXcgRGF0ZShBLDAsMSksUD1uZXcgRGF0ZShBLDYsMSk7QT1FLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIFg9UC5nZXRUaW1lem9uZU9mZnNldCgpLF9lPU1hdGgubWF4KEEsWCk7dSgpW2U+PjJdPTYwKl9lLHUoKVt0Pj4yXT1OdW1iZXIoQSE9WCksZT1zKEUpLHQ9cyhQKSxlPWtlKGUpLHQ9a2UodCksWDxBPyh1KClbaT4+Ml09ZSx1KClbaSs0Pj4yXT10KToodSgpW2k+PjJdPXQsdSgpW2krND4+Ml09ZSl9ZnVuY3Rpb24gZWUoZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoLTIscz1hcmd1bWVudHM7cmV0dXJuIHN0KGZ1bmN0aW9uKCl7Zm9yKHZhciBBPV90KDgqaSksRT1BPj4zLFA9MDtQPGk7UCsrKXt2YXIgWD1zWzIrUF07RigpW0UrUF09WH1yZXR1cm4gZW4oZSxpLEEsdCl9KX12YXIgTXQ9W10sZm49WzAsdHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIj9kb2N1bWVudDowLHR5cGVvZiB3aW5kb3chPSJ1bmRlZmluZWQiP3dpbmRvdzowXTtmdW5jdGlvbiBEdChlKXtyZXR1cm4gZT0yPGU/UmUoZSk6ZSxmbltlXXx8KHR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCI/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTp2b2lkIDApfWZ1bmN0aW9uIEx0KGUsdCxpKXt2YXIgcz1EdChlKTtyZXR1cm4gcz8ocy5aYSYmKHUoKVtzLlphPj4yXT10LHUoKVtzLlphKzQ+PjJdPWkpLCFzLmliJiZzLk9iP3MuWmE/KGZ1bmN0aW9uKEEsRSxQLFgpe3N0KGZ1bmN0aW9uKCl7dmFyIF9lPV90KDEyKSxmZT0wO2lmKEUpe2ZlPXRlKEUpKzE7dmFyIGdlPWZ0KGZlKTtHZShFLGdlLGZlKSxmZT1nZX11KClbX2U+PjJdPWZlLHUoKVtfZSs0Pj4yXT1QLHUoKVtfZSs4Pj4yXT1YLHRuKEEsNjU3NDU3MTUyLDAsZmUsX2UpfSl9KHM9dSgpW3MuWmErOD4+Ml0sZT1lP1JlKGUpOiIiLHQsaSksMSk6LTQ6KHMuaWImJihzPXMuaWIpLGU9ITEscy5ZYSYmcy5ZYS5YYSYmKGU9KGU9cy5ZYS5YYS5nZXRQYXJhbWV0ZXIoMjk3OCkpWzBdPT09MCYmZVsxXT09PTAmJmVbMl09PT1zLndpZHRoJiZlWzNdPT09cy5oZWlnaHQpLHMud2lkdGg9dCxzLmhlaWdodD1pLGUmJnMuWWEuWGEudmlld3BvcnQoMCwwLHQsaSksMCkpOi00fWZ1bmN0aW9uIEh0KGUsdCxpKXtyZXR1cm4gbT9lZSgxOCwxLGUsdCxpKTpMdChlLHQsaSl9dmFyIHh0LHBuPVsiZGVmYXVsdCIsImxvdy1wb3dlciIsImhpZ2gtcGVyZm9ybWFuY2UiXSxSdD17fTtmdW5jdGlvbiBZdCgpe2lmKCF4dCl7dmFyIGUsdD17VVNFUjoid2ViX3VzZXIiLExPR05BTUU6IndlYl91c2VyIixQQVRIOiIvIixQV0Q6Ii8iLEhPTUU6Ii9ob21lL3dlYl91c2VyIixMQU5HOih0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLF86VXx8Ii4vdGhpcy5wcm9ncmFtIn07Zm9yKGUgaW4gUnQpUnRbZV09PT12b2lkIDA/ZGVsZXRlIHRbZV06dFtlXT1SdFtlXTt2YXIgaT1bXTtmb3IoZSBpbiB0KWkucHVzaChlKyI9Iit0W2VdKTt4dD1pfXJldHVybiB4dH1mdW5jdGlvbiBCdChlLHQpe2lmKG0pcmV0dXJuIGVlKDE5LDEsZSx0KTt2YXIgaT0wO3JldHVybiBZdCgpLmZvckVhY2goZnVuY3Rpb24ocyxBKXt2YXIgRT10K2k7Zm9yKEE9dSgpW2UrNCpBPj4yXT1FLEU9MDtFPHMubGVuZ3RoOysrRSlyKClbQSsrPj4wXT1zLmNoYXJDb2RlQXQoRSk7cigpW0E+PjBdPTAsaSs9cy5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gTnQoZSx0KXtpZihtKXJldHVybiBlZSgyMCwxLGUsdCk7dmFyIGk9WXQoKTt1KClbZT4+Ml09aS5sZW5ndGg7dmFyIHM9MDtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKEEpe3MrPUEubGVuZ3RoKzF9KSx1KClbdD4+Ml09cywwfWZ1bmN0aW9uIEd0KGUpe3JldHVybiBtP2VlKDIxLDEsZSk6MH1mdW5jdGlvbiB6dChlLHQsaSxzKXtyZXR1cm4gbT9lZSgyMiwxLGUsdCxpLHMpOihlPXguVWIoZSksdD14LlNiKGUsdCxpKSx1KClbcz4+Ml09dCwwKX1mdW5jdGlvbiAkdChlLHQsaSxzLEEpe2lmKG0pcmV0dXJuIGVlKDIzLDEsZSx0LGkscyxBKX1mdW5jdGlvbiBWdChlLHQsaSxzKXtpZihtKXJldHVybiBlZSgyNCwxLGUsdCxpLHMpO2Zvcih2YXIgQT0wLEU9MDtFPGk7RSsrKXt2YXIgUD11KClbdD4+Ml0sWD11KClbdCs0Pj4yXTt0Kz04O2Zvcih2YXIgX2U9MDtfZTxYO19lKyspZyhlLFMoKVtQK19lXSk7QSs9WH1yZXR1cm4gdSgpW3M+PjJdPUEsMH1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZSU0PT0wJiYoZSUxMDAhPTB8fGUlNDAwPT0wKX1mdW5jdGlvbiBDdChlLHQpe2Zvcih2YXIgaT0wLHM9MDtzPD10O2krPWVbcysrXSk7cmV0dXJuIGl9dmFyIGd0PVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0saHQ9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiB5dChlLHQpe2ZvcihlPW5ldyBEYXRlKGUuZ2V0VGltZSgpKTswPHQ7KXt2YXIgaT1lLmdldE1vbnRoKCkscz0obXQoZS5nZXRGdWxsWWVhcigpKT9ndDpodClbaV07aWYoISh0PnMtZS5nZXREYXRlKCkpKXtlLnNldERhdGUoZS5nZXREYXRlKCkrdCk7YnJlYWt9dC09cy1lLmdldERhdGUoKSsxLGUuc2V0RGF0ZSgxKSwxMT5pP2Uuc2V0TW9udGgoaSsxKTooZS5zZXRNb250aCgwKSxlLnNldEZ1bGxZZWFyKGUuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIGV9ZnVuY3Rpb24gcXQoZSx0LGkscyl7ZnVuY3Rpb24gQShjLGosWil7Zm9yKGM9dHlwZW9mIGM9PSJudW1iZXIiP2MudG9TdHJpbmcoKTpjfHwiIjtjLmxlbmd0aDxqOyljPVpbMF0rYztyZXR1cm4gY31mdW5jdGlvbiBFKGMsail7cmV0dXJuIEEoYyxqLCIwIil9ZnVuY3Rpb24gUChjLGope2Z1bmN0aW9uIFooaXQpe3JldHVybiAwPml0Py0xOjA8aXQ/MTowfXZhciBqZTtyZXR1cm4oamU9WihjLmdldEZ1bGxZZWFyKCktai5nZXRGdWxsWWVhcigpKSk9PT0wJiYoamU9WihjLmdldE1vbnRoKCktai5nZXRNb250aCgpKSk9PT0wJiYoamU9WihjLmdldERhdGUoKS1qLmdldERhdGUoKSkpLGplfWZ1bmN0aW9uIFgoYyl7c3dpdGNoKGMuZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoYy5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gYztjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoYy5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gX2UoYyl7Yz15dChuZXcgRGF0ZShjLk5hKzE5MDAsMCwxKSxjLmJiKTt2YXIgaj1uZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCkrMSwwLDQpLFo9WChuZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksMCw0KSk7cmV0dXJuIGo9WChqKSwwPj1QKFosYyk/MD49UChqLGMpP2MuZ2V0RnVsbFllYXIoKSsxOmMuZ2V0RnVsbFllYXIoKTpjLmdldEZ1bGxZZWFyKCktMX12YXIgZmU9dSgpW3MrNDA+PjJdO2Zvcih2YXIgZ2UgaW4gcz17S2I6dSgpW3M+PjJdLEpiOnUoKVtzKzQ+PjJdLCRhOnUoKVtzKzg+PjJdLFdhOnUoKVtzKzEyPj4yXSxSYTp1KClbcysxNj4+Ml0sTmE6dSgpW3MrMjA+PjJdLGFiOnUoKVtzKzI0Pj4yXSxiYjp1KClbcysyOD4+Ml0sY2M6dSgpW3MrMzI+PjJdLEliOnUoKVtzKzM2Pj4yXSxMYjpmZT9SZShmZSk6IiJ9LGk9UmUoaSksZmU9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9KWk9aS5yZXBsYWNlKG5ldyBSZWdFeHAoZ2UsImciKSxmZVtnZV0pO3ZhciBQZT0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIikscGU9IkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7Zm9yKGdlIGluIGZlPXsiJWEiOmZ1bmN0aW9uKGMpe3JldHVybiBQZVtjLmFiXS5zdWJzdHJpbmcoMCwzKX0sIiVBIjpmdW5jdGlvbihjKXtyZXR1cm4gUGVbYy5hYl19LCIlYiI6ZnVuY3Rpb24oYyl7cmV0dXJuIHBlW2MuUmFdLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGMpe3JldHVybiBwZVtjLlJhXX0sIiVDIjpmdW5jdGlvbihjKXtyZXR1cm4gRSgoYy5OYSsxOTAwKS8xMDB8MCwyKX0sIiVkIjpmdW5jdGlvbihjKXtyZXR1cm4gRShjLldhLDIpfSwiJWUiOmZ1bmN0aW9uKGMpe3JldHVybiBBKGMuV2EsMiwiICIpfSwiJWciOmZ1bmN0aW9uKGMpe3JldHVybiBfZShjKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVHIjpmdW5jdGlvbihjKXtyZXR1cm4gX2UoYyl9LCIlSCI6ZnVuY3Rpb24oYyl7cmV0dXJuIEUoYy4kYSwyKX0sIiVJIjpmdW5jdGlvbihjKXtyZXR1cm4oYz1jLiRhKT09MD9jPTEyOjEyPGMmJihjLT0xMiksRShjLDIpfSwiJWoiOmZ1bmN0aW9uKGMpe3JldHVybiBFKGMuV2ErQ3QobXQoYy5OYSsxOTAwKT9ndDpodCxjLlJhLTEpLDMpfSwiJW0iOmZ1bmN0aW9uKGMpe3JldHVybiBFKGMuUmErMSwyKX0sIiVNIjpmdW5jdGlvbihjKXtyZXR1cm4gRShjLkpiLDIpfSwiJW4iOmZ1bmN0aW9uKCl7cmV0dXJuYApgfSwiJXAiOmZ1bmN0aW9uKGMpe3JldHVybiAwPD1jLiRhJiYxMj5jLiRhPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbihjKXtyZXR1cm4gRShjLktiLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIgkifSwiJXUiOmZ1bmN0aW9uKGMpe3JldHVybiBjLmFifHw3fSwiJVUiOmZ1bmN0aW9uKGMpe3ZhciBqPW5ldyBEYXRlKGMuTmErMTkwMCwwLDEpLFo9ai5nZXREYXkoKT09PTA/ajp5dChqLDctai5nZXREYXkoKSk7cmV0dXJuIDA+UChaLGM9bmV3IERhdGUoYy5OYSsxOTAwLGMuUmEsYy5XYSkpP0UoTWF0aC5jZWlsKCgzMS1aLmdldERhdGUoKSsoQ3QobXQoYy5nZXRGdWxsWWVhcigpKT9ndDpodCxjLmdldE1vbnRoKCktMSktMzEpK2MuZ2V0RGF0ZSgpKS83KSwyKTpQKFosaik9PT0wPyIwMSI6IjAwIn0sIiVWIjpmdW5jdGlvbihjKXt2YXIgaj1uZXcgRGF0ZShjLk5hKzE5MDEsMCw0KSxaPVgobmV3IERhdGUoYy5OYSsxOTAwLDAsNCkpO2o9WChqKTt2YXIgamU9eXQobmV3IERhdGUoYy5OYSsxOTAwLDAsMSksYy5iYik7cmV0dXJuIDA+UChqZSxaKT8iNTMiOjA+PVAoaixqZSk/IjAxIjpFKE1hdGguY2VpbCgoWi5nZXRGdWxsWWVhcigpPGMuTmErMTkwMD9jLmJiKzMyLVouZ2V0RGF0ZSgpOmMuYmIrMS1aLmdldERhdGUoKSkvNyksMil9LCIldyI6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuYWJ9LCIlVyI6ZnVuY3Rpb24oYyl7dmFyIGo9bmV3IERhdGUoYy5OYSwwLDEpLFo9ai5nZXREYXkoKT09PTE/ajp5dChqLGouZ2V0RGF5KCk9PT0wPzE6Ny1qLmdldERheSgpKzEpO3JldHVybiAwPlAoWixjPW5ldyBEYXRlKGMuTmErMTkwMCxjLlJhLGMuV2EpKT9FKE1hdGguY2VpbCgoMzEtWi5nZXREYXRlKCkrKEN0KG10KGMuZ2V0RnVsbFllYXIoKSk/Z3Q6aHQsYy5nZXRNb250aCgpLTEpLTMxKStjLmdldERhdGUoKSkvNyksMik6UChaLGopPT09MD8iMDEiOiIwMCJ9LCIleSI6ZnVuY3Rpb24oYyl7cmV0dXJuKGMuTmErMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuTmErMTkwMH0sIiV6IjpmdW5jdGlvbihjKXt2YXIgaj0wPD0oYz1jLkliKTtyZXR1cm4gYz1NYXRoLmFicyhjKS82MCwoaj8iKyI6Ii0iKStTdHJpbmcoIjAwMDAiKyhjLzYwKjEwMCtjJTYwKSkuc2xpY2UoLTQpfSwiJVoiOmZ1bmN0aW9uKGMpe3JldHVybiBjLkxifSwiJSUiOmZ1bmN0aW9uKCl7cmV0dXJuIiUifX0paS5pbmNsdWRlcyhnZSkmJihpPWkucmVwbGFjZShuZXcgUmVnRXhwKGdlLCJnIiksZmVbZ2VdKHMpKSk7cmV0dXJuIGdlPWZ1bmN0aW9uKGMpe3ZhciBqPUFycmF5KHRlKGMpKzEpO3JldHVybiBDZShjLGosMCxqLmxlbmd0aCksan0oaSksZ2UubGVuZ3RoPnQ/MDooZnVuY3Rpb24oYyxqKXtyKCkuc2V0KGMsail9KGdlLGUpLGdlLmxlbmd0aC0xKX12YXIgZG49W251bGwsdXQsTSxILG1lLEFlLEVlLGxlLHplLCRlLGYsJCxuZSxZZSxsdCxGdCxqdCxXdCxIdCxCdCxOdCxHdCx6dCwkdCxWdF0sbW49e2I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ0KGUrMTYpKzE2fSxjOmZ1bmN0aW9uKGUsdCxpKXt0aHJvdyBuZXcgY3QoZSkuc2IodCxpKSxlfSxNOmZ1bmN0aW9uKGUpe0p0KGUsIWQsMSwhRyksVy5sYigpfSxuOmZ1bmN0aW9uKGUpe20/cG9zdE1lc3NhZ2Uoe2NtZDoiY2xlYW51cFRocmVhZCIsdGhyZWFkOmV9KTpudChlKX0scDpmdW5jdGlvbihlLHQsaSxzKXtpZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI9PSJ1bmRlZmluZWQiKXJldHVybiBLKCJDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgU2hhcmVkQXJyYXlCdWZmZXIsIHB0aHJlYWRzIGFyZSBub3QgYXZhaWxhYmxlISIpLDY7dmFyIEE9W107cmV0dXJuIG0mJkEubGVuZ3RoPT09MD9LdCg2ODc4NjU4NTYsZSx0LGkscyk6KGU9e0hiOmksY2I6ZSxTYTpzLE1iOkF9LG0/KGUuTmI9InNwYXduVGhyZWFkIixwb3N0TWVzc2FnZShlLEEpLDApOmEoZSkpfSxpOk0sVTpILFI6bWUseTpBZSxBOkVlLHQ6bGUsUzp6ZSxIOiRlLEc6ZixGOiQsbzpuZSx6OlllLHc6bHQsVDpGdCx4Omp0LGo6ZnVuY3Rpb24oKXtGZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LF86ZnVuY3Rpb24oKXtGZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LEU6ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1Mn0sWjpmdW5jdGlvbihlLHQsaSl7dmFyIHM9cGVyZm9ybWFuY2Uubm93KCk7Zm9yKGk9cytpLEF0b21pY3MuZXhjaGFuZ2UodSgpLE90Pj4yLGUpOzspe2lmKChzPXBlcmZvcm1hbmNlLm5vdygpKT5pKXJldHVybiBBdG9taWNzLmV4Y2hhbmdlKHUoKSxPdD4+MiwwKSwtNzM7aWYoKHM9QXRvbWljcy5leGNoYW5nZSh1KCksT3Q+PjIsMCkpPT0wKWJyZWFrO2lmKGt0KCksQXRvbWljcy5sb2FkKHUoKSxlPj4yKSE9dClyZXR1cm4tNjtBdG9taWNzLmV4Y2hhbmdlKHUoKSxPdD4+MixlKX1yZXR1cm4gMH0sTjpmdW5jdGlvbihlLHQpe2lmKGU9PXQpcG9zdE1lc3NhZ2Uoe2NtZDoicHJvY2Vzc1F1ZXVlZE1haW5UaHJlYWRXb3JrIn0pO2Vsc2UgaWYobSlwb3N0TWVzc2FnZSh7dGFyZ2V0VGhyZWFkOmUsY21kOiJwcm9jZXNzVGhyZWFkUXVldWUifSk7ZWxzZXtpZighKGU9KGU9Vy5PYVtlXSkmJmUud29ya2VyKSlyZXR1cm47ZS5wb3N0TWVzc2FnZSh7Y21kOiJwcm9jZXNzVGhyZWFkUXVldWUifSl9cmV0dXJuIDF9LFY6ZnVuY3Rpb24oZSx0KXtlPW5ldyBEYXRlKDFlMyp1KClbZT4+Ml0pLHUoKVt0Pj4yXT1lLmdldFVUQ1NlY29uZHMoKSx1KClbdCs0Pj4yXT1lLmdldFVUQ01pbnV0ZXMoKSx1KClbdCs4Pj4yXT1lLmdldFVUQ0hvdXJzKCksdSgpW3QrMTI+PjJdPWUuZ2V0VVRDRGF0ZSgpLHUoKVt0KzE2Pj4yXT1lLmdldFVUQ01vbnRoKCksdSgpW3QrMjA+PjJdPWUuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLHUoKVt0KzI0Pj4yXT1lLmdldFVUQ0RheSgpLGU9KGUuZ2V0VGltZSgpLURhdGUuVVRDKGUuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDAsdSgpW3QrMjg+PjJdPWV9LFc6ZnVuY3Rpb24oZSx0KXtlPW5ldyBEYXRlKDFlMyp1KClbZT4+Ml0pLHUoKVt0Pj4yXT1lLmdldFNlY29uZHMoKSx1KClbdCs0Pj4yXT1lLmdldE1pbnV0ZXMoKSx1KClbdCs4Pj4yXT1lLmdldEhvdXJzKCksdSgpW3QrMTI+PjJdPWUuZ2V0RGF0ZSgpLHUoKVt0KzE2Pj4yXT1lLmdldE1vbnRoKCksdSgpW3QrMjA+PjJdPWUuZ2V0RnVsbFllYXIoKS0xOTAwLHUoKVt0KzI0Pj4yXT1lLmdldERheSgpO3ZhciBpPW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEpLHM9KGUuZ2V0VGltZSgpLWkuZ2V0VGltZSgpKS84NjRlNXwwO3UoKVt0KzI4Pj4yXT1zLHUoKVt0KzM2Pj4yXT0tNjAqZS5nZXRUaW1lem9uZU9mZnNldCgpLHM9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxlPTB8KHMhPShpPWkuZ2V0VGltZXpvbmVPZmZzZXQoKSkmJmUuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oaSxzKSksdSgpW3QrMzI+PjJdPWV9LFg6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUodSgpW2UrMjA+PjJdKzE5MDAsdSgpW2UrMTY+PjJdLHUoKVtlKzEyPj4yXSx1KClbZSs4Pj4yXSx1KClbZSs0Pj4yXSx1KClbZT4+Ml0sMCksaT11KClbZSszMj4+Ml0scz10LmdldFRpbWV6b25lT2Zmc2V0KCksQT1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksMCwxKSxFPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCksUD1BLmdldFRpbWV6b25lT2Zmc2V0KCksWD1NYXRoLm1pbihQLEUpO3JldHVybiAwPmk/dSgpW2UrMzI+PjJdPU51bWJlcihFIT1QJiZYPT1zKTowPGkhPShYPT1zKSYmKEU9TWF0aC5tYXgoUCxFKSx0LnNldFRpbWUodC5nZXRUaW1lKCkrNmU0KigoMDxpP1g6RSktcykpKSx1KClbZSsyND4+Ml09dC5nZXREYXkoKSxpPSh0LmdldFRpbWUoKS1BLmdldFRpbWUoKSkvODY0ZTV8MCx1KClbZSsyOD4+Ml09aSx1KClbZT4+Ml09dC5nZXRTZWNvbmRzKCksdSgpW2UrND4+Ml09dC5nZXRNaW51dGVzKCksdSgpW2UrOD4+Ml09dC5nZXRIb3VycygpLHUoKVtlKzEyPj4yXT10LmdldERhdGUoKSx1KClbZSsxNj4+Ml09dC5nZXRNb250aCgpLHQuZ2V0VGltZSgpLzFlM3wwfSxZOmZ1bmN0aW9uIGUodCxpLHMpe2Uub2J8fChlLm9iPSEwLFd0KHQsaSxzKSl9LGQ6ZnVuY3Rpb24oKXtGZSgiIil9LHE6ZnVuY3Rpb24oZSx0KXtpZihlPT09MCllPURhdGUubm93KCk7ZWxzZXtpZihlIT09MSYmZSE9PTQpcmV0dXJuIHUoKVtYdCgpPj4yXT0yOCwtMTtlPXJ0KCl9cmV0dXJuIHUoKVt0Pj4yXT1lLzFlM3wwLHUoKVt0KzQ+PjJdPWUlMWUzKjFlNnwwLDB9LEI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS10fSxtOmZ1bmN0aW9uKCl7T3x8ZHx8KEp8fChKPXt9KSxKWyJCbG9ja2luZyBvbiB0aGUgbWFpbiB0aHJlYWQgaXMgdmVyeSBkYW5nZXJvdXMsIHNlZSBodHRwczovL2Vtc2NyaXB0ZW4ub3JnL2RvY3MvcG9ydGluZy9wdGhyZWFkcy5odG1sI2Jsb2NraW5nLW9uLXRoZS1tYWluLWJyb3dzZXItdGhyZWFkIl18fChKWyJCbG9ja2luZyBvbiB0aGUgbWFpbiB0aHJlYWQgaXMgdmVyeSBkYW5nZXJvdXMsIHNlZSBodHRwczovL2Vtc2NyaXB0ZW4ub3JnL2RvY3MvcG9ydGluZy9wdGhyZWFkcy5odG1sI2Jsb2NraW5nLW9uLXRoZS1tYWluLWJyb3dzZXItdGhyZWFkIl09MSxLKCJCbG9ja2luZyBvbiB0aGUgbWFpbiB0aHJlYWQgaXMgdmVyeSBkYW5nZXJvdXMsIHNlZSBodHRwczovL2Vtc2NyaXB0ZW4ub3JnL2RvY3MvcG9ydGluZy9wdGhyZWFkcy5odG1sI2Jsb2NraW5nLW9uLXRoZS1tYWluLWJyb3dzZXItdGhyZWFkIikpKX0sdjpmdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ4fSxmOnJ0LFE6ZnVuY3Rpb24oZSx0LGkpe1MoKS5jb3B5V2l0aGluKGUsdCx0K2kpfSxnOmZ1bmN0aW9uKCl7cmV0dXJuIE8/dyg5OTMpLmNwdXMoKS5sZW5ndGg6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l9LEk6ZnVuY3Rpb24oZSx0LGkpe010Lmxlbmd0aD10LGk+Pj0zO2Zvcih2YXIgcz0wO3M8dDtzKyspTXRbc109RigpW2krc107cmV0dXJuKDA+ZT9UdFstZS0xXTpkbltlXSkuYXBwbHkobnVsbCxNdCl9LHU6ZnVuY3Rpb24oZSl7dmFyIHQ9UygpLmxlbmd0aDtpZigoZT4+Pj0wKTw9dHx8MjE0NzQ4MzY0ODxlKXJldHVybiExO2Zvcih2YXIgaT0xOzQ+PWk7aSo9Mil7dmFyIHM9dCooMSsuMi9pKTtzPU1hdGgubWluKHMsZSsxMDA2NjMyOTYpLDA8KHM9TWF0aC5tYXgoZSxzKSklNjU1MzYmJihzKz02NTUzNi1zJTY1NTM2KTtlOnt0cnl7Vi5ncm93KE1hdGgubWluKDIxNDc0ODM2NDgscyktdWUuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KSxEZShWLmJ1ZmZlcik7dmFyIEE9MTticmVhayBlfWNhdGNoe31BPXZvaWQgMH1pZihBKXJldHVybiEwfXJldHVybiExfSxLOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gRHQoZSk/THQoZSx0LGkpOkh0KGUsdCxpKX0sQzpmdW5jdGlvbigpe3Rocm93InVud2luZCJ9LEw6ZnVuY3Rpb24oZSx0KXt0Pj49Mjt2YXIgaT11KClbdCs2XTtyZXR1cm4gdD17YWxwaGE6ISF1KClbdF0sZGVwdGg6ISF1KClbdCsxXSxzdGVuY2lsOiEhdSgpW3QrMl0sYW50aWFsaWFzOiEhdSgpW3QrM10scHJlbXVsdGlwbGllZEFscGhhOiEhdSgpW3QrNF0scHJlc2VydmVEcmF3aW5nQnVmZmVyOiEhdSgpW3QrNV0scG93ZXJQcmVmZXJlbmNlOnBuW2ldLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ISF1KClbdCs3XSx4Yjp1KClbdCs4XSxYYjp1KClbdCs5XSxnYjp1KClbdCsxMF0scWI6dSgpW3QrMTFdLCRiOnUoKVt0KzEyXSxhYzp1KClbdCsxM119LCEoZT1EdChlKSl8fHQucWI/MDpmdW5jdGlvbihzLEEpe3MuaGJ8fChzLmhiPXMuZ2V0Q29udGV4dCxzLmdldENvbnRleHQ9ZnVuY3Rpb24oUCxYKXtyZXR1cm4gUD09IndlYmdsIj09KFg9cy5oYihQLFgpKWluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0P1g6bnVsbH0pO3ZhciBFPXMuZ2V0Q29udGV4dCgid2ViZ2wiLEEpO3JldHVybiBFP2Z1bmN0aW9uKFAsWCl7dmFyIF9lPWZ0KDgpO3UoKVtfZSs0Pj4yXT1idCgpO3ZhciBmZT17VmI6X2UsYXR0cmlidXRlczpYLHZlcnNpb246WC54YixYYTpQfTtyZXR1cm4gUC5jYW52YXMmJihQLmNhbnZhcy5ZYT1mZSksKFguZ2I9PT12b2lkIDB8fFguZ2IpJiZmdW5jdGlvbihnZSl7aWYoZ2V8fChnZT12b2lkIDApLCFnZS50Yil7Z2UudGI9ITA7dmFyIFBlPWdlLlhhOyhmdW5jdGlvbihwZSl7dmFyIGM9cGUuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7YyYmKHBlLnZlcnRleEF0dHJpYkRpdmlzb3I9ZnVuY3Rpb24oaixaKXtjLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShqLFopfSxwZS5kcmF3QXJyYXlzSW5zdGFuY2VkPWZ1bmN0aW9uKGosWixqZSxpdCl7Yy5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoaixaLGplLGl0KX0scGUuZHJhd0VsZW1lbnRzSW5zdGFuY2VkPWZ1bmN0aW9uKGosWixqZSxpdCxnbil7Yy5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShqLFosamUsaXQsZ24pfSl9KShQZSksZnVuY3Rpb24ocGUpe3ZhciBjPXBlLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtjJiYocGUuY3JlYXRlVmVydGV4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpfSxwZS5kZWxldGVWZXJ0ZXhBcnJheT1mdW5jdGlvbihqKXtjLmRlbGV0ZVZlcnRleEFycmF5T0VTKGopfSxwZS5iaW5kVmVydGV4QXJyYXk9ZnVuY3Rpb24oail7Yy5iaW5kVmVydGV4QXJyYXlPRVMoail9LHBlLmlzVmVydGV4QXJyYXk9ZnVuY3Rpb24oail7cmV0dXJuIGMuaXNWZXJ0ZXhBcnJheU9FUyhqKX0pfShQZSksZnVuY3Rpb24ocGUpe3ZhciBjPXBlLmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19idWZmZXJzIik7YyYmKHBlLmRyYXdCdWZmZXJzPWZ1bmN0aW9uKGosWil7Yy5kcmF3QnVmZmVyc1dFQkdMKGosWil9KX0oUGUpLFBlLlBiPVBlLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5IiksUGUuWWI9UGUuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9tdWx0aV9kcmF3IiksKFBlLmdldFN1cHBvcnRlZEV4dGVuc2lvbnMoKXx8W10pLmZvckVhY2goZnVuY3Rpb24ocGUpe3BlLmluY2x1ZGVzKCJsb3NlX2NvbnRleHQiKXx8cGUuaW5jbHVkZXMoImRlYnVnIil8fFBlLmdldEV4dGVuc2lvbihwZSl9KX19KGZlKSxfZX0oRSxBKTowfShlLHQpfSxPOkJ0LFA6TnQsRDpmdW5jdGlvbihlKXtvbihlKX0saDpHdCxsOnp0LHM6JHQsazpWdCxKOmZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCk7cmV0dXJuIHUoKVtlPj4yXT10LzFlM3wwLHUoKVtlKzQ+PjJdPXQlMWUzKjFlM3wwLDB9LGE6Vnx8bi53YXNtTWVtb3J5LHI6cXQsZTpmdW5jdGlvbihlLHQsaSxzKXtyZXR1cm4gcXQoZSx0LGkscyl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKEEsRSl7bi5hc209QS5leHBvcnRzLFcuZmIucHVzaChuLmFzbS54YSksUWU9bi5hc20uQmEsWmUudW5zaGlmdChuLmFzbS4kKSxPZT1FLG18fChJZS0tLG4ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmbi5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEllKSxJZT09MCYmTGUmJihBPUxlLExlPW51bGwsQSgpKSl9ZnVuY3Rpb24gdChBKXtlKEEuaW5zdGFuY2UsQS5tb2R1bGUpfWZ1bmN0aW9uIGkoQSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWRlJiYoR3x8ZCkpe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmIXZlLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKSlyZXR1cm4gZmV0Y2godmUse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKEUpe2lmKCFFLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrdmUrIiciO3JldHVybiBFLmFycmF5QnVmZmVyKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBvdCgpfSk7aWYoYilyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oRSxQKXtiKHZlLGZ1bmN0aW9uKFgpe0UobmV3IFVpbnQ4QXJyYXkoWCkpfSxQKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG90KCl9KX0oKS50aGVuKGZ1bmN0aW9uKEUpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShFLHMpfSkudGhlbihmdW5jdGlvbihFKXtyZXR1cm4gRX0pLnRoZW4oQSxmdW5jdGlvbihFKXtLKCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAiK0UpLEZlKEUpfSl9dmFyIHM9e2E6bW59O2lmKG18fChJZSsrLG4ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmbi5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEllKSksbi5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBuLmluc3RhbnRpYXRlV2FzbShzLGUpfWNhdGNoKEEpe3JldHVybiBLKCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK0EpLCExfShkZXx8dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nIT0iZnVuY3Rpb24ifHxLZSgpfHx2ZS5zdGFydHNXaXRoKCJmaWxlOi8vIil8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIj9pKHQpOmZldGNoKHZlLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihBKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoQSxzKS50aGVuKHQsZnVuY3Rpb24oRSl7cmV0dXJuIEsoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK0UpLEsoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksaSh0KX0pfSkpLmNhdGNoKFQpfSkoKSxuLl9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybihuLl9fX3dhc21fY2FsbF9jdG9ycz1uLmFzbS4kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydEluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0SW5pdD1uLmFzbS5hYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihuLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1uLmFzbS5iYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PW4uYXNtLmNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihuLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9bi5hc20uZGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0Q3JlYXRlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybihuLl9PcnRDcmVhdGVTZXNzaW9uPW4uYXNtLmVhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydFJlbGVhc2VTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydFJlbGVhc2VTZXNzaW9uPW4uYXNtLmZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydEdldElucHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0R2V0SW5wdXRDb3VudD1uLmFzbS5nYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRHZXRPdXRwdXRDb3VudD1mdW5jdGlvbigpe3JldHVybihuLl9PcnRHZXRPdXRwdXRDb3VudD1uLmFzbS5oYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRHZXRJbnB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0R2V0SW5wdXROYW1lPW4uYXNtLmlhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydEdldE91dHB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0R2V0T3V0cHV0TmFtZT1uLmFzbS5qYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRGcmVlPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEZyZWU9bi5hc20ua2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0Q3JlYXRlVGVuc29yPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydENyZWF0ZVRlbnNvcj1uLmFzbS5sYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRHZXRUZW5zb3JEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEdldFRlbnNvckRhdGE9bi5hc20ubWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0UmVsZWFzZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybihuLl9PcnRSZWxlYXNlVGVuc29yPW4uYXNtLm5hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydENyZWF0ZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1uLmFzbS5vYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRBZGRSdW5Db25maWdFbnRyeT1mdW5jdGlvbigpe3JldHVybihuLl9PcnRBZGRSdW5Db25maWdFbnRyeT1uLmFzbS5wYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihuLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1uLmFzbS5xYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRSdW49ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0UnVuPW4uYXNtLnJhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydEVuZFByb2ZpbGluZz1mdW5jdGlvbigpe3JldHVybihuLl9PcnRFbmRQcm9maWxpbmc9bi5hc20uc2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIFh0PW4uX19fZXJybm9fbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4oWHQ9bi5fX19lcnJub19sb2NhdGlvbj1uLmFzbS50YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxidD1uLl9wdGhyZWFkX3NlbGY9ZnVuY3Rpb24oKXtyZXR1cm4oYnQ9bi5fcHRocmVhZF9zZWxmPW4uYXNtLnVhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZ0PW4uX21hbGxvYz1mdW5jdGlvbigpe3JldHVybihmdD1uLl9tYWxsb2M9bi5hc20udmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXQ9bi5fZnJlZT1mdW5jdGlvbigpe3JldHVybihRdD1uLl9mcmVlPW4uYXNtLndhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O24uX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fZW1zY3JpcHRlbl90bHNfaW5pdD1uLmFzbS54YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgWnQ9bi5fX19mdW5jc19vbl9leGl0PWZ1bmN0aW9uKCl7cmV0dXJuKFp0PW4uX19fZnVuY3Nfb25fZXhpdD1uLmFzbS55YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrdD1uLl9lbXNjcmlwdGVuX21haW5fdGhyZWFkX3Byb2Nlc3NfcXVldWVkX2NhbGxzPWZ1bmN0aW9uKCl7cmV0dXJuKGt0PW4uX2Vtc2NyaXB0ZW5fbWFpbl90aHJlYWRfcHJvY2Vzc19xdWV1ZWRfY2FsbHM9bi5hc20uemEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSnQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4oSnQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9bi5hc20uQWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07bi5fZW1zY3JpcHRlbl9jdXJyZW50X3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscz1mdW5jdGlvbigpe3JldHVybihuLl9lbXNjcmlwdGVuX2N1cnJlbnRfdGhyZWFkX3Byb2Nlc3NfcXVldWVkX2NhbGxzPW4uYXNtLkNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBLdD1uLl9lbXNjcmlwdGVuX3N5bmNfcnVuX2luX21haW5fdGhyZWFkXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oS3Q9bi5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF80PW4uYXNtLkRhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVuPW4uX2Vtc2NyaXB0ZW5fcnVuX2luX21haW5fcnVudGltZV90aHJlYWRfanM9ZnVuY3Rpb24oKXtyZXR1cm4oZW49bi5fZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcz1uLmFzbS5FYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0bj1uLl9lbXNjcmlwdGVuX2Rpc3BhdGNoX3RvX3RocmVhZF89ZnVuY3Rpb24oKXtyZXR1cm4odG49bi5fZW1zY3JpcHRlbl9kaXNwYXRjaF90b190aHJlYWRfPW4uYXNtLkZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFB0PW4uX19lbXNjcmlwdGVuX3RocmVhZF9mcmVlX2RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4oUHQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YT1uLmFzbS5HYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtuLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1mdW5jdGlvbigpe3JldHVybihuLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1uLmFzbS5IYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgd3Qsbm49bi5fbWVtYWxpZ249ZnVuY3Rpb24oKXtyZXR1cm4obm49bi5fbWVtYWxpZ249bi5hc20uSWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scm49bi5fZW1zY3JpcHRlbl9zdGFja19zZXRfbGltaXRzPWZ1bmN0aW9uKCl7cmV0dXJuKHJuPW4uX2Vtc2NyaXB0ZW5fc3RhY2tfc2V0X2xpbWl0cz1uLmFzbS5KYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVdD1uLnN0YWNrU2F2ZT1mdW5jdGlvbigpe3JldHVybihVdD1uLnN0YWNrU2F2ZT1uLmFzbS5LYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2dD1uLnN0YWNrUmVzdG9yZT1mdW5jdGlvbigpe3JldHVybih2dD1uLnN0YWNrUmVzdG9yZT1uLmFzbS5MYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfdD1uLnN0YWNrQWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4oX3Q9bi5zdGFja0FsbG9jPW4uYXNtLk1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE90PW4uX19lbXNjcmlwdGVuX21haW5fdGhyZWFkX2Z1dGV4PTY4Nzg5Nixhbj1uLl9fZW1zY3JpcHRlbl9hbGxvd19tYWluX3J1bnRpbWVfcXVldWVkX2NhbGxzPTY4MzAxMjtmdW5jdGlvbiBwdChlKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK2UrIikiLHRoaXMuc3RhdHVzPWV9ZnVuY3Rpb24gSXQoKXtmdW5jdGlvbiBlKCl7aWYoIXd0JiYod3Q9ITAsbi5jYWxsZWRSdW49ITAsIW9lKSYmKG18fEhlKFplKSx2KG4pLG4ub25SdW50aW1lSW5pdGlhbGl6ZWQmJm4ub25SdW50aW1lSW5pdGlhbGl6ZWQoKSwhbSkpe2lmKG4ucG9zdFJ1bilmb3IodHlwZW9mIG4ucG9zdFJ1bj09ImZ1bmN0aW9uIiYmKG4ucG9zdFJ1bj1bbi5wb3N0UnVuXSk7bi5wb3N0UnVuLmxlbmd0aDspe3ZhciB0PW4ucG9zdFJ1bi5zaGlmdCgpO0plLnVuc2hpZnQodCl9SGUoSmUpfX1pZighKDA8SWUpKWlmKG0pdihuKSxtfHxIZShaZSkscG9zdE1lc3NhZ2Uoe2NtZDoibG9hZGVkIn0pO2Vsc2V7aWYobi5wcmVSdW4pZm9yKHR5cGVvZiBuLnByZVJ1bj09ImZ1bmN0aW9uIiYmKG4ucHJlUnVuPVtuLnByZVJ1bl0pO24ucHJlUnVuLmxlbmd0aDspZHQoKTtIZSh0dCksMDxJZXx8KG4uc2V0U3RhdHVzPyhuLnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5zZXRTdGF0dXMoIiIpfSwxKSxlKCl9LDEpKTplKCkpfX1mdW5jdGlvbiBvbihlKXtpZihtKXRocm93IHV0KGUpLCJ1bndpbmQiO1ZlKCl8fG18fChadCgpLEhlKFN0KSxwWzFdLmxlbmd0aCYmZygxLDEwKSxwWzJdLmxlbmd0aCYmZygyLDEwKSxXLmtiKCkpLFZlKCl8fChXLmtiKCksbi5vbkV4aXQmJm4ub25FeGl0KGUpLG9lPSEwKSxxKGUsbmV3IHB0KGUpKX1pZihuLlVURjhUb1N0cmluZz1SZSxuLnN0cmluZ1RvVVRGOD1HZSxuLmxlbmd0aEJ5dGVzVVRGOD10ZSxuLmtlZXBSdW50aW1lQWxpdmU9VmUsbi5QVGhyZWFkPVcsbi5zdGFja1NhdmU9VXQsbi5zdGFja1Jlc3RvcmU9dnQsbi5zdGFja0FsbG9jPV90LG4uUFRocmVhZD1XLG4ud2FzbU1lbW9yeT1WLG4uRXhpdFN0YXR1cz1wdCxMZT1mdW5jdGlvbiBlKCl7d3R8fEl0KCksd3R8fChMZT1lKX0sbi5ydW49SXQsbi5wcmVJbml0KWZvcih0eXBlb2Ygbi5wcmVJbml0PT0iZnVuY3Rpb24iJiYobi5wcmVJbml0PVtuLnByZUluaXRdKTswPG4ucHJlSW5pdC5sZW5ndGg7KW4ucHJlSW5pdC5wb3AoKSgpO3JldHVybiBtJiYod2U9ITEsVy51YigpKSxJdCgpLEkucmVhZHl9KTtOLmV4cG9ydHM9a30sMTE4Ok49PntOLmV4cG9ydHM9YCJ1c2Ugc3RyaWN0Ijt2YXIgZT17fTtpZigib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmInN0cmluZyI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpe3ZhciB0PXJlcXVpcmUoIndvcmtlcl90aHJlYWRzIikscj10LnBhcmVudFBvcnQ7ci5vbigibWVzc2FnZSIsKGZ1bmN0aW9uKGUpe29ubWVzc2FnZSh7ZGF0YTplfSl9KSk7dmFyIGE9cmVxdWlyZSgiZnMiKTtPYmplY3QuYXNzaWduKGdsb2JhbCx7c2VsZjpnbG9iYWwscmVxdWlyZTpyZXF1aXJlLE1vZHVsZTplLGxvY2F0aW9uOntocmVmOl9fZmlsZW5hbWV9LFdvcmtlcjp0LldvcmtlcixpbXBvcnRTY3JpcHRzOmZ1bmN0aW9uKGUpeygwLGV2YWwpKGEucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSl9LHBvc3RNZXNzYWdlOmZ1bmN0aW9uKGUpe3IucG9zdE1lc3NhZ2UoZSl9LHBlcmZvcm1hbmNlOmdsb2JhbC5wZXJmb3JtYW5jZXx8e25vdzpmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpfX19KX12YXIgcz1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiICIpO2NvbnNvbGUuZXJyb3IoZSl9O3NlbGYuYWxlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDp0LHRocmVhZElkOmUuX3B0aHJlYWRfc2VsZigpfSl9LGUuaW5zdGFudGlhdGVXYXNtPSh0LHIpPT57dmFyIGE9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGUud2FzbU1vZHVsZSx0KTtyZXR1cm4gcihhKSxlLndhc21Nb2R1bGU9bnVsbCxhLmV4cG9ydHN9LHNlbGYub25tZXNzYWdlPXQ9Pnt0cnl7aWYoImxvYWQiPT09dC5kYXRhLmNtZCl7aWYoZS53YXNtTW9kdWxlPXQuZGF0YS53YXNtTW9kdWxlLGUud2FzbU1lbW9yeT10LmRhdGEud2FzbU1lbW9yeSxlLmJ1ZmZlcj1lLndhc21NZW1vcnkuYnVmZmVyLGUuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRD0hMCwic3RyaW5nIj09dHlwZW9mIHQuZGF0YS51cmxPckJsb2IpaW1wb3J0U2NyaXB0cyh0LmRhdGEudXJsT3JCbG9iKTtlbHNle3ZhciByPVVSTC5jcmVhdGVPYmplY3RVUkwodC5kYXRhLnVybE9yQmxvYik7aW1wb3J0U2NyaXB0cyhyKSxVUkwucmV2b2tlT2JqZWN0VVJMKHIpfW9ydFdhc21UaHJlYWRlZChlKS50aGVuKChmdW5jdGlvbih0KXtlPXR9KSl9ZWxzZSBpZigicnVuIj09PXQuZGF0YS5jbWQpe2UuX19wZXJmb3JtYW5jZV9ub3dfY2xvY2tfZHJpZnQ9cGVyZm9ybWFuY2Uubm93KCktdC5kYXRhLnRpbWUsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQodC5kYXRhLnRocmVhZEluZm9TdHJ1Y3QsMCwwLDEpLGUuZXN0YWJsaXNoU3RhY2tTcGFjZSgpLGUuUFRocmVhZC5yZWNlaXZlT2JqZWN0VHJhbnNmZXIodC5kYXRhKSxlLlBUaHJlYWQudGhyZWFkSW5pdCgpO3RyeXt2YXIgYT1lLmludm9rZUVudHJ5UG9pbnQodC5kYXRhLnN0YXJ0X3JvdXRpbmUsdC5kYXRhLmFyZyk7ZS5rZWVwUnVudGltZUFsaXZlKCk/ZS5QVGhyZWFkLnNldEV4aXRTdGF0dXMoYSk6ZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQoYSl9Y2F0Y2godCl7aWYoInVud2luZCIhPXQpe2lmKCEodCBpbnN0YW5jZW9mIGUuRXhpdFN0YXR1cykpdGhyb3cgdDtlLmtlZXBSdW50aW1lQWxpdmUoKXx8ZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQodC5zdGF0dXMpfX19ZWxzZSJjYW5jZWwiPT09dC5kYXRhLmNtZD9lLl9wdGhyZWFkX3NlbGYoKSYmZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQoLTEpOiJzZXRpbW1lZGlhdGUiPT09dC5kYXRhLnRhcmdldHx8KCJwcm9jZXNzVGhyZWFkUXVldWUiPT09dC5kYXRhLmNtZD9lLl9wdGhyZWFkX3NlbGYoKSYmZS5fZW1zY3JpcHRlbl9jdXJyZW50X3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscygpOihzKCJ3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICIrdC5kYXRhLmNtZCkscyh0LmRhdGEpKSl9Y2F0Y2goZSl7dGhyb3cgcygid29ya2VyLmpzIG9ubWVzc2FnZSgpIGNhcHR1cmVkIGFuIHVuY2F1Z2h0IGV4Y2VwdGlvbjogIitlKSxlJiZlLnN0YWNrJiZzKGUuc3RhY2spLGV9fTsKYH0sOTMyOihOLGgsdyk9Pnt2YXIgTCxrPShMPShMPXR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwKXx8Ii9pbmRleC5qcyIsZnVuY3Rpb24oSSl7dmFyIHI7ST1JfHx7fSxyfHwocj1JIT09dm9pZCAwP0k6e30pO3ZhciBTLHUsRj1PYmplY3QuYXNzaWduO3IucmVhZHk9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxvKXtTPWEsdT1vfSk7dmFyIG4sdixULFIsRCxiLGw9Rih7fSxyKSxfPSIuL3RoaXMucHJvZ3JhbSIsQj10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixZPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLHo9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLFU9IiI7ej8oVT1ZP3coOTA4KS5kaXJuYW1lKFUpKyIvIjoiLy8iLGI9KCk9PntEfHwoUj13KDM4NCksRD13KDkwOCkpfSxuPWZ1bmN0aW9uKGEsbyl7cmV0dXJuIGIoKSxhPUQubm9ybWFsaXplKGEpLFIucmVhZEZpbGVTeW5jKGEsbz9udWxsOiJ1dGY4Iil9LFQ9YT0+KChhPW4oYSwhMCkpLmJ1ZmZlcnx8KGE9bmV3IFVpbnQ4QXJyYXkoYSkpLGEpLHY9KGEsbyxwKT0+e2IoKSxhPUQubm9ybWFsaXplKGEpLFIucmVhZEZpbGUoYSxmdW5jdGlvbihnLHgpe2c/cChnKTpvKHguYnVmZmVyKX0pfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJihfPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsZnVuY3Rpb24oYSl7dGhyb3cgYX0pLHByb2Nlc3Mub24oInVuaGFuZGxlZFJlamVjdGlvbiIsZnVuY3Rpb24oYSl7dGhyb3cgYX0pLHIuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9KTooQnx8WSkmJihZP1U9c2VsZi5sb2NhdGlvbi5ocmVmOnR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihVPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxMJiYoVT1MKSxVPVUuaW5kZXhPZigiYmxvYjoiKSE9PTA/VS5zdWJzdHIoMCxVLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6IiIsbj1hPT57dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsYSwhMSksby5zZW5kKG51bGwpLG8ucmVzcG9uc2VUZXh0fSxZJiYoVD1hPT57dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsYSwhMSksby5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixvLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoby5yZXNwb25zZSl9KSx2PShhLG8scCk9Pnt2YXIgZz1uZXcgWE1MSHR0cFJlcXVlc3Q7Zy5vcGVuKCJHRVQiLGEsITApLGcucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsZy5vbmxvYWQ9KCk9PntnLnN0YXR1cz09MjAwfHxnLnN0YXR1cz09MCYmZy5yZXNwb25zZT9vKGcucmVzcG9uc2UpOnAoKX0sZy5vbmVycm9yPXAsZy5zZW5kKG51bGwpfSk7dmFyIHEsRz1yLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLGQ9ci5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7RihyLGwpLGw9bnVsbCxyLnRoaXNQcm9ncmFtJiYoXz1yLnRoaXNQcm9ncmFtKSxyLndhc21CaW5hcnkmJihxPXIud2FzbUJpbmFyeSksci5ub0V4aXRSdW50aW1lLHR5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJnhlKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIE8sbSxDLFEseSx5ZT0hMSxKPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIGRlKGEsbyxwKXt2YXIgZz1vK3A7Zm9yKHA9bzthW3BdJiYhKHA+PWcpOykrK3A7aWYoMTY8cC1vJiZhLnN1YmFycmF5JiZKKXJldHVybiBKLmRlY29kZShhLnN1YmFycmF5KG8scCkpO2ZvcihnPSIiO288cDspe3ZhciB4PWFbbysrXTtpZigxMjgmeCl7dmFyIE09NjMmYVtvKytdO2lmKCgyMjQmeCk9PTE5MilnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZ4KTw8NnxNKTtlbHNle3ZhciBIPTYzJmFbbysrXTs2NTUzNj4oeD0oMjQwJngpPT0yMjQ/KDE1JngpPDwxMnxNPDw2fEg6KDcmeCk8PDE4fE08PDEyfEg8PDZ8NjMmYVtvKytdKT9nKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHgpOih4LT02NTUzNixnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fHg+PjEwLDU2MzIwfDEwMjMmeCkpfX1lbHNlIGcrPVN0cmluZy5mcm9tQ2hhckNvZGUoeCl9cmV0dXJuIGd9ZnVuY3Rpb24gVGUoYSxvKXtyZXR1cm4gYT9kZShRLGEsbyk6IiJ9ZnVuY3Rpb24gSyhhLG8scCxnKXtpZighKDA8ZykpcmV0dXJuIDA7dmFyIHg9cDtnPXArZy0xO2Zvcih2YXIgTT0wO008YS5sZW5ndGg7KytNKXt2YXIgSD1hLmNoYXJDb2RlQXQoTSk7aWYoNTUyOTY8PUgmJjU3MzQzPj1IJiYoSD02NTUzNisoKDEwMjMmSCk8PDEwKXwxMDIzJmEuY2hhckNvZGVBdCgrK00pKSwxMjc+PUgpe2lmKHA+PWcpYnJlYWs7b1twKytdPUh9ZWxzZXtpZigyMDQ3Pj1IKXtpZihwKzE+PWcpYnJlYWs7b1twKytdPTE5MnxIPj42fWVsc2V7aWYoNjU1MzU+PUgpe2lmKHArMj49ZylicmVhaztvW3ArK109MjI0fEg+PjEyfWVsc2V7aWYocCszPj1nKWJyZWFrO29bcCsrXT0yNDB8SD4+MTgsb1twKytdPTEyOHxIPj4xMiY2M31vW3ArK109MTI4fEg+PjYmNjN9b1twKytdPTEyOHw2MyZIfX1yZXR1cm4gb1twXT0wLHAteH1mdW5jdGlvbiB3ZShhKXtmb3IodmFyIG89MCxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciBnPWEuY2hhckNvZGVBdChwKTs1NTI5Njw9ZyYmNTczNDM+PWcmJihnPTY1NTM2KygoMTAyMyZnKTw8MTApfDEwMjMmYS5jaGFyQ29kZUF0KCsrcCkpLDEyNz49Zz8rK286bz0yMDQ3Pj1nP28rMjo2NTUzNT49Zz9vKzM6bys0fXJldHVybiBvfWZ1bmN0aW9uIFYoYSl7dmFyIG89d2UoYSkrMSxwPW50KG8pO3JldHVybiBwJiZLKGEsQyxwLG8pLHB9ZnVuY3Rpb24gT2UoKXt2YXIgYT1PLmJ1ZmZlcjttPWEsci5IRUFQOD1DPW5ldyBJbnQ4QXJyYXkoYSksci5IRUFQMTY9bmV3IEludDE2QXJyYXkoYSksci5IRUFQMzI9eT1uZXcgSW50MzJBcnJheShhKSxyLkhFQVBVOD1RPW5ldyBVaW50OEFycmF5KGEpLHIuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYSksci5IRUFQVTMyPW5ldyBVaW50MzJBcnJheShhKSxyLkhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShhKSxyLkhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShhKX12YXIgb2UsVWU9W10sdWU9W10sY2U9W107ZnVuY3Rpb24gTWUoKXt2YXIgYT1yLnByZVJ1bi5zaGlmdCgpO1VlLnVuc2hpZnQoYSl9dmFyIHJlLFNlPTAsV2U9bnVsbDtmdW5jdGlvbiB4ZShhKXt0aHJvdyByLm9uQWJvcnQmJnIub25BYm9ydChhKSxkKGE9IkFib3J0ZWQoIithKyIpIikseWU9ITAsYT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGErIi4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4iKSx1KGEpLGF9ZnVuY3Rpb24gUmUoKXtyZXR1cm4gcmUuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpfWlmKHIucHJlbG9hZGVkSW1hZ2VzPXt9LHIucHJlbG9hZGVkQXVkaW9zPXt9LHJlPSJvcnQtd2FzbS53YXNtIiwhUmUoKSl7dmFyIENlPXJlO3JlPXIubG9jYXRlRmlsZT9yLmxvY2F0ZUZpbGUoQ2UsVSk6VStDZX1mdW5jdGlvbiBHZSgpe3ZhciBhPXJlO3RyeXtpZihhPT1yZSYmcSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocSk7aWYoVClyZXR1cm4gVChhKTt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9Y2F0Y2gobyl7eGUobyl9fWZ1bmN0aW9uIHRlKGEpe2Zvcig7MDxhLmxlbmd0aDspe3ZhciBvPWEuc2hpZnQoKTtpZih0eXBlb2Ygbz09ImZ1bmN0aW9uIilvKHIpO2Vsc2V7dmFyIHA9by5OYTt0eXBlb2YgcD09Im51bWJlciI/by52YT09PXZvaWQgMD9EZShwKSgpOkRlKHApKG8udmEpOnAoby52YT09PXZvaWQgMD9udWxsOm8udmEpfX19dmFyIGtlPVtdO2Z1bmN0aW9uIERlKGEpe3ZhciBvPWtlW2FdO3JldHVybiBvfHwoYT49a2UubGVuZ3RoJiYoa2UubGVuZ3RoPWErMSksa2VbYV09bz1vZS5nZXQoYSkpLG99ZnVuY3Rpb24gWGUoYSl7dGhpcy5xYT1hLTE2LHRoaXMuRmE9ZnVuY3Rpb24obyl7eVt0aGlzLnFhKzQ+PjJdPW99LHRoaXMuQ2E9ZnVuY3Rpb24obyl7eVt0aGlzLnFhKzg+PjJdPW99LHRoaXMuRGE9ZnVuY3Rpb24oKXt5W3RoaXMucWE+PjJdPTB9LHRoaXMuQmE9ZnVuY3Rpb24oKXtDW3RoaXMucWErMTI+PjBdPTB9LHRoaXMuRWE9ZnVuY3Rpb24oKXtDW3RoaXMucWErMTM+PjBdPTB9LHRoaXMueWE9ZnVuY3Rpb24obyxwKXt0aGlzLkZhKG8pLHRoaXMuQ2EocCksdGhpcy5EYSgpLHRoaXMuQmEoKSx0aGlzLkVhKCl9fXZhciBRZSx0dCxaZT17fSxTdD1bbnVsbCxbXSxbXV0sSmU9e30sVmU9e307ZnVuY3Rpb24gZHQoKXtpZighdHQpe3ZhciBhLG89e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzoodHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOl98fCIuL3RoaXMucHJvZ3JhbSJ9O2ZvcihhIGluIFZlKVZlW2FdPT09dm9pZCAwP2RlbGV0ZSBvW2FdOm9bYV09VmVbYV07dmFyIHA9W107Zm9yKGEgaW4gbylwLnB1c2goYSsiPSIrb1thXSk7dHQ9cH1yZXR1cm4gdHR9ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGElND09MCYmKGElMTAwIT0wfHxhJTQwMD09MCl9ZnVuY3Rpb24gSWUoYSxvKXtmb3IodmFyIHA9MCxnPTA7Zzw9bztwKz1hW2crK10pO3JldHVybiBwfXZhciBMZT1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLEZlPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gS2UoYSxvKXtmb3IoYT1uZXcgRGF0ZShhLmdldFRpbWUoKSk7MDxvOyl7dmFyIHA9YS5nZXRNb250aCgpLGc9KHZlKGEuZ2V0RnVsbFllYXIoKSk/TGU6RmUpW3BdO2lmKCEobz5nLWEuZ2V0RGF0ZSgpKSl7YS5zZXREYXRlKGEuZ2V0RGF0ZSgpK28pO2JyZWFrfW8tPWctYS5nZXREYXRlKCkrMSxhLnNldERhdGUoMSksMTE+cD9hLnNldE1vbnRoKHArMSk6KGEuc2V0TW9udGgoMCksYS5zZXRGdWxsWWVhcihhLmdldEZ1bGxZZWFyKCkrMSkpfXJldHVybiBhfWZ1bmN0aW9uIG90KGEsbyxwLGcpe2Z1bmN0aW9uIHgoZiwkLG5lKXtmb3IoZj10eXBlb2YgZj09Im51bWJlciI/Zi50b1N0cmluZygpOmZ8fCIiO2YubGVuZ3RoPCQ7KWY9bmVbMF0rZjtyZXR1cm4gZn1mdW5jdGlvbiBNKGYsJCl7cmV0dXJuIHgoZiwkLCIwIil9ZnVuY3Rpb24gSChmLCQpe2Z1bmN0aW9uIG5lKGx0KXtyZXR1cm4gMD5sdD8tMTowPGx0PzE6MH12YXIgWWU7cmV0dXJuKFllPW5lKGYuZ2V0RnVsbFllYXIoKS0kLmdldEZ1bGxZZWFyKCkpKT09PTAmJihZZT1uZShmLmdldE1vbnRoKCktJC5nZXRNb250aCgpKSk9PT0wJiYoWWU9bmUoZi5nZXREYXRlKCktJC5nZXREYXRlKCkpKSxZZX1mdW5jdGlvbiBtZShmKXtzd2l0Y2goZi5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShmLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBmO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoZi5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShmLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKGYuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoZi5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoZi5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBBZShmKXtmPUtlKG5ldyBEYXRlKGYub2ErMTkwMCwwLDEpLGYudWEpO3ZhciAkPW5ldyBEYXRlKGYuZ2V0RnVsbFllYXIoKSsxLDAsNCksbmU9bWUobmV3IERhdGUoZi5nZXRGdWxsWWVhcigpLDAsNCkpO3JldHVybiAkPW1lKCQpLDA+PUgobmUsZik/MD49SCgkLGYpP2YuZ2V0RnVsbFllYXIoKSsxOmYuZ2V0RnVsbFllYXIoKTpmLmdldEZ1bGxZZWFyKCktMX12YXIgRWU9eVtnKzQwPj4yXTtmb3IodmFyIGxlIGluIGc9e0lhOnlbZz4+Ml0sSGE6eVtnKzQ+PjJdLHNhOnlbZys4Pj4yXSxyYTp5W2crMTI+PjJdLHBhOnlbZysxNj4+Ml0sb2E6eVtnKzIwPj4yXSx0YTp5W2crMjQ+PjJdLHVhOnlbZysyOD4+Ml0sUWE6eVtnKzMyPj4yXSxHYTp5W2crMzY+PjJdLEphOkVlP1RlKEVlKToiIn0scD1UZShwKSxFZT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In0pcD1wLnJlcGxhY2UobmV3IFJlZ0V4cChsZSwiZyIpLEVlW2xlXSk7dmFyIHplPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSwkZT0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtmb3IobGUgaW4gRWU9eyIlYSI6ZnVuY3Rpb24oZil7cmV0dXJuIHplW2YudGFdLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGYpe3JldHVybiB6ZVtmLnRhXX0sIiViIjpmdW5jdGlvbihmKXtyZXR1cm4gJGVbZi5wYV0uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24oZil7cmV0dXJuICRlW2YucGFdfSwiJUMiOmZ1bmN0aW9uKGYpe3JldHVybiBNKChmLm9hKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGYpe3JldHVybiBNKGYucmEsMil9LCIlZSI6ZnVuY3Rpb24oZil7cmV0dXJuIHgoZi5yYSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oZil7cmV0dXJuIEFlKGYpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKGYpe3JldHVybiBBZShmKX0sIiVIIjpmdW5jdGlvbihmKXtyZXR1cm4gTShmLnNhLDIpfSwiJUkiOmZ1bmN0aW9uKGYpe3JldHVybihmPWYuc2EpPT0wP2Y9MTI6MTI8ZiYmKGYtPTEyKSxNKGYsMil9LCIlaiI6ZnVuY3Rpb24oZil7cmV0dXJuIE0oZi5yYStJZSh2ZShmLm9hKzE5MDApP0xlOkZlLGYucGEtMSksMyl9LCIlbSI6ZnVuY3Rpb24oZil7cmV0dXJuIE0oZi5wYSsxLDIpfSwiJU0iOmZ1bmN0aW9uKGYpe3JldHVybiBNKGYuSGEsMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm5gCmB9LCIlcCI6ZnVuY3Rpb24oZil7cmV0dXJuIDA8PWYuc2EmJjEyPmYuc2E/IkFNIjoiUE0ifSwiJVMiOmZ1bmN0aW9uKGYpe3JldHVybiBNKGYuSWEsMil9LCIldCI6ZnVuY3Rpb24oKXtyZXR1cm4iCSJ9LCIldSI6ZnVuY3Rpb24oZil7cmV0dXJuIGYudGF8fDd9LCIlVSI6ZnVuY3Rpb24oZil7dmFyICQ9bmV3IERhdGUoZi5vYSsxOTAwLDAsMSksbmU9JC5nZXREYXkoKT09PTA/JDpLZSgkLDctJC5nZXREYXkoKSk7cmV0dXJuIDA+SChuZSxmPW5ldyBEYXRlKGYub2ErMTkwMCxmLnBhLGYucmEpKT9NKE1hdGguY2VpbCgoMzEtbmUuZ2V0RGF0ZSgpKyhJZSh2ZShmLmdldEZ1bGxZZWFyKCkpP0xlOkZlLGYuZ2V0TW9udGgoKS0xKS0zMSkrZi5nZXREYXRlKCkpLzcpLDIpOkgobmUsJCk9PT0wPyIwMSI6IjAwIn0sIiVWIjpmdW5jdGlvbihmKXt2YXIgJD1uZXcgRGF0ZShmLm9hKzE5MDEsMCw0KSxuZT1tZShuZXcgRGF0ZShmLm9hKzE5MDAsMCw0KSk7JD1tZSgkKTt2YXIgWWU9S2UobmV3IERhdGUoZi5vYSsxOTAwLDAsMSksZi51YSk7cmV0dXJuIDA+SChZZSxuZSk/IjUzIjowPj1IKCQsWWUpPyIwMSI6TShNYXRoLmNlaWwoKG5lLmdldEZ1bGxZZWFyKCk8Zi5vYSsxOTAwP2YudWErMzItbmUuZ2V0RGF0ZSgpOmYudWErMS1uZS5nZXREYXRlKCkpLzcpLDIpfSwiJXciOmZ1bmN0aW9uKGYpe3JldHVybiBmLnRhfSwiJVciOmZ1bmN0aW9uKGYpe3ZhciAkPW5ldyBEYXRlKGYub2EsMCwxKSxuZT0kLmdldERheSgpPT09MT8kOktlKCQsJC5nZXREYXkoKT09PTA/MTo3LSQuZ2V0RGF5KCkrMSk7cmV0dXJuIDA+SChuZSxmPW5ldyBEYXRlKGYub2ErMTkwMCxmLnBhLGYucmEpKT9NKE1hdGguY2VpbCgoMzEtbmUuZ2V0RGF0ZSgpKyhJZSh2ZShmLmdldEZ1bGxZZWFyKCkpP0xlOkZlLGYuZ2V0TW9udGgoKS0xKS0zMSkrZi5nZXREYXRlKCkpLzcpLDIpOkgobmUsJCk9PT0wPyIwMSI6IjAwIn0sIiV5IjpmdW5jdGlvbihmKXtyZXR1cm4oZi5vYSsxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihmKXtyZXR1cm4gZi5vYSsxOTAwfSwiJXoiOmZ1bmN0aW9uKGYpe3ZhciAkPTA8PShmPWYuR2EpO3JldHVybiBmPU1hdGguYWJzKGYpLzYwLCgkPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrKGYvNjAqMTAwK2YlNjApKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oZil7cmV0dXJuIGYuSmF9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fSlwLmluY2x1ZGVzKGxlKSYmKHA9cC5yZXBsYWNlKG5ldyBSZWdFeHAobGUsImciKSxFZVtsZV0oZykpKTtyZXR1cm4gbGU9ZnVuY3Rpb24oZil7dmFyICQ9QXJyYXkod2UoZikrMSk7cmV0dXJuIEsoZiwkLDAsJC5sZW5ndGgpLCR9KHApLGxlLmxlbmd0aD5vPzA6KEMuc2V0KGxlLGEpLGxlLmxlbmd0aC0xKX12YXIgVHQ9e2E6ZnVuY3Rpb24oYSl7cmV0dXJuIG50KGErMTYpKzE2fSxiOmZ1bmN0aW9uKGEsbyxwKXt0aHJvdyBuZXcgWGUoYSkueWEobyxwKSxhfSxnOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LEk6ZnVuY3Rpb24oKXt9LEY6ZnVuY3Rpb24oKXt9LHY6ZnVuY3Rpb24oKXt9LHk6ZnVuY3Rpb24oKXt9LHI6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sRzpmdW5jdGlvbigpe30sQjpmdW5jdGlvbihhLG8pe3JldHVybiBhPVRlKGEpLEplLkthKGEsbyl9LEE6ZnVuY3Rpb24oYSxvLHAsZyx4LE0pe2lmKE08PD0xMiwoMTYmZykhPTAmJmElNjU1MzYhPTApbz0tMjg7ZWxzZSBpZigoMzImZykhPTApe2E9NjU1MzYqTWF0aC5jZWlsKG8vNjU1MzYpO3ZhciBIPXV0KDY1NTM2LGEpO0g/KFEuZmlsbCgwLEgsSCthKSxhPUgpOmE9MCxhPyhaZVthXT17QWE6YSx6YTpvLHdhOiEwLGZkOngsUGE6cCxmbGFnczpnLG9mZnNldDpNfSxvPWEpOm89LTQ4fWVsc2Ugbz0tNTI7cmV0dXJuIG99LHo6ZnVuY3Rpb24oYSxvKXt2YXIgcD1aZVthXTtyZXR1cm4gbyE9PTAmJnA/KG89PT1wLnphJiYoWmVbYV09bnVsbCxwLndhJiZXKHAuQWEpKSxhPTApOmE9LTI4LGF9LGs6ZnVuY3Rpb24oKXt9LHg6ZnVuY3Rpb24oYSxvLHApe3JldHVybiBhPVRlKGEpLEplLkxhKGEsbyxwKX0sdDpmdW5jdGlvbigpe30sSDpmdW5jdGlvbigpe30sdTpmdW5jdGlvbigpe30saDpmdW5jdGlvbigpe3hlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX0sbjpmdW5jdGlvbigpe3hlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX0sSjpmdW5jdGlvbihhLG8pe2E9bmV3IERhdGUoMWUzKnlbYT4+Ml0pLHlbbz4+Ml09YS5nZXRVVENTZWNvbmRzKCkseVtvKzQ+PjJdPWEuZ2V0VVRDTWludXRlcygpLHlbbys4Pj4yXT1hLmdldFVUQ0hvdXJzKCkseVtvKzEyPj4yXT1hLmdldFVUQ0RhdGUoKSx5W28rMTY+PjJdPWEuZ2V0VVRDTW9udGgoKSx5W28rMjA+PjJdPWEuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLHlbbysyND4+Ml09YS5nZXRVVENEYXkoKSx5W28rMjg+PjJdPShhLmdldFRpbWUoKS1EYXRlLlVUQyhhLmdldFVUQ0Z1bGxZZWFyKCksMCwxLDAsMCwwLDApKS84NjRlNXwwfSxLOmZ1bmN0aW9uKGEsbyl7YT1uZXcgRGF0ZSgxZTMqeVthPj4yXSkseVtvPj4yXT1hLmdldFNlY29uZHMoKSx5W28rND4+Ml09YS5nZXRNaW51dGVzKCkseVtvKzg+PjJdPWEuZ2V0SG91cnMoKSx5W28rMTI+PjJdPWEuZ2V0RGF0ZSgpLHlbbysxNj4+Ml09YS5nZXRNb250aCgpLHlbbysyMD4+Ml09YS5nZXRGdWxsWWVhcigpLTE5MDAseVtvKzI0Pj4yXT1hLmdldERheSgpO3ZhciBwPW5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpO3lbbysyOD4+Ml09KGEuZ2V0VGltZSgpLXAuZ2V0VGltZSgpKS84NjRlNXwwLHlbbyszNj4+Ml09LTYwKmEuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgZz1uZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpO3A9cC5nZXRUaW1lem9uZU9mZnNldCgpLHlbbyszMj4+Ml09MHwoZyE9cCYmYS5nZXRUaW1lem9uZU9mZnNldCgpPT1NYXRoLm1pbihwLGcpKX0sTDpmdW5jdGlvbihhKXt2YXIgbz1uZXcgRGF0ZSh5W2ErMjA+PjJdKzE5MDAseVthKzE2Pj4yXSx5W2ErMTI+PjJdLHlbYSs4Pj4yXSx5W2ErND4+Ml0seVthPj4yXSwwKSxwPXlbYSszMj4+Ml0sZz1vLmdldFRpbWV6b25lT2Zmc2V0KCkseD1uZXcgRGF0ZShvLmdldEZ1bGxZZWFyKCksMCwxKSxNPW5ldyBEYXRlKG8uZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCksSD14LmdldFRpbWV6b25lT2Zmc2V0KCksbWU9TWF0aC5taW4oSCxNKTtyZXR1cm4gMD5wP3lbYSszMj4+Ml09TnVtYmVyKE0hPUgmJm1lPT1nKTowPHAhPShtZT09ZykmJihNPU1hdGgubWF4KEgsTSksby5zZXRUaW1lKG8uZ2V0VGltZSgpKzZlNCooKDA8cD9tZTpNKS1nKSkpLHlbYSsyND4+Ml09by5nZXREYXkoKSx5W2ErMjg+PjJdPShvLmdldFRpbWUoKS14LmdldFRpbWUoKSkvODY0ZTV8MCx5W2E+PjJdPW8uZ2V0U2Vjb25kcygpLHlbYSs0Pj4yXT1vLmdldE1pbnV0ZXMoKSx5W2ErOD4+Ml09by5nZXRIb3VycygpLHlbYSsxMj4+Ml09by5nZXREYXRlKCkseVthKzE2Pj4yXT1vLmdldE1vbnRoKCksby5nZXRUaW1lKCkvMWUzfDB9LE06ZnVuY3Rpb24gYShvLHAsZyl7YS54YXx8KGEueGE9ITAsZnVuY3Rpb24oeCxNLEgpe2Z1bmN0aW9uIG1lKCRlKXtyZXR1cm4oJGU9JGUudG9UaW1lU3RyaW5nKCkubWF0Y2goL1woKFtBLVphLXogXSspXCkkLykpPyRlWzFdOiJHTVQifXZhciBBZT1uZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksRWU9bmV3IERhdGUoQWUsMCwxKSxsZT1uZXcgRGF0ZShBZSw2LDEpO0FlPUVlLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHplPWxlLmdldFRpbWV6b25lT2Zmc2V0KCk7eVt4Pj4yXT02MCpNYXRoLm1heChBZSx6ZSkseVtNPj4yXT1OdW1iZXIoQWUhPXplKSx4PW1lKEVlKSxNPW1lKGxlKSx4PVYoeCksTT1WKE0pLHplPEFlPyh5W0g+PjJdPXgseVtIKzQ+PjJdPU0pOih5W0g+PjJdPU0seVtIKzQ+PjJdPXgpfShvLHAsZykpfSxkOmZ1bmN0aW9uKCl7eGUoIiIpfSxtOmZ1bmN0aW9uKGEsbyl7aWYoYT09PTApYT1EYXRlLm5vdygpO2Vsc2V7aWYoYSE9PTEmJmEhPT00KXJldHVybiB5W3N0KCk+PjJdPTI4LC0xO2E9UWUoKX1yZXR1cm4geVtvPj4yXT1hLzFlM3wwLHlbbys0Pj4yXT1hJTFlMyoxZTZ8MCwwfSxwOmZ1bmN0aW9uKGEsbyl7cmV0dXJuIGEtb30sczpmdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ4fSxsOlFlPXo/KCk9Pnt2YXIgYT1wcm9jZXNzLmhydGltZSgpO3JldHVybiAxZTMqYVswXSthWzFdLzFlNn06KCk9PnBlcmZvcm1hbmNlLm5vdygpLEU6ZnVuY3Rpb24oYSxvLHApe1EuY29weVdpdGhpbihhLG8sbytwKX0sZjpmdW5jdGlvbihhKXt2YXIgbz1RLmxlbmd0aDtpZigyMTQ3NDgzNjQ4PChhPj4+PTApKXJldHVybiExO2Zvcih2YXIgcD0xOzQ+PXA7cCo9Mil7dmFyIGc9byooMSsuMi9wKTtnPU1hdGgubWluKGcsYSsxMDA2NjMyOTYpLDA8KGc9TWF0aC5tYXgoYSxnKSklNjU1MzYmJihnKz02NTUzNi1nJTY1NTM2KTtlOnt0cnl7Ty5ncm93KE1hdGgubWluKDIxNDc0ODM2NDgsZyktbS5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpLE9lKCk7dmFyIHg9MTticmVhayBlfWNhdGNoe314PXZvaWQgMH1pZih4KXJldHVybiEwfXJldHVybiExfSxDOmZ1bmN0aW9uKGEsbyl7dmFyIHA9MDtyZXR1cm4gZHQoKS5mb3JFYWNoKGZ1bmN0aW9uKGcseCl7dmFyIE09bytwO2Zvcih4PXlbYSs0Kng+PjJdPU0sTT0wO008Zy5sZW5ndGg7KytNKUNbeCsrPj4wXT1nLmNoYXJDb2RlQXQoTSk7Q1t4Pj4wXT0wLHArPWcubGVuZ3RoKzF9KSwwfSxEOmZ1bmN0aW9uKGEsbyl7dmFyIHA9ZHQoKTt5W2E+PjJdPXAubGVuZ3RoO3ZhciBnPTA7cmV0dXJuIHAuZm9yRWFjaChmdW5jdGlvbih4KXtnKz14Lmxlbmd0aCsxfSkseVtvPj4yXT1nLDB9LGU6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sajpmdW5jdGlvbihhLG8scCxnKXtyZXR1cm4gYT1KZS5PYShhKSxvPUplLk1hKGEsbyxwKSx5W2c+PjJdPW8sMH0scTpmdW5jdGlvbigpe30saTpmdW5jdGlvbihhLG8scCxnKXtmb3IodmFyIHg9MCxNPTA7TTxwO00rKyl7dmFyIEg9eVtvPj4yXSxtZT15W28rND4+Ml07bys9ODtmb3IodmFyIEFlPTA7QWU8bWU7QWUrKyl7dmFyIEVlPVFbSCtBZV0sbGU9U3RbYV07RWU9PT0wfHxFZT09PTEwPygoYT09PTE/RzpkKShkZShsZSwwKSksbGUubGVuZ3RoPTApOmxlLnB1c2goRWUpfXgrPW1lfXJldHVybiB5W2c+PjJdPXgsMH0sdzpmdW5jdGlvbihhKXt2YXIgbz1EYXRlLm5vdygpO3JldHVybiB5W2E+PjJdPW8vMWUzfDAseVthKzQ+PjJdPW8lMWUzKjFlM3wwLDB9LG86b3QsYzpmdW5jdGlvbihhLG8scCxnKXtyZXR1cm4gb3QoYSxvLHAsZyl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKHgpe3IuYXNtPXguZXhwb3J0cyxPPXIuYXNtLk4sT2UoKSxvZT1yLmFzbS5qYSx1ZS51bnNoaWZ0KHIuYXNtLk8pLFNlLS0sci5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZyLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoU2UpLFNlPT0wJiZXZSYmKHg9V2UsV2U9bnVsbCx4KCkpfWZ1bmN0aW9uIG8oeCl7YSh4Lmluc3RhbmNlKX1mdW5jdGlvbiBwKHgpe3JldHVybiBmdW5jdGlvbigpe2lmKCFxJiYoQnx8WSkpe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmIXJlLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKSlyZXR1cm4gZmV0Y2gocmUse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKE0pe2lmKCFNLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrcmUrIiciO3JldHVybiBNLmFycmF5QnVmZmVyKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBHZSgpfSk7aWYodilyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oTSxIKXt2KHJlLGZ1bmN0aW9uKG1lKXtNKG5ldyBVaW50OEFycmF5KG1lKSl9LEgpfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gR2UoKX0pfSgpLnRoZW4oZnVuY3Rpb24oTSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKE0sZyl9KS50aGVuKGZ1bmN0aW9uKE0pe3JldHVybiBNfSkudGhlbih4LGZ1bmN0aW9uKE0pe2QoImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrTSkseGUoTSl9KX12YXIgZz17YTpUdH07aWYoU2UrKyxyLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnIubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhTZSksci5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiByLmluc3RhbnRpYXRlV2FzbShnLGEpfWNhdGNoKHgpe3JldHVybiBkKCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK3gpLCExfShxfHx0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fFJlKCl8fHJlLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKXx8dHlwZW9mIGZldGNoIT0iZnVuY3Rpb24iP3Aobyk6ZmV0Y2gocmUse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKHgpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyh4LGcpLnRoZW4obyxmdW5jdGlvbihNKXtyZXR1cm4gZCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrTSksZCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxwKG8pfSl9KSkuY2F0Y2godSl9KSgpLHIuX19fd2FzbV9jYWxsX2N0b3JzPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX19fd2FzbV9jYWxsX2N0b3JzPXIuYXNtLk8pLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0SW5pdD1mdW5jdGlvbigpe3JldHVybihyLl9PcnRJbml0PXIuYXNtLlApLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ci5hc20uUSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PXIuYXNtLlIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1yLmFzbS5TKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHIuX09ydENyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0Q3JlYXRlU2Vzc2lvbj1yLmFzbS5UKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHIuX09ydFJlbGVhc2VTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX09ydFJlbGVhc2VTZXNzaW9uPXIuYXNtLlUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0R2V0SW5wdXRDb3VudD1mdW5jdGlvbigpe3JldHVybihyLl9PcnRHZXRJbnB1dENvdW50PXIuYXNtLlYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0R2V0T3V0cHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0R2V0T3V0cHV0Q291bnQ9ci5hc20uVykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyLl9PcnRHZXRJbnB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0R2V0SW5wdXROYW1lPXIuYXNtLlgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0R2V0T3V0cHV0TmFtZT1mdW5jdGlvbigpe3JldHVybihyLl9PcnRHZXRPdXRwdXROYW1lPXIuYXNtLlkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0RnJlZT1mdW5jdGlvbigpe3JldHVybihyLl9PcnRGcmVlPXIuYXNtLlopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0Q3JlYXRlVGVuc29yPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX09ydENyZWF0ZVRlbnNvcj1yLmFzbS5fKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHIuX09ydEdldFRlbnNvckRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0R2V0VGVuc29yRGF0YT1yLmFzbS4kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHIuX09ydFJlbGVhc2VUZW5zb3I9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0UmVsZWFzZVRlbnNvcj1yLmFzbS5hYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyLl9PcnRDcmVhdGVSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX09ydENyZWF0ZVJ1bk9wdGlvbnM9ci5hc20uYmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ci5hc20uY2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ci5hc20uZGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sci5fT3J0UnVuPWZ1bmN0aW9uKCl7cmV0dXJuKHIuX09ydFJ1bj1yLmFzbS5lYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyLl9PcnRFbmRQcm9maWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4oci5fT3J0RW5kUHJvZmlsaW5nPXIuYXNtLmZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBIZSxzdD1yLl9fX2Vycm5vX2xvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuKHN0PXIuX19fZXJybm9fbG9jYXRpb249ci5hc20uZ2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbnQ9ci5fbWFsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKG50PXIuX21hbGxvYz1yLmFzbS5oYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxXPXIuX2ZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4oVz1yLl9mcmVlPXIuYXNtLmlhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHV0PXIuX21lbWFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuKHV0PXIuX21lbWFsaWduPXIuYXNtLmthKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJ0PXIuc3RhY2tTYXZlPWZ1bmN0aW9uKCl7cmV0dXJuKHJ0PXIuc3RhY2tTYXZlPXIuYXNtLmxhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGV0PXIuc3RhY2tSZXN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuKGV0PXIuc3RhY2tSZXN0b3JlPXIuYXNtLm1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGF0PXIuc3RhY2tBbGxvYz1mdW5jdGlvbigpe3JldHVybihhdD1yLnN0YWNrQWxsb2M9ci5hc20ubmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07ZnVuY3Rpb24gY3QoKXtmdW5jdGlvbiBhKCl7aWYoIUhlJiYoSGU9ITAsci5jYWxsZWRSdW49ITAsIXllKSl7aWYodGUodWUpLFMociksci5vblJ1bnRpbWVJbml0aWFsaXplZCYmci5vblJ1bnRpbWVJbml0aWFsaXplZCgpLHIucG9zdFJ1bilmb3IodHlwZW9mIHIucG9zdFJ1bj09ImZ1bmN0aW9uIiYmKHIucG9zdFJ1bj1bci5wb3N0UnVuXSk7ci5wb3N0UnVuLmxlbmd0aDspe3ZhciBvPXIucG9zdFJ1bi5zaGlmdCgpO2NlLnVuc2hpZnQobyl9dGUoY2UpfX1pZighKDA8U2UpKXtpZihyLnByZVJ1bilmb3IodHlwZW9mIHIucHJlUnVuPT0iZnVuY3Rpb24iJiYoci5wcmVSdW49W3IucHJlUnVuXSk7ci5wcmVSdW4ubGVuZ3RoOylNZSgpO3RlKFVlKSwwPFNlfHwoci5zZXRTdGF0dXM/KHIuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnNldFN0YXR1cygiIil9LDEpLGEoKX0sMSkpOmEoKSl9fWlmKHIuVVRGOFRvU3RyaW5nPVRlLHIuc3RyaW5nVG9VVEY4PWZ1bmN0aW9uKGEsbyxwKXtyZXR1cm4gSyhhLFEsbyxwKX0sci5sZW5ndGhCeXRlc1VURjg9d2Usci5zdGFja1NhdmU9cnQsci5zdGFja1Jlc3RvcmU9ZXQsci5zdGFja0FsbG9jPWF0LFdlPWZ1bmN0aW9uIGEoKXtIZXx8Y3QoKSxIZXx8KFdlPWEpfSxyLnJ1bj1jdCxyLnByZUluaXQpZm9yKHR5cGVvZiByLnByZUluaXQ9PSJmdW5jdGlvbiImJihyLnByZUluaXQ9W3IucHJlSW5pdF0pOzA8ci5wcmVJbml0Lmxlbmd0aDspci5wcmVJbml0LnBvcCgpKCk7cmV0dXJuIGN0KCksSS5yZWFkeX0pO04uZXhwb3J0cz1rfSwyMDA6KE4saCx3KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxoLndhc21CYWNrZW5kPWguaW5pdGlhbGl6ZUZsYWdzPXZvaWQgMDtjb25zdCBMPXcoMjAzKSxrPXcoNDUzKSxJPXcoMzgxKSxyPXcoMjIpLFM9dygxNTcpLHU9dygzMDYpO2guaW5pdGlhbGl6ZUZsYWdzPSgpPT57aWYoKHR5cGVvZiBrLmVudi53YXNtLmluaXRUaW1lb3V0IT0ibnVtYmVyInx8ay5lbnYud2FzbS5pbml0VGltZW91dDwwKSYmKGsuZW52Lndhc20uaW5pdFRpbWVvdXQ9MCksdHlwZW9mIGsuZW52Lndhc20uc2ltZCE9ImJvb2xlYW4iJiYoay5lbnYud2FzbS5zaW1kPSEwKSx0eXBlb2Ygay5lbnYud2FzbS5wcm94eSE9ImJvb2xlYW4iJiYoay5lbnYud2FzbS5wcm94eT0hMSksdHlwZW9mIGsuZW52Lndhc20ubnVtVGhyZWFkcyE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGsuZW52Lndhc20ubnVtVGhyZWFkcyl8fGsuZW52Lndhc20ubnVtVGhyZWFkczw9MCl7Y29uc3QgRj10eXBlb2YgbmF2aWdhdG9yPT0idW5kZWZpbmVkIj9JLmNwdXMoKS5sZW5ndGg6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3k7ay5lbnYud2FzbS5udW1UaHJlYWRzPU1hdGgubWluKDQsTWF0aC5jZWlsKChGfHwxKS8yKSl9fSxoLndhc21CYWNrZW5kPW5ldyBjbGFzc3thc3luYyBpbml0KCl7aC5pbml0aWFsaXplRmxhZ3MoKSxhd2FpdCBTLmluaXRXYXNtKCl9YXN5bmMgY3JlYXRlU2Vzc2lvbkhhbmRsZXIoRixuKXtsZXQgdjtpZih0eXBlb2YgRj09InN0cmluZyIpaWYodHlwZW9mIGZldGNoPT0idW5kZWZpbmVkIil2PWF3YWl0IHIucHJvbWlzaWZ5KEwucmVhZEZpbGUpKEYpO2Vsc2V7Y29uc3QgUj1hd2FpdCBmZXRjaChGKSxEPWF3YWl0IFIuYXJyYXlCdWZmZXIoKTt2PW5ldyBVaW50OEFycmF5KEQpfWVsc2Ugdj1GO2NvbnN0IFQ9bmV3IHUuT25ueHJ1bnRpbWVXZWJBc3NlbWJseVNlc3Npb25IYW5kbGVyO3JldHVybiBhd2FpdCBULmxvYWRNb2RlbCh2LG4pLFByb21pc2UucmVzb2x2ZShUKX19fSwxODpmdW5jdGlvbihOLGgsdyl7dmFyIEw9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHIsUyx1LEYpe0Y9PT12b2lkIDAmJihGPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLEYse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFNbdV19fSl9OmZ1bmN0aW9uKHIsUyx1LEYpe0Y9PT12b2lkIDAmJihGPXUpLHJbRl09U1t1XX0pLGs9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHIsUyl7Zm9yKHZhciB1IGluIHIpdT09PSJkZWZhdWx0Inx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFMsdSl8fEwoUyxyLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksayh3KDQ1MyksaCk7Y29uc3QgST13KDQ1Myk7e2NvbnN0IHI9dygyMDApLndhc21CYWNrZW5kO0kucmVnaXN0ZXJCYWNrZW5kKCJ3YXNtIixyLDApfX0sOTY3OihOLGgpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGgsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGguaXRlcmF0ZUV4dHJhT3B0aW9ucz12b2lkIDAsaC5pdGVyYXRlRXh0cmFPcHRpb25zPSh3LEwsayxJKT0+e2lmKHR5cGVvZiB3PT0ib2JqZWN0IiYmdyE9PW51bGwpe2lmKGsuaGFzKHcpKXRocm93IG5ldyBFcnJvcigiQ2lyY3VsYXIgcmVmZXJlbmNlIGluIG9wdGlvbnMiKTtrLmFkZCh3KX1PYmplY3QuZW50cmllcyh3KS5mb3JFYWNoKChbcixTXSk9Pntjb25zdCB1PUw/TCtyOnI7aWYodHlwZW9mIFM9PSJvYmplY3QiKWguaXRlcmF0ZUV4dHJhT3B0aW9ucyhTLHUrIi4iLGssSSk7ZWxzZSBpZih0eXBlb2YgUz09InN0cmluZyJ8fHR5cGVvZiBTPT0ibnVtYmVyIilJKHUsUy50b1N0cmluZygpKTtlbHNle2lmKHR5cGVvZiBTIT0iYm9vbGVhbiIpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBoYW5kbGUgZXh0cmEgY29uZmlnIHR5cGU6ICIrdHlwZW9mIFMpO0kodSxTPyIxIjoiMCIpfX0pfX0sMTU3OmZ1bmN0aW9uKE4saCx3KXt2YXIgTCxrPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihkLE8sbSxDKXtDPT09dm9pZCAwJiYoQz1tKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxDLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBPW21dfX0pfTpmdW5jdGlvbihkLE8sbSxDKXtDPT09dm9pZCAwJiYoQz1tKSxkW0NdPU9bbV19KSxJPXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihkLE8pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTpPfSl9OmZ1bmN0aW9uKGQsTyl7ZC5kZWZhdWx0PU99KSxyPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihkKXtpZihkJiZkLl9fZXNNb2R1bGUpcmV0dXJuIGQ7dmFyIE89e307aWYoZCE9bnVsbClmb3IodmFyIG0gaW4gZCltIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxtKSYmayhPLGQsbSk7cmV0dXJuIEkoTyxkKSxPfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaC5lbmRQcm9maWxpbmc9aC5ydW49aC5yZWxlYXNlU2Vzc2lvbj1oLmNyZWF0ZVNlc3Npb249aC5pbml0T3J0PWguaW5pdFdhc209dm9pZCAwO2NvbnN0IFM9dyg0NTMpLHU9cih3KDM0OSkpLEY9dygzNjEpLG49KCk9PiEhUy5lbnYud2FzbS5wcm94eSYmdHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIjtsZXQgdixULFIsRD0hMSxiPSExLGw9ITE7Y29uc3QgXz1bXSxCPVtdLFk9W10sej1bXSxVPSgpPT57aWYoRHx8IWJ8fGx8fCF2KXRocm93IG5ldyBFcnJvcigid29ya2VyIG5vdCByZWFkeSIpfSxxPWQ9Pntzd2l0Y2goZC5kYXRhLnR5cGUpe2Nhc2UiaW5pdC13YXNtIjpEPSExLGQuZGF0YS5lcnI/KGw9ITAsVFsxXShkLmRhdGEuZXJyKSk6KGI9ITAsVFswXSgpKTticmVhaztjYXNlImluaXQtb3J0IjpkLmRhdGEuZXJyP1JbMV0oZC5kYXRhLmVycik6UlswXSgpO2JyZWFrO2Nhc2UiY3JlYXRlIjpkLmRhdGEuZXJyP18uc2hpZnQoKVsxXShkLmRhdGEuZXJyKTpfLnNoaWZ0KClbMF0oZC5kYXRhLm91dCk7YnJlYWs7Y2FzZSJyZWxlYXNlIjpkLmRhdGEuZXJyP0Iuc2hpZnQoKVsxXShkLmRhdGEuZXJyKTpCLnNoaWZ0KClbMF0oKTticmVhaztjYXNlInJ1biI6ZC5kYXRhLmVycj9ZLnNoaWZ0KClbMV0oZC5kYXRhLmVycik6WS5zaGlmdCgpWzBdKGQuZGF0YS5vdXQpO2JyZWFrO2Nhc2UiZW5kLXByb2ZpbGluZyI6ZC5kYXRhLmVycj96LnNoaWZ0KClbMV0oZC5kYXRhLmVycik6ei5zaGlmdCgpWzBdKCl9fSxHPXR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCI/KEw9ZG9jdW1lbnQ9PW51bGw/dm9pZCAwOmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpPT09bnVsbHx8TD09PXZvaWQgMD92b2lkIDA6TC5zcmM6dm9pZCAwO2guaW5pdFdhc209YXN5bmMoKT0+e2lmKG4oKSl7aWYoYilyZXR1cm47aWYoRCl0aHJvdyBuZXcgRXJyb3IoIm11bHRpcGxlIGNhbGxzIHRvICdpbml0V2FzbSgpJyBkZXRlY3RlZC4iKTtpZihsKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgY2FsbCB0byAnaW5pdFdhc20oKScgZmFpbGVkLiIpO3JldHVybiBEPSEwLFMuZW52Lndhc20ud2FzbVBhdGhzPT09dm9pZCAwJiZHJiZHLmluZGV4T2YoImJsb2I6IikhPT0wJiYoUy5lbnYud2FzbS53YXNtUGF0aHM9Ry5zdWJzdHIoMCxHLmxhc3RJbmRleE9mKCIvIikrMSkpLG5ldyBQcm9taXNlKChkLE8pPT57dj09bnVsbHx8di50ZXJtaW5hdGUoKSx2PXcoNzEwKS5aKCksdi5vbm1lc3NhZ2U9cSxUPVtkLE9dO2NvbnN0IG09e3R5cGU6ImluaXQtd2FzbSIsaW46Uy5lbnYud2FzbX07di5wb3N0TWVzc2FnZShtKX0pfXJldHVybiBGLmluaXRpYWxpemVXZWJBc3NlbWJseShTLmVudi53YXNtKX0saC5pbml0T3J0PWFzeW5jKGQsTyk9PntpZihuKCkpcmV0dXJuIFUoKSxuZXcgUHJvbWlzZSgobSxDKT0+e1I9W20sQ107Y29uc3QgUT17dHlwZToiaW5pdC1vcnQiLGluOntudW1UaHJlYWRzOmQsbG9nZ2luZ0xldmVsOk99fTt2LnBvc3RNZXNzYWdlKFEpfSk7dS5pbml0T3J0KGQsTyl9LGguY3JlYXRlU2Vzc2lvbj1hc3luYyhkLE8pPT5uKCk/KFUoKSxuZXcgUHJvbWlzZSgobSxDKT0+e18ucHVzaChbbSxDXSk7Y29uc3QgUT17dHlwZToiY3JlYXRlIixpbjp7bW9kZWw6ZCxvcHRpb25zOk99fTt2LnBvc3RNZXNzYWdlKFEsW2QuYnVmZmVyXSl9KSk6dS5jcmVhdGVTZXNzaW9uKGQsTyksaC5yZWxlYXNlU2Vzc2lvbj1hc3luYyBkPT57aWYobigpKXJldHVybiBVKCksbmV3IFByb21pc2UoKE8sbSk9PntCLnB1c2goW08sbV0pO2NvbnN0IEM9e3R5cGU6InJlbGVhc2UiLGluOmR9O3YucG9zdE1lc3NhZ2UoQyl9KTt1LnJlbGVhc2VTZXNzaW9uKGQpfSxoLnJ1bj1hc3luYyhkLE8sbSxDLFEpPT5uKCk/KFUoKSxuZXcgUHJvbWlzZSgoeSx5ZSk9PntZLnB1c2goW3kseWVdKTtjb25zdCBKPXt0eXBlOiJydW4iLGluOntzZXNzaW9uSWQ6ZCxpbnB1dEluZGljZXM6TyxpbnB1dHM6bSxvdXRwdXRJbmRpY2VzOkMsb3B0aW9uczpRfX07di5wb3N0TWVzc2FnZShKLHUuZXh0cmFjdFRyYW5zZmVyYWJsZUJ1ZmZlcnMobSkpfSkpOnUucnVuKGQsTyxtLEMsUSksaC5lbmRQcm9maWxpbmc9YXN5bmMgZD0+e2lmKG4oKSlyZXR1cm4gVSgpLG5ldyBQcm9taXNlKChPLG0pPT57ei5wdXNoKFtPLG1dKTtjb25zdCBDPXt0eXBlOiJlbmQtcHJvZmlsaW5nIixpbjpkfTt2LnBvc3RNZXNzYWdlKEMpfSk7dS5lbmRQcm9maWxpbmcoZCl9fSw1ODY6KE4saCx3KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxoLnNldFJ1bk9wdGlvbnM9dm9pZCAwO2NvbnN0IEw9dyg5NjcpLGs9dyg5ODMpLEk9dygzNjEpO2guc2V0UnVuT3B0aW9ucz1yPT57Y29uc3QgUz1JLmdldEluc3RhbmNlKCk7bGV0IHU9MDtjb25zdCBGPVtdLG49cnx8e307dHJ5e2lmKChyPT1udWxsP3ZvaWQgMDpyLmxvZ1NldmVyaXR5TGV2ZWwpPT09dm9pZCAwKW4ubG9nU2V2ZXJpdHlMZXZlbD0yO2Vsc2UgaWYodHlwZW9mIHIubG9nU2V2ZXJpdHlMZXZlbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKHIubG9nU2V2ZXJpdHlMZXZlbCl8fHIubG9nU2V2ZXJpdHlMZXZlbDwwfHxyLmxvZ1NldmVyaXR5TGV2ZWw+NCl0aHJvdyBuZXcgRXJyb3IoYGxvZyBzZXJ2ZXJpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke3IubG9nU2V2ZXJpdHlMZXZlbH1gKTtpZigocj09bnVsbD92b2lkIDA6ci5sb2dWZXJib3NpdHlMZXZlbCk9PT12b2lkIDApbi5sb2dWZXJib3NpdHlMZXZlbD0wO2Vsc2UgaWYodHlwZW9mIHIubG9nVmVyYm9zaXR5TGV2ZWwhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihyLmxvZ1ZlcmJvc2l0eUxldmVsKSl0aHJvdyBuZXcgRXJyb3IoYGxvZyB2ZXJib3NpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke3IubG9nVmVyYm9zaXR5TGV2ZWx9YCk7KHI9PW51bGw/dm9pZCAwOnIudGVybWluYXRlKT09PXZvaWQgMCYmKG4udGVybWluYXRlPSExKTtsZXQgdj0wO2lmKChyPT1udWxsP3ZvaWQgMDpyLnRhZykhPT12b2lkIDAmJih2PWsuYWxsb2NXYXNtU3RyaW5nKHIudGFnLEYpKSx1PVMuX09ydENyZWF0ZVJ1bk9wdGlvbnMobi5sb2dTZXZlcml0eUxldmVsLG4ubG9nVmVyYm9zaXR5TGV2ZWwsISFuLnRlcm1pbmF0ZSx2KSx1PT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGNyZWF0ZSBydW4gb3B0aW9ucyIpO3JldHVybihyPT1udWxsP3ZvaWQgMDpyLmV4dHJhKSE9PXZvaWQgMCYmTC5pdGVyYXRlRXh0cmFPcHRpb25zKHIuZXh0cmEsIiIsbmV3IFdlYWtTZXQsKFQsUik9Pntjb25zdCBEPWsuYWxsb2NXYXNtU3RyaW5nKFQsRiksYj1rLmFsbG9jV2FzbVN0cmluZyhSLEYpO2lmKFMuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5KHUsRCxiKSE9PTApdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBzZXQgYSBydW4gY29uZmlnIGVudHJ5OiAke1R9IC0gJHtSfWApfSksW3UsRl19Y2F0Y2godil7dGhyb3cgdSE9PTAmJlMuX09ydFJlbGVhc2VSdW5PcHRpb25zKHUpLEYuZm9yRWFjaChTLl9mcmVlKSx2fX19LDMwNjooTixoLHcpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGgsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGguT25ueHJ1bnRpbWVXZWJBc3NlbWJseVNlc3Npb25IYW5kbGVyPXZvaWQgMDtjb25zdCBMPXcoNDUzKSxrPXcoMTU3KTtsZXQgSTtoLk9ubnhydW50aW1lV2ViQXNzZW1ibHlTZXNzaW9uSGFuZGxlcj1jbGFzc3thc3luYyBsb2FkTW9kZWwocixTKXtJfHwoYXdhaXQgay5pbml0T3J0KEwuZW52Lndhc20ubnVtVGhyZWFkcywodT0+e3N3aXRjaCh1KXtjYXNlInZlcmJvc2UiOnJldHVybiAwO2Nhc2UiaW5mbyI6cmV0dXJuIDE7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gMjtjYXNlImVycm9yIjpyZXR1cm4gMztjYXNlImZhdGFsIjpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgbG9nZ2luZyBsZXZlbDogJHt1fWApfX0pKEwuZW52LmxvZ0xldmVsKSksST0hMCksW3RoaXMuc2Vzc2lvbklkLHRoaXMuaW5wdXROYW1lcyx0aGlzLm91dHB1dE5hbWVzXT1hd2FpdCBrLmNyZWF0ZVNlc3Npb24ocixTKX1hc3luYyBkaXNwb3NlKCl7cmV0dXJuIGsucmVsZWFzZVNlc3Npb24odGhpcy5zZXNzaW9uSWQpfWFzeW5jIHJ1bihyLFMsdSl7Y29uc3QgRj1bXSxuPVtdO09iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goRD0+e2NvbnN0IGI9RFswXSxsPURbMV0sXz10aGlzLmlucHV0TmFtZXMuaW5kZXhPZihiKTtpZihfPT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGlucHV0ICcke2J9J2ApO0YucHVzaChsKSxuLnB1c2goXyl9KTtjb25zdCB2PVtdO09iamVjdC5lbnRyaWVzKFMpLmZvckVhY2goRD0+e2NvbnN0IGI9RFswXSxsPXRoaXMub3V0cHV0TmFtZXMuaW5kZXhPZihiKTtpZihsPT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG91dHB1dCAnJHtifSdgKTt2LnB1c2gobCl9KTtjb25zdCBUPWF3YWl0IGsucnVuKHRoaXMuc2Vzc2lvbklkLG4sRi5tYXAoRD0+W0QudHlwZSxELmRpbXMsRC5kYXRhXSksdix1KSxSPXt9O2ZvcihsZXQgRD0wO0Q8VC5sZW5ndGg7RCsrKVJbdGhpcy5vdXRwdXROYW1lc1t2W0RdXV09bmV3IEwuVGVuc29yKFRbRF1bMF0sVFtEXVsyXSxUW0RdWzFdKTtyZXR1cm4gUn1zdGFydFByb2ZpbGluZygpe31lbmRQcm9maWxpbmcoKXtrLmVuZFByb2ZpbGluZyh0aGlzLnNlc3Npb25JZCl9fX0sOTE5OihOLGgsdyk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoaCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaC5zZXRTZXNzaW9uT3B0aW9ucz12b2lkIDA7Y29uc3QgTD13KDk2Nyksaz13KDk4MyksST13KDM2MSk7aC5zZXRTZXNzaW9uT3B0aW9ucz1yPT57Y29uc3QgUz1JLmdldEluc3RhbmNlKCk7bGV0IHU9MDtjb25zdCBGPVtdLG49cnx8e307KHY9Pnt2LmV4dHJhfHwodi5leHRyYT17fSksdi5leHRyYS5zZXNzaW9ufHwodi5leHRyYS5zZXNzaW9uPXt9KTtjb25zdCBUPXYuZXh0cmEuc2Vzc2lvbjtULnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHl8fChULnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHk9IjEiKX0pKG4pO3RyeXsocj09bnVsbD92b2lkIDA6ci5ncmFwaE9wdGltaXphdGlvbkxldmVsKT09PXZvaWQgMCYmKG4uZ3JhcGhPcHRpbWl6YXRpb25MZXZlbD0iYWxsIik7Y29uc3Qgdj0oRD0+e3N3aXRjaChEKXtjYXNlImRpc2FibGVkIjpyZXR1cm4gMDtjYXNlImJhc2ljIjpyZXR1cm4gMTtjYXNlImV4dGVuZGVkIjpyZXR1cm4gMjtjYXNlImFsbCI6cmV0dXJuIDk5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBncmFwaCBvcHRpbWl6YXRpb24gbGV2ZWw6ICR7RH1gKX19KShuLmdyYXBoT3B0aW1pemF0aW9uTGV2ZWwpOyhyPT1udWxsP3ZvaWQgMDpyLmVuYWJsZUNwdU1lbUFyZW5hKT09PXZvaWQgMCYmKG4uZW5hYmxlQ3B1TWVtQXJlbmE9ITApLChyPT1udWxsP3ZvaWQgMDpyLmVuYWJsZU1lbVBhdHRlcm4pPT09dm9pZCAwJiYobi5lbmFibGVNZW1QYXR0ZXJuPSEwKSwocj09bnVsbD92b2lkIDA6ci5leGVjdXRpb25Nb2RlKT09PXZvaWQgMCYmKG4uZXhlY3V0aW9uTW9kZT0ic2VxdWVudGlhbCIpO2NvbnN0IFQ9KEQ9Pntzd2l0Y2goRCl7Y2FzZSJzZXF1ZW50aWFsIjpyZXR1cm4gMDtjYXNlInBhcmFsbGVsIjpyZXR1cm4gMTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZXhlY3V0aW9uIG1vZGU6ICR7RH1gKX19KShuLmV4ZWN1dGlvbk1vZGUpO2xldCBSPTA7aWYoKHI9PW51bGw/dm9pZCAwOnIubG9nSWQpIT09dm9pZCAwJiYoUj1rLmFsbG9jV2FzbVN0cmluZyhyLmxvZ0lkLEYpKSwocj09bnVsbD92b2lkIDA6ci5sb2dTZXZlcml0eUxldmVsKT09PXZvaWQgMCluLmxvZ1NldmVyaXR5TGV2ZWw9MjtlbHNlIGlmKHR5cGVvZiByLmxvZ1NldmVyaXR5TGV2ZWwhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihyLmxvZ1NldmVyaXR5TGV2ZWwpfHxyLmxvZ1NldmVyaXR5TGV2ZWw8MHx8ci5sb2dTZXZlcml0eUxldmVsPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgc2VydmVyaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHtyLmxvZ1NldmVyaXR5TGV2ZWx9YCk7aWYoKHI9PW51bGw/dm9pZCAwOnIubG9nVmVyYm9zaXR5TGV2ZWwpPT09dm9pZCAwKW4ubG9nVmVyYm9zaXR5TGV2ZWw9MDtlbHNlIGlmKHR5cGVvZiByLmxvZ1ZlcmJvc2l0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoci5sb2dWZXJib3NpdHlMZXZlbCkpdGhyb3cgbmV3IEVycm9yKGBsb2cgdmVyYm9zaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHtyLmxvZ1ZlcmJvc2l0eUxldmVsfWApO2lmKChyPT1udWxsP3ZvaWQgMDpyLmVuYWJsZVByb2ZpbGluZyk9PT12b2lkIDAmJihuLmVuYWJsZVByb2ZpbGluZz0hMSksdT1TLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucyh2LCEhbi5lbmFibGVDcHVNZW1BcmVuYSwhIW4uZW5hYmxlTWVtUGF0dGVybixULCEhbi5lbmFibGVQcm9maWxpbmcsMCxSLG4ubG9nU2V2ZXJpdHlMZXZlbCxuLmxvZ1ZlcmJvc2l0eUxldmVsKSx1PT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGNyZWF0ZSBzZXNzaW9uIG9wdGlvbnMiKTtyZXR1cm4ocj09bnVsbD92b2lkIDA6ci5leHRyYSkhPT12b2lkIDAmJkwuaXRlcmF0ZUV4dHJhT3B0aW9ucyhyLmV4dHJhLCIiLG5ldyBXZWFrU2V0LChELGIpPT57Y29uc3QgbD1rLmFsbG9jV2FzbVN0cmluZyhELEYpLF89ay5hbGxvY1dhc21TdHJpbmcoYixGKTtpZihTLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkodSxsLF8pIT09MCl0aHJvdyBuZXcgRXJyb3IoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAke0R9IC0gJHtifWApfSksW3UsRl19Y2F0Y2godil7dGhyb3cgdSE9PTAmJlMuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyh1KSxGLmZvckVhY2goUy5fZnJlZSksdn19fSw5ODM6KE4saCx3KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxoLmFsbG9jV2FzbVN0cmluZz12b2lkIDA7Y29uc3QgTD13KDM2MSk7aC5hbGxvY1dhc21TdHJpbmc9KGssSSk9Pntjb25zdCByPUwuZ2V0SW5zdGFuY2UoKSxTPXIubGVuZ3RoQnl0ZXNVVEY4KGspKzEsdT1yLl9tYWxsb2MoUyk7cmV0dXJuIHIuc3RyaW5nVG9VVEY4KGssdSxTKSxJLnB1c2godSksdX19LDM0OTooTixoLHcpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGgsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGguZXh0cmFjdFRyYW5zZmVyYWJsZUJ1ZmZlcnM9aC5lbmRQcm9maWxpbmc9aC5ydW49aC5yZWxlYXNlU2Vzc2lvbj1oLmNyZWF0ZVNlc3Npb249aC5pbml0T3J0PXZvaWQgMDtjb25zdCBMPXcoNTg2KSxrPXcoOTE5KSxJPXcoOTgzKSxyPXcoMzYxKTtoLmluaXRPcnQ9KHYsVCk9Pntjb25zdCBSPXIuZ2V0SW5zdGFuY2UoKS5fT3J0SW5pdCh2LFQpO2lmKFIhPT0wKXRocm93IG5ldyBFcnJvcihgQ2FuJ3QgaW5pdGlhbGl6ZSBvbm54cnVudGltZS4gZXJyb3IgY29kZSA9ICR7Un1gKX07Y29uc3QgUz1uZXcgTWFwO2guY3JlYXRlU2Vzc2lvbj0odixUKT0+e2NvbnN0IFI9ci5nZXRJbnN0YW5jZSgpLEQ9Ui5fbWFsbG9jKHYuYnl0ZUxlbmd0aCk7bGV0IGI9MCxsPTAsXz1bXTt0cnl7aWYoW2wsX109ay5zZXRTZXNzaW9uT3B0aW9ucyhUKSxSLkhFQVBVOC5zZXQodixEKSxiPVIuX09ydENyZWF0ZVNlc3Npb24oRCx2LmJ5dGVMZW5ndGgsbCksYj09PTApdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBjcmVhdGUgYSBzZXNzaW9uIil9ZmluYWxseXtSLl9mcmVlKEQpLFIuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhsKSxfLmZvckVhY2goUi5fZnJlZSl9Y29uc3QgQj1SLl9PcnRHZXRJbnB1dENvdW50KGIpLFk9Ui5fT3J0R2V0T3V0cHV0Q291bnQoYiksej1bXSxVPVtdLHE9W10sRz1bXTtmb3IobGV0IGQ9MDtkPEI7ZCsrKXtjb25zdCBPPVIuX09ydEdldElucHV0TmFtZShiLGQpO2lmKE89PT0wKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgZ2V0IGFuIGlucHV0IG5hbWUiKTtVLnB1c2goTyksei5wdXNoKFIuVVRGOFRvU3RyaW5nKE8pKX1mb3IobGV0IGQ9MDtkPFk7ZCsrKXtjb25zdCBPPVIuX09ydEdldE91dHB1dE5hbWUoYixkKTtpZihPPT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGdldCBhbiBvdXRwdXQgbmFtZSIpO0cucHVzaChPKSxxLnB1c2goUi5VVEY4VG9TdHJpbmcoTykpfXJldHVybiBTLnNldChiLFtiLFUsR10pLFtiLHoscV19LGgucmVsZWFzZVNlc3Npb249dj0+e2NvbnN0IFQ9ci5nZXRJbnN0YW5jZSgpLFI9Uy5nZXQodik7aWYoIVIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtjb25zdCBEPVJbMF0sYj1SWzFdLGw9UlsyXTtiLmZvckVhY2goVC5fT3J0RnJlZSksbC5mb3JFYWNoKFQuX09ydEZyZWUpLFQuX09ydFJlbGVhc2VTZXNzaW9uKEQpLFMuZGVsZXRlKHYpfTtjb25zdCB1PXY9Pntzd2l0Y2godil7Y2FzZSJpbnQ4IjpyZXR1cm4gMztjYXNlInVpbnQ4IjpyZXR1cm4gMjtjYXNlImJvb2wiOnJldHVybiA5O2Nhc2UiaW50MTYiOnJldHVybiA1O2Nhc2UidWludDE2IjpyZXR1cm4gNDtjYXNlImludDMyIjpyZXR1cm4gNjtjYXNlInVpbnQzMiI6cmV0dXJuIDEyO2Nhc2UiZmxvYXQzMiI6cmV0dXJuIDE7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gMTE7Y2FzZSJzdHJpbmciOnJldHVybiA4O2Nhc2UiaW50NjQiOnJldHVybiA3O2Nhc2UidWludDY0IjpyZXR1cm4gMTM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHt2fWApfX0sRj12PT57c3dpdGNoKHYpe2Nhc2UgMzpyZXR1cm4iaW50OCI7Y2FzZSAyOnJldHVybiJ1aW50OCI7Y2FzZSA5OnJldHVybiJib29sIjtjYXNlIDU6cmV0dXJuImludDE2IjtjYXNlIDQ6cmV0dXJuInVpbnQxNiI7Y2FzZSA2OmNhc2UgNzpyZXR1cm4iaW50MzIiO2Nhc2UgMTI6Y2FzZSAxMzpyZXR1cm4idWludDMyIjtjYXNlIDE6cmV0dXJuImZsb2F0MzIiO2Nhc2UgMTE6cmV0dXJuImZsb2F0NjQiO2Nhc2UgODpyZXR1cm4ic3RyaW5nIjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke3Z9YCl9fSxuPXY9Pntzd2l0Y2godil7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UidWludDgiOmNhc2UiYm9vbCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJpbnQ4IjpyZXR1cm4gSW50OEFycmF5O2Nhc2UidWludDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJpbnQxNiI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSJpbnQzMiI6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gRmxvYXQ2NEFycmF5O2Nhc2UidWludDMyIjpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSJpbnQ2NCI6cmV0dXJuIEJpZ0ludDY0QXJyYXk7Y2FzZSJ1aW50NjQiOnJldHVybiBCaWdVaW50NjRBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZTogJHt2fWApfX07aC5ydW49KHYsVCxSLEQsYik9Pntjb25zdCBsPXIuZ2V0SW5zdGFuY2UoKSxfPVMuZ2V0KHYpO2lmKCFfKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzZXNzaW9uIGlkIik7Y29uc3QgQj1fWzBdLFk9X1sxXSx6PV9bMl0sVT1ULmxlbmd0aCxxPUQubGVuZ3RoO2xldCBHPTAsZD1bXTtjb25zdCBPPVtdLG09W107dHJ5e1tHLGRdPUwuc2V0UnVuT3B0aW9ucyhiKTtmb3IobGV0IGRlPTA7ZGU8VTtkZSsrKXtjb25zdCBUZT1SW2RlXVswXSxLPVJbZGVdWzFdLHdlPVJbZGVdWzJdO2xldCBWLE9lO2lmKEFycmF5LmlzQXJyYXkod2UpKXtPZT00KndlLmxlbmd0aCxWPWwuX21hbGxvYyhPZSksbS5wdXNoKFYpO2xldCB1ZT1WLzQ7Zm9yKGxldCBjZT0wO2NlPHdlLmxlbmd0aDtjZSsrKXtpZih0eXBlb2Ygd2VbY2VdIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKGB0ZW5zb3IgZGF0YSBhdCBpbmRleCAke2NlfSBpcyBub3QgYSBzdHJpbmdgKTtsLkhFQVBVMzJbdWUrK109SS5hbGxvY1dhc21TdHJpbmcod2VbY2VdLG0pfX1lbHNlIE9lPXdlLmJ5dGVMZW5ndGgsVj1sLl9tYWxsb2MoT2UpLG0ucHVzaChWKSxsLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkod2UuYnVmZmVyLHdlLmJ5dGVPZmZzZXQsT2UpLFYpO2NvbnN0IG9lPWwuc3RhY2tTYXZlKCksVWU9bC5zdGFja0FsbG9jKDQqSy5sZW5ndGgpO3RyeXtsZXQgdWU9VWUvNDtLLmZvckVhY2goTWU9PmwuSEVBUDMyW3VlKytdPU1lKTtjb25zdCBjZT1sLl9PcnRDcmVhdGVUZW5zb3IodShUZSksVixPZSxVZSxLLmxlbmd0aCk7aWYoY2U9PT0wKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgY3JlYXRlIGEgdGVuc29yIik7Ty5wdXNoKGNlKX1maW5hbGx5e2wuc3RhY2tSZXN0b3JlKG9lKX19Y29uc3QgQz1sLnN0YWNrU2F2ZSgpLFE9bC5zdGFja0FsbG9jKDQqVSkseT1sLnN0YWNrQWxsb2MoNCpVKSx5ZT1sLnN0YWNrQWxsb2MoNCpxKSxKPWwuc3RhY2tBbGxvYyg0KnEpO3RyeXtsZXQgZGU9US80LFRlPXkvNCxLPXllLzQsd2U9Si80O2ZvcihsZXQgb2U9MDtvZTxVO29lKyspbC5IRUFQVTMyW2RlKytdPU9bb2VdLGwuSEVBUFUzMltUZSsrXT1ZW1Rbb2VdXTtmb3IobGV0IG9lPTA7b2U8cTtvZSsrKWwuSEVBUFUzMltLKytdPTAsbC5IRUFQVTMyW3dlKytdPXpbRFtvZV1dO2xldCBWPWwuX09ydFJ1bihCLHksUSxVLEoscSx5ZSxHKTtjb25zdCBPZT1bXTtpZihWPT09MClmb3IobGV0IG9lPTA7b2U8cTtvZSsrKXtjb25zdCBVZT1sLkhFQVBVMzJbeWUvNCtvZV0sdWU9bC5zdGFja1NhdmUoKSxjZT1sLnN0YWNrQWxsb2MoMTYpO2xldCBNZSxyZT0wO3RyeXtpZihWPWwuX09ydEdldFRlbnNvckRhdGEoVWUsY2UsY2UrNCxjZSs4LGNlKzEyKSxWIT09MCl0aHJvdyBuZXcgRXJyb3IoYENhbid0IGdldCBhIHRlbnNvciBkYXRhLiBlcnJvciBjb2RlID0gJHtWfWApO2xldCBTZT1jZS80O2NvbnN0IFdlPWwuSEVBUFUzMltTZSsrXTtyZT1sLkhFQVBVMzJbU2UrK107Y29uc3QgeGU9bC5IRUFQVTMyW1NlKytdLFJlPWwuSEVBUFUzMltTZSsrXSxDZT1bXTtmb3IobGV0IHRlPTA7dGU8UmU7dGUrKylDZS5wdXNoKGwuSEVBUFUzMlt4ZS80K3RlXSk7bC5fT3J0RnJlZSh4ZSk7Y29uc3QgR2U9Q2UubGVuZ3RoPT09MD8xOkNlLnJlZHVjZSgodGUsa2UpPT50ZSprZSk7aWYoTWU9RihXZSksTWU9PT0ic3RyaW5nIil7Y29uc3QgdGU9W107bGV0IGtlPXJlLzQ7Zm9yKGxldCBEZT0wO0RlPEdlO0RlKyspe2NvbnN0IFhlPWwuSEVBUFUzMltrZSsrXSxRZT1EZT09PUdlLTE/dm9pZCAwOmwuSEVBUFUzMltrZV0tWGU7dGUucHVzaChsLlVURjhUb1N0cmluZyhYZSxRZSkpfU9lLnB1c2goW01lLENlLHRlXSl9ZWxzZXtjb25zdCB0ZT1uZXcobihNZSkpKEdlKTtuZXcgVWludDhBcnJheSh0ZS5idWZmZXIsdGUuYnl0ZU9mZnNldCx0ZS5ieXRlTGVuZ3RoKS5zZXQobC5IRUFQVTguc3ViYXJyYXkocmUscmUrdGUuYnl0ZUxlbmd0aCkpLE9lLnB1c2goW01lLENlLHRlXSl9fWZpbmFsbHl7bC5zdGFja1Jlc3RvcmUodWUpLE1lPT09InN0cmluZyImJnJlJiZsLl9mcmVlKHJlKSxsLl9PcnRSZWxlYXNlVGVuc29yKFVlKX19aWYoVj09PTApcmV0dXJuIE9lO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIGVycm9yIGNvZGUgPSAke1Z9LmApfWZpbmFsbHl7bC5zdGFja1Jlc3RvcmUoQyl9fWZpbmFsbHl7Ty5mb3JFYWNoKGwuX09ydFJlbGVhc2VUZW5zb3IpLG0uZm9yRWFjaChsLl9mcmVlKSxsLl9PcnRSZWxlYXNlUnVuT3B0aW9ucyhHKSxkLmZvckVhY2gobC5fZnJlZSl9fSxoLmVuZFByb2ZpbGluZz12PT57Y29uc3QgVD1yLmdldEluc3RhbmNlKCksUj1TLmdldCh2KTtpZighUil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2Vzc2lvbiBpZCIpO2NvbnN0IEQ9UlswXSxiPVQuX09ydEVuZFByb2ZpbGluZyhEKTtpZihiPT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGdldCBhbiBwcm9maWxlIGZpbGUgbmFtZSIpO1QuX09ydEZyZWUoYil9LGguZXh0cmFjdFRyYW5zZmVyYWJsZUJ1ZmZlcnM9dj0+e2NvbnN0IFQ9W107Zm9yKGNvbnN0IFIgb2Ygdil7Y29uc3QgRD1SWzJdOyFBcnJheS5pc0FycmF5KEQpJiZELmJ1ZmZlciYmVC5wdXNoKEQuYnVmZmVyKX1yZXR1cm4gVH19LDM2MTpmdW5jdGlvbihOLGgsdyl7dmFyIEw9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGIsbCxfLEIpe0I9PT12b2lkIDAmJihCPV8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLEIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbX119fSl9OmZ1bmN0aW9uKGIsbCxfLEIpe0I9PT12b2lkIDAmJihCPV8pLGJbQl09bFtfXX0pLGs9dGhpcyYmdGhpcy5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGIsbCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmx9KX06ZnVuY3Rpb24oYixsKXtiLmRlZmF1bHQ9bH0pLEk9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGIpe2lmKGImJmIuX19lc01vZHVsZSlyZXR1cm4gYjt2YXIgbD17fTtpZihiIT1udWxsKWZvcih2YXIgXyBpbiBiKV8hPT0iZGVmYXVsdCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLF8pJiZMKGwsYixfKTtyZXR1cm4gayhsLGIpLGx9LHI9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLl9fZXNNb2R1bGU/Yjp7ZGVmYXVsdDpifX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGgsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGguZGlzcG9zZT1oLmdldEluc3RhbmNlPWguaW5pdGlhbGl6ZVdlYkFzc2VtYmx5PXZvaWQgMDtjb25zdCBTPUkodyg0NDkpKSx1PXIodyg5MzIpKSxGPXcoNDc0KTtsZXQgbix2PSExLFQ9ITEsUj0hMTtjb25zdCBEPShiLGwpPT5sP2I/Im9ydC13YXNtLXNpbWQtdGhyZWFkZWQud2FzbSI6Im9ydC13YXNtLXRocmVhZGVkLndhc20iOmI/Im9ydC13YXNtLXNpbWQud2FzbSI6Im9ydC13YXNtLndhc20iO2guaW5pdGlhbGl6ZVdlYkFzc2VtYmx5PWFzeW5jIGI9PntpZih2KXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihUKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgY2FsbHMgdG8gJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpJyBkZXRlY3RlZC4iKTtpZihSKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgY2FsbCB0byAnaW5pdGlhbGl6ZVdlYkFzc2VtYmx5KCknIGZhaWxlZC4iKTtUPSEwO2NvbnN0IGw9Yi5pbml0VGltZW91dCxfPWIubnVtVGhyZWFkcyxCPWIuc2ltZCxZPV8+MSYmKCgpPT57dHJ5e3JldHVybiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIhPSJ1bmRlZmluZWQiJiYodHlwZW9mIE1lc3NhZ2VDaGFubmVsIT0idW5kZWZpbmVkIiYmbmV3IE1lc3NhZ2VDaGFubmVsKCkucG9ydDEucG9zdE1lc3NhZ2UobmV3IFNoYXJlZEFycmF5QnVmZmVyKDEpKSxXZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsNSw0LDEsMywxLDEsMTAsMTEsMSw5LDAsNjUsMCwyNTQsMTYsMiwwLDI2LDExXSkpKX1jYXRjaHtyZXR1cm4hMX19KSgpLHo9QiYmKCgpPT57dHJ5e3JldHVybiBXZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsMTAsMzAsMSwyOCwwLDY1LDAsMjUzLDE1LDI1MywxMiwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDI1MywxODYsMSwyNiwxMV0pKX1jYXRjaHtyZXR1cm4hMX19KSgpLFU9dHlwZW9mIGIud2FzbVBhdGhzPT0ic3RyaW5nIj9iLndhc21QYXRoczp2b2lkIDAscT1EKCExLFkpLEc9RCh6LFkpLGQ9dHlwZW9mIGIud2FzbVBhdGhzPT0ib2JqZWN0Ij9iLndhc21QYXRoc1tHXTp2b2lkIDA7bGV0IE89ITE7Y29uc3QgbT1bXTtpZihsPjAmJm0ucHVzaChuZXcgUHJvbWlzZShDPT57c2V0VGltZW91dCgoKT0+e089ITAsQygpfSxsKX0pKSxtLnB1c2gobmV3IFByb21pc2UoKEMsUSk9Pntjb25zdCB5PVk/Rjp1LmRlZmF1bHQseWU9e2xvY2F0ZUZpbGU6KEosZGUpPT57aWYoWSYmSi5lbmRzV2l0aCgiLndvcmtlci5qcyIpJiZ0eXBlb2YgQmxvYiE9InVuZGVmaW5lZCIpcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3coMTE4KV0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSk7aWYoSj09PXEpe2NvbnN0IFRlPVUhPW51bGw/VTpkZTtyZXR1cm4gZCE9bnVsbD9kOlRlK0d9cmV0dXJuIGRlK0p9fTtpZihZKWlmKHR5cGVvZiBCbG9iPT0idW5kZWZpbmVkIil5ZS5tYWluU2NyaXB0VXJsT3JCbG9iPVMuam9pbigiLyIsIm9ydC13YXNtLXRocmVhZGVkLmpzIik7ZWxzZXtjb25zdCBKPWB2YXIgb3J0V2FzbVRocmVhZGVkPShmdW5jdGlvbigpe3ZhciBfc2NyaXB0RGlyO3JldHVybiAke3kudG9TdHJpbmcoKX19KSgpO2A7eWUubWFpblNjcmlwdFVybE9yQmxvYj1uZXcgQmxvYihbSl0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KX15KHllKS50aGVuKEo9PntUPSExLHY9ITAsbj1KLEMoKX0sSj0+e1Q9ITEsUj0hMCxRKEopfSl9KSksYXdhaXQgUHJvbWlzZS5yYWNlKG0pLE8pdGhyb3cgbmV3IEVycm9yKGBXZWJBc3NlbWJseSBiYWNrZW5kIGluaXRpYWxpemluZyBmYWlsZWQgZHVlIHRvIHRpbWVvdXQ6ICR7bH1tc2ApfSxoLmdldEluc3RhbmNlPSgpPT57aWYodiYmbilyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoIldlYkFzc2VtYmx5IGlzIG5vdCBpbml0aWFsaXplZCB5ZXQuIil9LGguZGlzcG9zZT0oKT0+e3ZhciBiOyF2fHxUfHxSfHwoVD0hMCwoYj1uLlBUaHJlYWQpPT09bnVsbHx8Yj09PXZvaWQgMHx8Yi50ZXJtaW5hdGVBbGxUaHJlYWRzKCksbj12b2lkIDAsVD0hMSx2PSExLFI9ITApfX0sNzEwOihOLGgsdyk9Pnt3LmQoaCx7WjooKT0+SX0pO3ZhciBMPXcoNDc3KSxrPXcubihMKTtmdW5jdGlvbiBJKCl7cmV0dXJuIGsoKSgnLyohXG4qIE9OTlggUnVudGltZSBXZWIgdjEuMTEuMFxuKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuKi9cbigoKT0+e3ZhciBlPXs0NzQ6KGUsdCxuKT0+e3ZhciBfc2NyaXB0RGlyLHI9KF9zY3JpcHREaXI9KF9zY3JpcHREaXI9InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDApfHwiL2luZGV4LmpzIixmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIEMuYnVmZmVyIT1VJiYkKEMuYnVmZmVyKSxXfWZ1bmN0aW9uIHIoKXtyZXR1cm4gQy5idWZmZXIhPVUmJiQoQy5idWZmZXIpLEx9ZnVuY3Rpb24gYSgpe3JldHVybiBDLmJ1ZmZlciE9VSYmJChDLmJ1ZmZlciksSH1mdW5jdGlvbiBvKCl7cmV0dXJuIEMuYnVmZmVyIT1VJiYkKEMuYnVmZmVyKSxZfXZhciBpO2U9ZXx8e30saXx8KGk9dm9pZCAwIT09ZT9lOnt9KTt2YXIgcyx1LGM9T2JqZWN0LmFzc2lnbjtpLnJlYWR5PW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3M9ZSx1PXR9KSk7dmFyIGwsZixwLGQsbSxnLGg9Yyh7fSxpKSx5PSIuL3RoaXMucHJvZ3JhbSIsYj0oZSx0KT0+e3Rocm93IHR9LHY9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3csXz0iZnVuY3Rpb24iPT10eXBlb2YgaW1wb3J0U2NyaXB0cyx3PSJvYmplY3QiPT10eXBlb2YgcHJvY2VzcyYmIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiYic3RyaW5nIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSxPPWkuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRHx8ITEsQT0iIjtmdW5jdGlvbiBTKGUpe3JldHVybiBpLmxvY2F0ZUZpbGU/aS5sb2NhdGVGaWxlKGUsQSk6QStlfWlmKHcpe2xldCB0O0E9Xz9uKDkwOCkuZGlybmFtZShBKSsiLyI6Ii8vIixnPSgpPT57bXx8KGQ9bigzODQpLG09big5MDgpKX0sbD1mdW5jdGlvbihlLHQpe3JldHVybiBnKCksZT1tLm5vcm1hbGl6ZShlKSxkLnJlYWRGaWxlU3luYyhlLHQ/bnVsbDoidXRmOCIpfSxwPWU9PigoZT1sKGUsITApKS5idWZmZXJ8fChlPW5ldyBVaW50OEFycmF5KGUpKSxlKSxmPShlLHQsbik9PntnKCksZT1tLm5vcm1hbGl6ZShlKSxkLnJlYWRGaWxlKGUsKGZ1bmN0aW9uKGUscil7ZT9uKGUpOnQoci5idWZmZXIpfSkpfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJih5PXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXFxcL2csIi8iKSkscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLHByb2Nlc3Mub24oInVuY2F1Z2h0RXhjZXB0aW9uIiwoZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgeHQpKXRocm93IGV9KSkscHJvY2Vzcy5vbigidW5oYW5kbGVkUmVqZWN0aW9uIiwoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKSxiPShlLHQpPT57aWYodGUoKSl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPWUsdDt0IGluc3RhbmNlb2YgeHR8fHgoImV4aXRpbmcgZHVlIHRvIGV4Y2VwdGlvbjogIit0KSxwcm9jZXNzLmV4aXQoZSl9LGkuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9O3RyeXt0PW4oOTI1KX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwnVGhlICJ3b3JrZXJfdGhyZWFkcyIgbW9kdWxlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBub2RlLmpzIGJ1aWxkIC0gcGVyaGFwcyBhIG5ld2VyIHZlcnNpb24gaXMgbmVlZGVkP1wnKSxlfW4uZy5Xb3JrZXI9dC5Xb3JrZXJ9ZWxzZSh2fHxfKSYmKF8/QT1zZWxmLmxvY2F0aW9uLmhyZWY6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEE9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLF9zY3JpcHREaXImJihBPV9zY3JpcHREaXIpLEE9MCE9PUEuaW5kZXhPZigiYmxvYjoiKT9BLnN1YnN0cigwLEEucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKToiIix3fHwobD1lPT57dmFyIHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiB0Lm9wZW4oIkdFVCIsZSwhMSksdC5zZW5kKG51bGwpLHQucmVzcG9uc2VUZXh0fSxfJiYocD1lPT57dmFyIHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiB0Lm9wZW4oIkdFVCIsZSwhMSksdC5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIix0LnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkodC5yZXNwb25zZSl9KSxmPShlLHQsbik9Pnt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7ci5vcGVuKCJHRVQiLGUsITApLHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsci5vbmxvYWQ9KCk9PnsyMDA9PXIuc3RhdHVzfHwwPT1yLnN0YXR1cyYmci5yZXNwb25zZT90KHIucmVzcG9uc2UpOm4oKX0sci5vbmVycm9yPW4sci5zZW5kKG51bGwpfSkpO3cmJiJ1bmRlZmluZWQiPT10eXBlb2YgcGVyZm9ybWFuY2UmJihuLmcucGVyZm9ybWFuY2U9big5NTMpLnBlcmZvcm1hbmNlKTt2YXIgRT1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLFQ9Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7dyYmKGcoKSxFPWU9PmQud3JpdGVTeW5jKDEsZSsiXFxuIiksVD1lPT5kLndyaXRlU3luYygyLGUrIlxcbiIpKTt2YXIgTSxELFI9aS5wcmludHx8RSx4PWkucHJpbnRFcnJ8fFQ7YyhpLGgpLGg9bnVsbCxpLnRoaXNQcm9ncmFtJiYoeT1pLnRoaXNQcm9ncmFtKSxpLnF1aXQmJihiPWkucXVpdCksaS53YXNtQmluYXJ5JiYoRD1pLndhc21CaW5hcnkpO3ZhciBrPWkubm9FeGl0UnVudGltZXx8ITE7Im9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmc2UoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgQyxGLFA9ITE7ZnVuY3Rpb24gSShlKXt2YXIgdD1uZXcgVGV4dERlY29kZXIoZSk7dGhpcy5kZWNvZGU9ZT0+KGUuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXImJihlPW5ldyBVaW50OEFycmF5KGUpKSx0LmRlY29kZS5jYWxsKHQsZSkpfXZhciBVLFcsTCxILFksaj0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBJKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIEIoZSx0LG4pe3ZhciByPXQrbjtmb3Iobj10O2Vbbl0mJiEobj49cik7KSsrbjtpZigxNjxuLXQmJmUuc3ViYXJyYXkmJmopcmV0dXJuIGouZGVjb2RlKGUuc3ViYXJyYXkodCxuKSk7Zm9yKHI9IiI7dDxuOyl7dmFyIGE9ZVt0KytdO2lmKDEyOCZhKXt2YXIgbz02MyZlW3QrK107aWYoMTkyPT0oMjI0JmEpKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJmEpPDw2fG8pO2Vsc2V7dmFyIGk9NjMmZVt0KytdOzY1NTM2PihhPTIyND09KDI0MCZhKT8oMTUmYSk8PDEyfG88PDZ8aTooNyZhKTw8MTh8bzw8MTJ8aTw8Nnw2MyZlW3QrK10pP3IrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSk6KGEtPTY1NTM2LHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8YT4+MTAsNTYzMjB8MTAyMyZhKSl9fWVsc2Ugcis9U3RyaW5nLmZyb21DaGFyQ29kZShhKX1yZXR1cm4gcn1mdW5jdGlvbiBOKGUsdCl7cmV0dXJuIGU/QihyKCksZSx0KToiIn1mdW5jdGlvbiBHKGUsdCxuLHIpe2lmKCEoMDxyKSlyZXR1cm4gMDt2YXIgYT1uO3I9bityLTE7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBpPWUuY2hhckNvZGVBdChvKTtpZig1NTI5Njw9aSYmNTczNDM+PWkmJihpPTY1NTM2KygoMTAyMyZpKTw8MTApfDEwMjMmZS5jaGFyQ29kZUF0KCsrbykpLDEyNz49aSl7aWYobj49cilicmVhazt0W24rK109aX1lbHNle2lmKDIwNDc+PWkpe2lmKG4rMT49cilicmVhazt0W24rK109MTkyfGk+PjZ9ZWxzZXtpZig2NTUzNT49aSl7aWYobisyPj1yKWJyZWFrO3RbbisrXT0yMjR8aT4+MTJ9ZWxzZXtpZihuKzM+PXIpYnJlYWs7dFtuKytdPTI0MHxpPj4xOCx0W24rK109MTI4fGk+PjEyJjYzfXRbbisrXT0xMjh8aT4+NiY2M310W24rK109MTI4fDYzJml9fXJldHVybiB0W25dPTAsbi1hfWZ1bmN0aW9uIHooZSx0LG4pe3JldHVybiBHKGUscigpLHQsbil9ZnVuY3Rpb24gVihlKXtmb3IodmFyIHQ9MCxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWUuY2hhckNvZGVBdChuKTs1NTI5Njw9ciYmNTczNDM+PXImJihyPTY1NTM2KygoMTAyMyZyKTw8MTApfDEwMjMmZS5jaGFyQ29kZUF0KCsrbikpLDEyNz49cj8rK3Q6dD0yMDQ3Pj1yP3QrMjo2NTUzNT49cj90KzM6dCs0fXJldHVybiB0fWZ1bmN0aW9uIHEoZSl7dmFyIG49VihlKSsxLHI9ZHQobik7cmV0dXJuIHImJkcoZSx0KCkscixuKSxyfWZ1bmN0aW9uICQoZSl7VT1lLGkuSEVBUDg9Vz1uZXcgSW50OEFycmF5KGUpLGkuSEVBUDE2PW5ldyBJbnQxNkFycmF5KGUpLGkuSEVBUDMyPUg9bmV3IEludDMyQXJyYXkoZSksaS5IRUFQVTg9TD1uZXcgVWludDhBcnJheShlKSxpLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGUpLGkuSEVBUFUzMj1uZXcgVWludDMyQXJyYXkoZSksaS5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoZSksaS5IRUFQRjY0PVk9bmV3IEZsb2F0NjRBcnJheShlKX0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgSSgidXRmLTE2bGUiKSxPJiYoVT1pLmJ1ZmZlcik7dmFyIFg9aS5JTklUSUFMX01FTU9SWXx8MTY3NzcyMTY7aWYoTylDPWkud2FzbU1lbW9yeSxVPWkuYnVmZmVyO2Vsc2UgaWYoaS53YXNtTWVtb3J5KUM9aS53YXNtTWVtb3J5O2Vsc2UgaWYoISgoQz1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOlgvNjU1MzYsbWF4aW11bTozMjc2OCxzaGFyZWQ6ITB9KSkuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IHgoInJlcXVlc3RlZCBhIHNoYXJlZCBXZWJBc3NlbWJseS5NZW1vcnkgYnV0IHRoZSByZXR1cm5lZCBidWZmZXIgaXMgbm90IGEgU2hhcmVkQXJyYXlCdWZmZXIsIGluZGljYXRpbmcgdGhhdCB3aGlsZSB0aGUgYnJvd3NlciBoYXMgU2hhcmVkQXJyYXlCdWZmZXIgaXQgZG9lcyBub3QgaGF2ZSBXZWJBc3NlbWJseSB0aHJlYWRzIHN1cHBvcnQgLSB5b3UgbWF5IG5lZWQgdG8gc2V0IGEgZmxhZyIpLHcmJmNvbnNvbGUubG9nKCIob24gbm9kZSB5b3UgbWF5IG5lZWQ6IC0tZXhwZXJpbWVudGFsLXdhc20tdGhyZWFkcyAtLWV4cGVyaW1lbnRhbC13YXNtLWJ1bGstbWVtb3J5IGFuZCBhbHNvIHVzZSBhIHJlY2VudCB2ZXJzaW9uKSIpLEVycm9yKCJiYWQgbWVtb3J5Iik7QyYmKFU9Qy5idWZmZXIpLFg9VS5ieXRlTGVuZ3RoLCQoVSk7dmFyIFEsSj1bXSxaPVtdLEs9W10sZWU9W107ZnVuY3Rpb24gdGUoKXtyZXR1cm4ga3x8ITF9ZnVuY3Rpb24gbmUoKXt2YXIgZT1pLnByZVJ1bi5zaGlmdCgpO0oudW5zaGlmdChlKX12YXIgcmUsYWU9MCxvZT1udWxsLGllPW51bGw7ZnVuY3Rpb24gc2UoZSl7dGhyb3cgTz9wb3N0TWVzc2FnZSh7Y21kOiJvbkFib3J0Iixhcmc6ZX0pOmkub25BYm9ydCYmaS5vbkFib3J0KGUpLHgoZT0iQWJvcnRlZCgiK2UrIikiKSxQPSEwLGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihlKyIuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uIiksdShlKSxlfWZ1bmN0aW9uIHVlKCl7cmV0dXJuIHJlLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKX1mdW5jdGlvbiBjZSgpe3ZhciBlPXJlO3RyeXtpZihlPT1yZSYmRClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoRCk7aWYocClyZXR1cm4gcChlKTt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9Y2F0Y2goZSl7c2UoZSl9fWkucHJlbG9hZGVkSW1hZ2VzPXt9LGkucHJlbG9hZGVkQXVkaW9zPXt9LHJlPSJvcnQtd2FzbS10aHJlYWRlZC53YXNtIix1ZSgpfHwocmU9UyhyZSkpO3ZhciBsZT17fTtmdW5jdGlvbiBmZShlKXtmb3IoOzA8ZS5sZW5ndGg7KXt2YXIgdD1lLnNoaWZ0KCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpdChpKTtlbHNle3ZhciBuPXQuVGI7Im51bWJlciI9PXR5cGVvZiBuP3ZvaWQgMD09PXQuU2E/YmUobikoKTpiZShuKSh0LlNhKTpuKHZvaWQgMD09PXQuU2E/bnVsbDp0LlNhKX19fWZ1bmN0aW9uIHBlKGUpe3ZhciB0PUV0KCk7cmV0dXJuIGU9ZSgpLFR0KHQpLGV9ZnVuY3Rpb24gZGUoZSl7dmFyIHQ9bWUuT2FbZV07dCYmKGEoKVtlPj4yXT0wLG1lLmpiKHQud29ya2VyKSl9dmFyIG1lPXtQYTpbXSxWYTpbXSxmYjpbXSxXYjpmdW5jdGlvbigpe30sdWI6ZnVuY3Rpb24oKXttZS5yZWNlaXZlT2JqZWN0VHJhbnNmZXI9bWUuemIsbWUudGhyZWFkSW5pdD1tZS5sYixtZS5zZXRFeGl0U3RhdHVzPW1lLkJifSxPYTp7fSxCYjpmdW5jdGlvbigpe30sa2I6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbWUuT2Epe3ZhciB0PW1lLk9hW2VdO3QmJnQud29ya2VyJiZtZS5qYih0Lndvcmtlcil9Zm9yKGU9MDtlPG1lLlBhLmxlbmd0aDsrK2UpbWUuUGFbZV0udGVybWluYXRlKCk7bWUuUGE9W119LGpiOmZ1bmN0aW9uKGUpe21lLkFiKChmdW5jdGlvbigpe2RlbGV0ZSBtZS5PYVtlLlFhLmViXSxtZS5QYS5wdXNoKGUpLG1lLlZhLnNwbGljZShtZS5WYS5pbmRleE9mKGUpLDEpLHd0KGUuUWEuZWIpLGUuUWE9dm9pZCAwfSkpfSxBYjpmdW5jdGlvbihlKXthKClbUnQ+PjJdPTA7dHJ5e2UoKX1maW5hbGx5e2EoKVtSdD4+Ml09MX19LHpiOmZ1bmN0aW9uKCl7fSxsYjpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBtZS5mYiltZS5mYltlXSgpfSx3YjpmdW5jdGlvbihlLHQpe2Uub25tZXNzYWdlPW49Pnt2YXIgcj0obj1uLmRhdGEpLmNtZDtpZihlLlFhJiYobWUucGI9ZS5RYS5lYiksbi50YXJnZXRUaHJlYWQmJm4udGFyZ2V0VGhyZWFkIT1wdCgpKXt2YXIgbz1tZS5PYVtuLmJjXTtvP28ud29ya2VyLnBvc3RNZXNzYWdlKG4sbi50cmFuc2Zlckxpc3QpOngoXCdJbnRlcm5hbCBlcnJvciEgV29ya2VyIHNlbnQgYSBtZXNzYWdlICJcJytyK1wnIiB0byB0YXJnZXQgcHRocmVhZCBcJytuLnRhcmdldFRocmVhZCsiLCBidXQgdGhhdCB0aHJlYWQgbm8gbG9uZ2VyIGV4aXN0cyEiKX1lbHNlInByb2Nlc3NRdWV1ZWRNYWluVGhyZWFkV29yayI9PT1yP2h0KCk6InNwYXduVGhyZWFkIj09PXI/X2Uobik6ImNsZWFudXBUaHJlYWQiPT09cj9kZShuLnRocmVhZCk6ImtpbGxUaHJlYWQiPT09cj8obj1uLnRocmVhZCxhKClbbj4+Ml09MCxyPW1lLk9hW25dLGRlbGV0ZSBtZS5PYVtuXSxyLndvcmtlci50ZXJtaW5hdGUoKSx3dChuKSxtZS5WYS5zcGxpY2UobWUuVmEuaW5kZXhPZihyLndvcmtlciksMSksci53b3JrZXIuUWE9dm9pZCAwKToiY2FuY2VsVGhyZWFkIj09PXI/bWUuT2Fbbi50aHJlYWRdLndvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiJjYW5jZWwifSk6ImxvYWRlZCI9PT1yPyhlLmxvYWRlZD0hMCx0JiZ0KGUpLGUuVWEmJihlLlVhKCksZGVsZXRlIGUuVWEpKToicHJpbnQiPT09cj9SKCJUaHJlYWQgIituLnRocmVhZElkKyI6ICIrbi50ZXh0KToicHJpbnRFcnIiPT09cj94KCJUaHJlYWQgIituLnRocmVhZElkKyI6ICIrbi50ZXh0KToiYWxlcnQiPT09cj9hbGVydCgiVGhyZWFkICIrbi50aHJlYWRJZCsiOiAiK24udGV4dCk6InNldGltbWVkaWF0ZSI9PT1uLnRhcmdldD9lLnBvc3RNZXNzYWdlKG4pOiJvbkFib3J0Ij09PXI/aS5vbkFib3J0JiZpLm9uQWJvcnQobi5hcmcpOngoIndvcmtlciBzZW50IGFuIHVua25vd24gY29tbWFuZCAiK3IpO21lLnBiPXZvaWQgMH0sZS5vbmVycm9yPWU9Pnt0aHJvdyB4KCJ3b3JrZXIgc2VudCBhbiBlcnJvciEgIitlLmZpbGVuYW1lKyI6IitlLmxpbmVubysiOiAiK2UubWVzc2FnZSksZX0sdyYmKGUub24oIm1lc3NhZ2UiLChmdW5jdGlvbih0KXtlLm9ubWVzc2FnZSh7ZGF0YTp0fSl9KSksZS5vbigiZXJyb3IiLChmdW5jdGlvbih0KXtlLm9uZXJyb3IodCl9KSksZS5vbigiZGV0YWNoZWRFeGl0IiwoZnVuY3Rpb24oKXt9KSkpLGUucG9zdE1lc3NhZ2Uoe2NtZDoibG9hZCIsdXJsT3JCbG9iOmkubWFpblNjcmlwdFVybE9yQmxvYnx8X3NjcmlwdERpcix3YXNtTWVtb3J5OkMsd2FzbU1vZHVsZTpGfSl9LG1iOmZ1bmN0aW9uKCl7dmFyIGU9Uygib3J0LXdhc20tdGhyZWFkZWQud29ya2VyLmpzIik7bWUuUGEucHVzaChuZXcgV29ya2VyKGUpKX0scmI6ZnVuY3Rpb24oKXtyZXR1cm4gMD09bWUuUGEubGVuZ3RoJiYobWUubWIoKSxtZS53YihtZS5QYVswXSkpLG1lLlBhLnBvcCgpfX07ZnVuY3Rpb24gZ2UoZSl7aWYoTylyZXR1cm4gamUoMSwwLGUpO3RyeXtDdChlKX1jYXRjaChlKXtlIGluc3RhbmNlb2YgeHR8fCJ1bndpbmQiPT1lfHxiKDEsZSl9fWkuZXN0YWJsaXNoU3RhY2tTcGFjZT1mdW5jdGlvbigpe3ZhciBlPXB0KCksdD1hKClbZSs0ND4+Ml07ZT1hKClbZSs0OD4+Ml0sU3QodCx0LWUpLFR0KHQpfTt2YXIgaGUseWU9W107ZnVuY3Rpb24gYmUoZSl7dmFyIHQ9eWVbZV07cmV0dXJuIHR8fChlPj15ZS5sZW5ndGgmJih5ZS5sZW5ndGg9ZSsxKSx5ZVtlXT10PVEuZ2V0KGUpKSx0fWZ1bmN0aW9uIHZlKGUpe3RoaXMuVGE9ZS0xNix0aGlzLkdiPWZ1bmN0aW9uKGUpe2EoKVt0aGlzLlRhKzQ+PjJdPWV9LHRoaXMuRGI9ZnVuY3Rpb24oZSl7YSgpW3RoaXMuVGErOD4+Ml09ZX0sdGhpcy5FYj1mdW5jdGlvbigpe2EoKVt0aGlzLlRhPj4yXT0wfSx0aGlzLkNiPWZ1bmN0aW9uKCl7dCgpW3RoaXMuVGErMTI+PjBdPTB9LHRoaXMuRmI9ZnVuY3Rpb24oKXt0KClbdGhpcy5UYSsxMz4+MF09MH0sdGhpcy5zYj1mdW5jdGlvbihlLHQpe3RoaXMuR2IoZSksdGhpcy5EYih0KSx0aGlzLkViKCksdGhpcy5DYigpLHRoaXMuRmIoKX19ZnVuY3Rpb24gX2UoZSl7dmFyIHQ9bWUucmIoKTtpZighdClyZXR1cm4gNjttZS5WYS5wdXNoKHQpO3ZhciBuPW1lLk9hW2UuY2JdPXt3b3JrZXI6dCxlYjplLmNifTt0LlFhPW47dmFyIHI9e2NtZDoicnVuIixzdGFydF9yb3V0aW5lOmUuSGIsYXJnOmUuU2EsdGhyZWFkSW5mb1N0cnVjdDplLmNifTtyZXR1cm4gdC5VYT0oKT0+e3IudGltZT1wZXJmb3JtYW5jZS5ub3coKSx0LnBvc3RNZXNzYWdlKHIsZS5NYil9LHQubG9hZGVkJiYodC5VYSgpLGRlbGV0ZSB0LlVhKSwwfWkuaW52b2tlRW50cnlQb2ludD1mdW5jdGlvbihlLHQpe3JldHVybiBiZShlKSh0KX0saGU9dz8oKT0+e3ZhciBlPXByb2Nlc3MuaHJ0aW1lKCk7cmV0dXJuIDFlMyplWzBdK2VbMV0vMWU2fTpPPygpPT5wZXJmb3JtYW5jZS5ub3coKS1pLl9fcGVyZm9ybWFuY2Vfbm93X2Nsb2NrX2RyaWZ0OigpPT5wZXJmb3JtYW5jZS5ub3coKTt2YXIgd2U9e30sT2U9W251bGwsW10sW11dO2Z1bmN0aW9uIEFlKGUsdCl7dmFyIG49T2VbZV07MD09PXR8fDEwPT09dD8oKDE9PT1lP1I6eCkoQihuLDApKSxuLmxlbmd0aD0wKTpuLnB1c2godCl9dmFyIFNlPXt9O2Z1bmN0aW9uIEVlKGUsdCxuKXtyZXR1cm4gTz9qZSgyLDEsZSx0LG4pOjB9ZnVuY3Rpb24gVGUoZSx0KXtpZihPKXJldHVybiBqZSgzLDEsZSx0KX1mdW5jdGlvbiBNZShlLHQsbixyKXtpZihPKXJldHVybiBqZSg0LDEsZSx0LG4scil9ZnVuY3Rpb24gRGUoZSx0KXtpZihPKXJldHVybiBqZSg1LDEsZSx0KX1mdW5jdGlvbiBSZShlLHQsbil7aWYoTylyZXR1cm4gamUoNiwxLGUsdCxuKX1mdW5jdGlvbiB4ZShlLHQsbil7cmV0dXJuIE8/amUoNywxLGUsdCxuKTowfWZ1bmN0aW9uIGtlKGUsdCl7aWYoTylyZXR1cm4gamUoOCwxLGUsdCl9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gTz9qZSg5LDEsZSx0KTooZT1OKGUpLFNlLlFiKGUsdCkpfWZ1bmN0aW9uIEZlKGUsdCxuLGEsbyxpKXtpZihPKXQ9amUoMTAsMSxlLHQsbixhLG8saSk7ZWxzZSBpZihpPDw9MTIsMCE9KDE2JmEpJiYwIT1lJTY1NTM2KXQ9LTI4O2Vsc2UgaWYoMCE9KDMyJmEpKXt2YXIgcz02NTUzNipNYXRoLmNlaWwodC82NTUzNik7KGU9QXQoNjU1MzYscykpP3IoKS5maWxsKDAsZSxlK3MpOmU9MCxlPyh3ZVtlXT17eWI6ZSx2Yjp0LG5iOiEwLGZkOm8sWmI6bixmbGFnczphLG9mZnNldDppfSx0PWUpOnQ9LTQ4fWVsc2UgdD0tNTI7cmV0dXJuIHR9ZnVuY3Rpb24gUGUoZSx0KXtpZihPKWU9amUoMTEsMSxlLHQpO2Vsc2V7dmFyIG49d2VbZV07MCE9PXQmJm4/KHQ9PT1uLnZiJiYod2VbZV09bnVsbCxuLm5iJiZtdChuLnliKSksZT0wKTplPS0yOH1yZXR1cm4gZX1mdW5jdGlvbiBJZShlLHQsbil7aWYoTylyZXR1cm4gamUoMTIsMSxlLHQsbil9ZnVuY3Rpb24gVWUoZSx0LG4pe3JldHVybiBPP2plKDEzLDEsZSx0LG4pOihlPU4oZSksU2UuUmIoZSx0LG4pKX1mdW5jdGlvbiBXZShlKXtpZihPKXJldHVybiBqZSgxNCwxLGUpfWZ1bmN0aW9uIExlKGUsdCl7aWYoTylyZXR1cm4gamUoMTUsMSxlLHQpfWZ1bmN0aW9uIEhlKGUpe2lmKE8pcmV0dXJuIGplKDE2LDEsZSl9ZnVuY3Rpb24gWWUoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuKGU9ZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXFwoKFtBLVphLXogXSspXFwpJC8pKT9lWzFdOiJHTVQifWlmKE8pcmV0dXJuIGplKDE3LDEsZSx0LG4pO3ZhciBvPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxpPW5ldyBEYXRlKG8sMCwxKSxzPW5ldyBEYXRlKG8sNiwxKTtvPWkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgdT1zLmdldFRpbWV6b25lT2Zmc2V0KCksYz1NYXRoLm1heChvLHUpO2EoKVtlPj4yXT02MCpjLGEoKVt0Pj4yXT1OdW1iZXIobyE9dSksZT1yKGkpLHQ9cihzKSxlPXEoZSksdD1xKHQpLHU8bz8oYSgpW24+PjJdPWUsYSgpW24rND4+Ml09dCk6KGEoKVtuPj4yXT10LGEoKVtuKzQ+PjJdPWUpfWZ1bmN0aW9uIGplKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aC0yLHI9YXJndW1lbnRzO3JldHVybiBwZSgoZnVuY3Rpb24oKXtmb3IodmFyIGE9TXQoOCpuKSxpPWE+PjMscz0wO3M8bjtzKyspe3ZhciB1PXJbMitzXTtvKClbaStzXT11fXJldHVybiB2dChlLG4sYSx0KX0pKX12YXIgQmU9W10sTmU9WzAsInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDowLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzowXTtmdW5jdGlvbiBHZShlKXtyZXR1cm4gZT0yPGU/TihlKTplLE5lW2VdfHwoInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOnZvaWQgMCl9ZnVuY3Rpb24gemUoZSx0LG4pe3ZhciByPUdlKGUpO3JldHVybiByPyhyLlphJiYoYSgpW3IuWmE+PjJdPXQsYSgpW3IuWmErND4+Ml09biksIXIuaWImJnIuT2I/ci5aYT8oZnVuY3Rpb24oZSx0LG4scil7cGUoKGZ1bmN0aW9uKCl7dmFyIG89TXQoMTIpLGk9MDtpZih0KXtpPVYodCkrMTt2YXIgcz1kdChpKTt6KHQscyxpKSxpPXN9YSgpW28+PjJdPWksYSgpW28rND4+Ml09bixhKClbbys4Pj4yXT1yLF90KGUsNjU3NDU3MTUyLDAsaSxvKX0pKX0ocj1hKClbci5aYSs4Pj4yXSxlPWU/TihlKToiIix0LG4pLDEpOi00OihyLmliJiYocj1yLmliKSxlPSExLHIuWWEmJnIuWWEuWGEmJihlPTA9PT0oZT1yLllhLlhhLmdldFBhcmFtZXRlcigyOTc4KSlbMF0mJjA9PT1lWzFdJiZlWzJdPT09ci53aWR0aCYmZVszXT09PXIuaGVpZ2h0KSxyLndpZHRoPXQsci5oZWlnaHQ9bixlJiZyLllhLlhhLnZpZXdwb3J0KDAsMCx0LG4pLDApKTotNH1mdW5jdGlvbiBWZShlLHQsbil7cmV0dXJuIE8/amUoMTgsMSxlLHQsbik6emUoZSx0LG4pfXZhciBxZSwkZT1bImRlZmF1bHQiLCJsb3ctcG93ZXIiLCJoaWdoLXBlcmZvcm1hbmNlIl0sWGU9e307ZnVuY3Rpb24gUWUoKXtpZighcWUpe3ZhciBlLHQ9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzooIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOnl8fCIuL3RoaXMucHJvZ3JhbSJ9O2ZvcihlIGluIFhlKXZvaWQgMD09PVhlW2VdP2RlbGV0ZSB0W2VdOnRbZV09WGVbZV07dmFyIG49W107Zm9yKGUgaW4gdCluLnB1c2goZSsiPSIrdFtlXSk7cWU9bn1yZXR1cm4gcWV9ZnVuY3Rpb24gSmUoZSxuKXtpZihPKXJldHVybiBqZSgxOSwxLGUsbik7dmFyIHI9MDtyZXR1cm4gUWUoKS5mb3JFYWNoKChmdW5jdGlvbihvLGkpe3ZhciBzPW4rcjtmb3IoaT1hKClbZSs0Kmk+PjJdPXMscz0wO3M8by5sZW5ndGg7KytzKXQoKVtpKys+PjBdPW8uY2hhckNvZGVBdChzKTt0KClbaT4+MF09MCxyKz1vLmxlbmd0aCsxfSkpLDB9ZnVuY3Rpb24gWmUoZSx0KXtpZihPKXJldHVybiBqZSgyMCwxLGUsdCk7dmFyIG49UWUoKTthKClbZT4+Ml09bi5sZW5ndGg7dmFyIHI9MDtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyKz1lLmxlbmd0aCsxfSkpLGEoKVt0Pj4yXT1yLDB9ZnVuY3Rpb24gS2UoZSl7cmV0dXJuIE8/amUoMjEsMSxlKTowfWZ1bmN0aW9uIGV0KGUsdCxuLHIpe3JldHVybiBPP2plKDIyLDEsZSx0LG4scik6KGU9U2UuVWIoZSksdD1TZS5TYihlLHQsbiksYSgpW3I+PjJdPXQsMCl9ZnVuY3Rpb24gdHQoZSx0LG4scixhKXtpZihPKXJldHVybiBqZSgyMywxLGUsdCxuLHIsYSl9ZnVuY3Rpb24gbnQoZSx0LG4sbyl7aWYoTylyZXR1cm4gamUoMjQsMSxlLHQsbixvKTtmb3IodmFyIGk9MCxzPTA7czxuO3MrKyl7dmFyIHU9YSgpW3Q+PjJdLGM9YSgpW3QrND4+Ml07dCs9ODtmb3IodmFyIGw9MDtsPGM7bCsrKUFlKGUscigpW3UrbF0pO2krPWN9cmV0dXJuIGEoKVtvPj4yXT1pLDB9ZnVuY3Rpb24gcnQoZSl7cmV0dXJuIDA9PWUlNCYmKDAhPWUlMTAwfHwwPT1lJTQwMCl9ZnVuY3Rpb24gYXQoZSx0KXtmb3IodmFyIG49MCxyPTA7cjw9dDtuKz1lW3IrK10pO3JldHVybiBufXZhciBvdD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLGl0PVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gc3QoZSx0KXtmb3IoZT1uZXcgRGF0ZShlLmdldFRpbWUoKSk7MDx0Oyl7dmFyIG49ZS5nZXRNb250aCgpLHI9KHJ0KGUuZ2V0RnVsbFllYXIoKSk/b3Q6aXQpW25dO2lmKCEodD5yLWUuZ2V0RGF0ZSgpKSl7ZS5zZXREYXRlKGUuZ2V0RGF0ZSgpK3QpO2JyZWFrfXQtPXItZS5nZXREYXRlKCkrMSxlLnNldERhdGUoMSksMTE+bj9lLnNldE1vbnRoKG4rMSk6KGUuc2V0TW9udGgoMCksZS5zZXRGdWxsWWVhcihlLmdldEZ1bGxZZWFyKCkrMSkpfXJldHVybiBlfWZ1bmN0aW9uIHV0KGUsbixyLG8pe2Z1bmN0aW9uIGkoZSx0LG4pe2ZvcihlPSJudW1iZXIiPT10eXBlb2YgZT9lLnRvU3RyaW5nKCk6ZXx8IiI7ZS5sZW5ndGg8dDspZT1uWzBdK2U7cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBpKGUsdCwiMCIpfWZ1bmN0aW9uIHUoZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiAwPmU/LTE6MDxlPzE6MH12YXIgcjtyZXR1cm4gMD09PShyPW4oZS5nZXRGdWxsWWVhcigpLXQuZ2V0RnVsbFllYXIoKSkpJiYwPT09KHI9bihlLmdldE1vbnRoKCktdC5nZXRNb250aCgpKSkmJihyPW4oZS5nZXREYXRlKCktdC5nZXREYXRlKCkpKSxyfWZ1bmN0aW9uIGMoZSl7c3dpdGNoKGUuZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gZTtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gbChlKXtlPXN0KG5ldyBEYXRlKGUuTmErMTkwMCwwLDEpLGUuYmIpO3ZhciB0PW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSsxLDAsNCksbj1jKG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDQpKTtyZXR1cm4gdD1jKHQpLDA+PXUobixlKT8wPj11KHQsZSk/ZS5nZXRGdWxsWWVhcigpKzE6ZS5nZXRGdWxsWWVhcigpOmUuZ2V0RnVsbFllYXIoKS0xfXZhciBmPWEoKVtvKzQwPj4yXTtmb3IodmFyIHAgaW4gbz17S2I6YSgpW28+PjJdLEpiOmEoKVtvKzQ+PjJdLCRhOmEoKVtvKzg+PjJdLFdhOmEoKVtvKzEyPj4yXSxSYTphKClbbysxNj4+Ml0sTmE6YSgpW28rMjA+PjJdLGFiOmEoKVtvKzI0Pj4yXSxiYjphKClbbysyOD4+Ml0sY2M6YSgpW28rMzI+PjJdLEliOmEoKVtvKzM2Pj4yXSxMYjpmP04oZik6IiJ9LHI9TihyKSxmPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifSlyPXIucmVwbGFjZShuZXcgUmVnRXhwKHAsImciKSxmW3BdKTt2YXIgZD0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIiksbT0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtmb3IocCBpbiBmPXsiJWEiOmZ1bmN0aW9uKGUpe3JldHVybiBkW2UuYWJdLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGUpe3JldHVybiBkW2UuYWJdfSwiJWIiOmZ1bmN0aW9uKGUpe3JldHVybiBtW2UuUmFdLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGUpe3JldHVybiBtW2UuUmFdfSwiJUMiOmZ1bmN0aW9uKGUpe3JldHVybiBzKChlLk5hKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGUpe3JldHVybiBzKGUuV2EsMil9LCIlZSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZS5XYSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSl9LCIlSCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZS4kYSwyKX0sIiVJIjpmdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9ZS4kYSk/ZT0xMjoxMjxlJiYoZS09MTIpLHMoZSwyKX0sIiVqIjpmdW5jdGlvbihlKXtyZXR1cm4gcyhlLldhK2F0KHJ0KGUuTmErMTkwMCk/b3Q6aXQsZS5SYS0xKSwzKX0sIiVtIjpmdW5jdGlvbihlKXtyZXR1cm4gcyhlLlJhKzEsMil9LCIlTSI6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZS5KYiwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcXG4ifSwiJXAiOmZ1bmN0aW9uKGUpe3JldHVybiAwPD1lLiRhJiYxMj5lLiRhPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbihlKXtyZXR1cm4gcyhlLktiLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlxcdCJ9LCIldSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWJ8fDd9LCIlVSI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS5OYSsxOTAwLDAsMSksbj0wPT09dC5nZXREYXkoKT90OnN0KHQsNy10LmdldERheSgpKTtyZXR1cm4gMD51KG4sZT1uZXcgRGF0ZShlLk5hKzE5MDAsZS5SYSxlLldhKSk/cyhNYXRoLmNlaWwoKDMxLW4uZ2V0RGF0ZSgpKyhhdChydChlLmdldEZ1bGxZZWFyKCkpP290Oml0LGUuZ2V0TW9udGgoKS0xKS0zMSkrZS5nZXREYXRlKCkpLzcpLDIpOjA9PT11KG4sdCk/IjAxIjoiMDAifSwiJVYiOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlKGUuTmErMTkwMSwwLDQpLG49YyhuZXcgRGF0ZShlLk5hKzE5MDAsMCw0KSk7dD1jKHQpO3ZhciByPXN0KG5ldyBEYXRlKGUuTmErMTkwMCwwLDEpLGUuYmIpO3JldHVybiAwPnUocixuKT8iNTMiOjA+PXUodCxyKT8iMDEiOnMoTWF0aC5jZWlsKChuLmdldEZ1bGxZZWFyKCk8ZS5OYSsxOTAwP2UuYmIrMzItbi5nZXREYXRlKCk6ZS5iYisxLW4uZ2V0RGF0ZSgpKS83KSwyKX0sIiV3IjpmdW5jdGlvbihlKXtyZXR1cm4gZS5hYn0sIiVXIjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShlLk5hLDAsMSksbj0xPT09dC5nZXREYXkoKT90OnN0KHQsMD09PXQuZ2V0RGF5KCk/MTo3LXQuZ2V0RGF5KCkrMSk7cmV0dXJuIDA+dShuLGU9bmV3IERhdGUoZS5OYSsxOTAwLGUuUmEsZS5XYSkpP3MoTWF0aC5jZWlsKCgzMS1uLmdldERhdGUoKSsoYXQocnQoZS5nZXRGdWxsWWVhcigpKT9vdDppdCxlLmdldE1vbnRoKCktMSktMzEpK2UuZ2V0RGF0ZSgpKS83KSwyKTowPT09dShuLHQpPyIwMSI6IjAwIn0sIiV5IjpmdW5jdGlvbihlKXtyZXR1cm4oZS5OYSsxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5OYSsxOTAwfSwiJXoiOmZ1bmN0aW9uKGUpe3ZhciB0PTA8PShlPWUuSWIpO3JldHVybiBlPU1hdGguYWJzKGUpLzYwLCh0PyIrIjoiLSIpK1N0cmluZygiMDAwMCIrKGUvNjAqMTAwK2UlNjApKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTGJ9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fSlyLmluY2x1ZGVzKHApJiYocj1yLnJlcGxhY2UobmV3IFJlZ0V4cChwLCJnIiksZltwXShvKSkpO3JldHVybiBwPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5KFYoZSkrMSk7cmV0dXJuIEcoZSx0LDAsdC5sZW5ndGgpLHR9KHIpLHAubGVuZ3RoPm4/MDooZnVuY3Rpb24oZSxuKXt0KCkuc2V0KGUsbil9KHAsZSkscC5sZW5ndGgtMSl9dmFyIGN0PVtudWxsLGdlLEVlLFRlLE1lLERlLFJlLHhlLGtlLENlLEZlLFBlLEllLFVlLFdlLExlLEhlLFllLFZlLEplLFplLEtlLGV0LHR0LG50XSxsdD17YjpmdW5jdGlvbihlKXtyZXR1cm4gZHQoZSsxNikrMTZ9LGM6ZnVuY3Rpb24oZSx0LG4pe3Rocm93IG5ldyB2ZShlKS5zYih0LG4pLGV9LE06ZnVuY3Rpb24oZSl7eXQoZSwhXywxLCF2KSxtZS5sYigpfSxuOmZ1bmN0aW9uKGUpe08/cG9zdE1lc3NhZ2Uoe2NtZDoiY2xlYW51cFRocmVhZCIsdGhyZWFkOmV9KTpkZShlKX0scDpmdW5jdGlvbihlLHQsbixyKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB4KCJDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgU2hhcmVkQXJyYXlCdWZmZXIsIHB0aHJlYWRzIGFyZSBub3QgYXZhaWxhYmxlISIpLDY7dmFyIGE9W107cmV0dXJuIE8mJjA9PT1hLmxlbmd0aD9idCg2ODc4NjU4NTYsZSx0LG4scik6KGU9e0hiOm4sY2I6ZSxTYTpyLE1iOmF9LE8/KGUuTmI9InNwYXduVGhyZWFkIixwb3N0TWVzc2FnZShlLGEpLDApOl9lKGUpKX0saTpFZSxVOlRlLFI6TWUseTpEZSxBOlJlLHQ6eGUsUzprZSxIOkNlLEc6RmUsRjpQZSxvOkllLHo6VWUsdzpXZSxUOkxlLHg6SGUsajpmdW5jdGlvbigpe3NlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlblwncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LF86ZnVuY3Rpb24oKXtzZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW5cJ3MgbGlua2luZyBzdXBwb3J0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxFOmZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTJ9LFo6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXBlcmZvcm1hbmNlLm5vdygpO2ZvcihuPXIrbixBdG9taWNzLmV4Y2hhbmdlKGEoKSxEdD4+MixlKTs7KXtpZigocj1wZXJmb3JtYW5jZS5ub3coKSk+bilyZXR1cm4gQXRvbWljcy5leGNoYW5nZShhKCksRHQ+PjIsMCksLTczO2lmKDA9PShyPUF0b21pY3MuZXhjaGFuZ2UoYSgpLER0Pj4yLDApKSlicmVhaztpZihodCgpLEF0b21pY3MubG9hZChhKCksZT4+MikhPXQpcmV0dXJuLTY7QXRvbWljcy5leGNoYW5nZShhKCksRHQ+PjIsZSl9cmV0dXJuIDB9LE46ZnVuY3Rpb24oZSx0KXtpZihlPT10KXBvc3RNZXNzYWdlKHtjbWQ6InByb2Nlc3NRdWV1ZWRNYWluVGhyZWFkV29yayJ9KTtlbHNlIGlmKE8pcG9zdE1lc3NhZ2Uoe3RhcmdldFRocmVhZDplLGNtZDoicHJvY2Vzc1RocmVhZFF1ZXVlIn0pO2Vsc2V7aWYoIShlPShlPW1lLk9hW2VdKSYmZS53b3JrZXIpKXJldHVybjtlLnBvc3RNZXNzYWdlKHtjbWQ6InByb2Nlc3NUaHJlYWRRdWV1ZSJ9KX1yZXR1cm4gMX0sVjpmdW5jdGlvbihlLHQpe2U9bmV3IERhdGUoMWUzKmEoKVtlPj4yXSksYSgpW3Q+PjJdPWUuZ2V0VVRDU2Vjb25kcygpLGEoKVt0KzQ+PjJdPWUuZ2V0VVRDTWludXRlcygpLGEoKVt0Kzg+PjJdPWUuZ2V0VVRDSG91cnMoKSxhKClbdCsxMj4+Ml09ZS5nZXRVVENEYXRlKCksYSgpW3QrMTY+PjJdPWUuZ2V0VVRDTW9udGgoKSxhKClbdCsyMD4+Ml09ZS5nZXRVVENGdWxsWWVhcigpLTE5MDAsYSgpW3QrMjQ+PjJdPWUuZ2V0VVRDRGF5KCksZT0oZS5nZXRUaW1lKCktRGF0ZS5VVEMoZS5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MCxhKClbdCsyOD4+Ml09ZX0sVzpmdW5jdGlvbihlLHQpe2U9bmV3IERhdGUoMWUzKmEoKVtlPj4yXSksYSgpW3Q+PjJdPWUuZ2V0U2Vjb25kcygpLGEoKVt0KzQ+PjJdPWUuZ2V0TWludXRlcygpLGEoKVt0Kzg+PjJdPWUuZ2V0SG91cnMoKSxhKClbdCsxMj4+Ml09ZS5nZXREYXRlKCksYSgpW3QrMTY+PjJdPWUuZ2V0TW9udGgoKSxhKClbdCsyMD4+Ml09ZS5nZXRGdWxsWWVhcigpLTE5MDAsYSgpW3QrMjQ+PjJdPWUuZ2V0RGF5KCk7dmFyIG49bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSkscj0oZS5nZXRUaW1lKCktbi5nZXRUaW1lKCkpLzg2NGU1fDA7YSgpW3QrMjg+PjJdPXIsYSgpW3QrMzY+PjJdPS02MCplLmdldFRpbWV6b25lT2Zmc2V0KCkscj1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLGU9MHwociE9KG49bi5nZXRUaW1lem9uZU9mZnNldCgpKSYmZS5nZXRUaW1lem9uZU9mZnNldCgpPT1NYXRoLm1pbihuLHIpKSxhKClbdCszMj4+Ml09ZX0sWDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShhKClbZSsyMD4+Ml0rMTkwMCxhKClbZSsxNj4+Ml0sYSgpW2UrMTI+PjJdLGEoKVtlKzg+PjJdLGEoKVtlKzQ+PjJdLGEoKVtlPj4yXSwwKSxuPWEoKVtlKzMyPj4yXSxyPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxvPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLGk9bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxzPW8uZ2V0VGltZXpvbmVPZmZzZXQoKSx1PU1hdGgubWluKHMsaSk7cmV0dXJuIDA+bj9hKClbZSszMj4+Ml09TnVtYmVyKGkhPXMmJnU9PXIpOjA8biE9KHU9PXIpJiYoaT1NYXRoLm1heChzLGkpLHQuc2V0VGltZSh0LmdldFRpbWUoKSs2ZTQqKCgwPG4/dTppKS1yKSkpLGEoKVtlKzI0Pj4yXT10LmdldERheSgpLG49KHQuZ2V0VGltZSgpLW8uZ2V0VGltZSgpKS84NjRlNXwwLGEoKVtlKzI4Pj4yXT1uLGEoKVtlPj4yXT10LmdldFNlY29uZHMoKSxhKClbZSs0Pj4yXT10LmdldE1pbnV0ZXMoKSxhKClbZSs4Pj4yXT10LmdldEhvdXJzKCksYSgpW2UrMTI+PjJdPXQuZ2V0RGF0ZSgpLGEoKVtlKzE2Pj4yXT10LmdldE1vbnRoKCksdC5nZXRUaW1lKCkvMWUzfDB9LFk6ZnVuY3Rpb24gZSh0LG4scil7ZS5vYnx8KGUub2I9ITAsWWUodCxuLHIpKX0sZDpmdW5jdGlvbigpe3NlKCIiKX0scTpmdW5jdGlvbihlLHQpe2lmKDA9PT1lKWU9RGF0ZS5ub3coKTtlbHNle2lmKDEhPT1lJiY0IT09ZSlyZXR1cm4gYSgpW2Z0KCk+PjJdPTI4LC0xO2U9aGUoKX1yZXR1cm4gYSgpW3Q+PjJdPWUvMWUzfDAsYSgpW3QrND4+Ml09ZSUxZTMqMWU2fDAsMH0sQjpmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9LG06ZnVuY3Rpb24oKXt3fHxffHwoTXx8KE09e30pLE1bIkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWQiXXx8KE1bIkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWQiXT0xLHgoIkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWQiKSkpfSx2OmZ1bmN0aW9uKCl7cmV0dXJuIDIxNDc0ODM2NDh9LGY6aGUsUTpmdW5jdGlvbihlLHQsbil7cigpLmNvcHlXaXRoaW4oZSx0LHQrbil9LGc6ZnVuY3Rpb24oKXtyZXR1cm4gdz9uKDk5MykuY3B1cygpLmxlbmd0aDpuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeX0sSTpmdW5jdGlvbihlLHQsbil7QmUubGVuZ3RoPXQsbj4+PTM7Zm9yKHZhciByPTA7cjx0O3IrKylCZVtyXT1vKClbbityXTtyZXR1cm4oMD5lP2xlWy1lLTFdOmN0W2VdKS5hcHBseShudWxsLEJlKX0sdTpmdW5jdGlvbihlKXt2YXIgdD1yKCkubGVuZ3RoO2lmKChlPj4+PTApPD10fHwyMTQ3NDgzNjQ4PGUpcmV0dXJuITE7Zm9yKHZhciBuPTE7ND49bjtuKj0yKXt2YXIgYT10KigxKy4yL24pO2E9TWF0aC5taW4oYSxlKzEwMDY2MzI5NiksMDwoYT1NYXRoLm1heChlLGEpKSU2NTUzNiYmKGErPTY1NTM2LWElNjU1MzYpO2U6e3RyeXtDLmdyb3coTWF0aC5taW4oMjE0NzQ4MzY0OCxhKS1VLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksJChDLmJ1ZmZlcik7dmFyIG89MTticmVhayBlfWNhdGNoKGUpe31vPXZvaWQgMH1pZihvKXJldHVybiEwfXJldHVybiExfSxLOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gR2UoZSk/emUoZSx0LG4pOlZlKGUsdCxuKX0sQzpmdW5jdGlvbigpe3Rocm93InVud2luZCJ9LEw6ZnVuY3Rpb24oZSx0KXt0Pj49Mjt2YXIgbj1hKClbdCs2XTtyZXR1cm4gdD17YWxwaGE6ISFhKClbdF0sZGVwdGg6ISFhKClbdCsxXSxzdGVuY2lsOiEhYSgpW3QrMl0sYW50aWFsaWFzOiEhYSgpW3QrM10scHJlbXVsdGlwbGllZEFscGhhOiEhYSgpW3QrNF0scHJlc2VydmVEcmF3aW5nQnVmZmVyOiEhYSgpW3QrNV0scG93ZXJQcmVmZXJlbmNlOiRlW25dLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ISFhKClbdCs3XSx4YjphKClbdCs4XSxYYjphKClbdCs5XSxnYjphKClbdCsxMF0scWI6YSgpW3QrMTFdLCRiOmEoKVt0KzEyXSxhYzphKClbdCsxM119LCEoZT1HZShlKSl8fHQucWI/MDpmdW5jdGlvbihlLHQpe2UuaGJ8fChlLmhiPWUuZ2V0Q29udGV4dCxlLmdldENvbnRleHQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4id2ViZ2wiPT10PT0obj1lLmhiKHQsbikpaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ/bjpudWxsfSk7dmFyIG49ZS5nZXRDb250ZXh0KCJ3ZWJnbCIsdCk7cmV0dXJuIG4/ZnVuY3Rpb24oZSx0KXt2YXIgbj1kdCg4KTthKClbbis0Pj4yXT1wdCgpO3ZhciByPXtWYjpuLGF0dHJpYnV0ZXM6dCx2ZXJzaW9uOnQueGIsWGE6ZX07cmV0dXJuIGUuY2FudmFzJiYoZS5jYW52YXMuWWE9ciksKHZvaWQgMD09PXQuZ2J8fHQuZ2IpJiZmdW5jdGlvbihlKXtpZihlfHwoZT12b2lkIDApLCFlLnRiKXtlLnRiPSEwO3ZhciB0PWUuWGE7IWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7dCYmKGUudmVydGV4QXR0cmliRGl2aXNvcj1mdW5jdGlvbihlLG4pe3QudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGUsbil9LGUuZHJhd0FycmF5c0luc3RhbmNlZD1mdW5jdGlvbihlLG4scixhKXt0LmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShlLG4scixhKX0sZS5kcmF3RWxlbWVudHNJbnN0YW5jZWQ9ZnVuY3Rpb24oZSxuLHIsYSxvKXt0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGUsbixyLGEsbyl9KX0odCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Iik7dCYmKGUuY3JlYXRlVmVydGV4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpfSxlLmRlbGV0ZVZlcnRleEFycmF5PWZ1bmN0aW9uKGUpe3QuZGVsZXRlVmVydGV4QXJyYXlPRVMoZSl9LGUuYmluZFZlcnRleEFycmF5PWZ1bmN0aW9uKGUpe3QuYmluZFZlcnRleEFycmF5T0VTKGUpfSxlLmlzVmVydGV4QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNWZXJ0ZXhBcnJheU9FUyhlKX0pfSh0KSxmdW5jdGlvbihlKXt2YXIgdD1lLmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19idWZmZXJzIik7dCYmKGUuZHJhd0J1ZmZlcnM9ZnVuY3Rpb24oZSxuKXt0LmRyYXdCdWZmZXJzV0VCR0woZSxuKX0pfSh0KSx0LlBiPXQuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSx0LlliPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9tdWx0aV9kcmF3IiksKHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5pbmNsdWRlcygibG9zZV9jb250ZXh0Iil8fGUuaW5jbHVkZXMoImRlYnVnIil8fHQuZ2V0RXh0ZW5zaW9uKGUpfSkpfX0ociksbn0obix0KTowfShlLHQpfSxPOkplLFA6WmUsRDpmdW5jdGlvbihlKXtDdChlKX0saDpLZSxsOmV0LHM6dHQsazpudCxKOmZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCk7cmV0dXJuIGEoKVtlPj4yXT10LzFlM3wwLGEoKVtlKzQ+PjJdPXQlMWUzKjFlM3wwLDB9LGE6Q3x8aS53YXNtTWVtb3J5LHI6dXQsZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdXQoZSx0LG4scil9fTshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7aS5hc209ZS5leHBvcnRzLG1lLmZiLnB1c2goaS5hc20ueGEpLFE9aS5hc20uQmEsWi51bnNoaWZ0KGkuYXNtLiQpLEY9dCxPfHwoYWUtLSxpLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmkubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhhZSksMD09YWUmJihudWxsIT09b2UmJihjbGVhckludGVydmFsKG9lKSxvZT1udWxsKSxpZSYmKGU9aWUsaWU9bnVsbCxlKCkpKSl9ZnVuY3Rpb24gdCh0KXtlKHQuaW5zdGFuY2UsdC5tb2R1bGUpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIUQmJih2fHxfKSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGZldGNoJiYhcmUuc3RhcnRzV2l0aCgiZmlsZTovLyIpKXJldHVybiBmZXRjaChyZSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKCFlLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgXCciK3JlKyJcJyI7cmV0dXJuIGUuYXJyYXlCdWZmZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtyZXR1cm4gY2UoKX0pKTtpZihmKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtmKHJlLChmdW5jdGlvbih0KXtlKG5ldyBVaW50OEFycmF5KHQpKX0pLHQpfSkpfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBjZSgpfSkpfSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShlLHIpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLnRoZW4oZSwoZnVuY3Rpb24oZSl7eCgiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitlKSxzZShlKX0pKX12YXIgcj17YTpsdH07aWYoT3x8KGFlKyssaS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZpLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoYWUpKSxpLmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIGkuaW5zdGFudGlhdGVXYXNtKHIsZSl9Y2F0Y2goZSl7cmV0dXJuIHgoIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrZSksITF9KER8fCJmdW5jdGlvbiIhPXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ3x8dWUoKXx8cmUuc3RhcnRzV2l0aCgiZmlsZTovLyIpfHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/bih0KTpmZXRjaChyZSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhlLHIpLnRoZW4odCwoZnVuY3Rpb24oZSl7cmV0dXJuIHgoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK2UpLHgoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksbih0KX0pKX0pKSkuY2F0Y2godSl9KCksaS5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fX193YXNtX2NhbGxfY3RvcnM9aS5hc20uJCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRJbml0PWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydEluaXQ9aS5hc20uYWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9aS5hc20uYmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT1pLmFzbS5jYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWkuYXNtLmRhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuX09ydENyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0Q3JlYXRlU2Vzc2lvbj1pLmFzbS5lYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRSZWxlYXNlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybihpLl9PcnRSZWxlYXNlU2Vzc2lvbj1pLmFzbS5mYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRHZXRJbnB1dENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydEdldElucHV0Q291bnQ9aS5hc20uZ2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0R2V0T3V0cHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0R2V0T3V0cHV0Q291bnQ9aS5hc20uaGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0R2V0SW5wdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydEdldElucHV0TmFtZT1pLmFzbS5pYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRHZXRPdXRwdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydEdldE91dHB1dE5hbWU9aS5hc20uamEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0RnJlZT1mdW5jdGlvbigpe3JldHVybihpLl9PcnRGcmVlPWkuYXNtLmthKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuX09ydENyZWF0ZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybihpLl9PcnRDcmVhdGVUZW5zb3I9aS5hc20ubGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0R2V0VGVuc29yRGF0YT1mdW5jdGlvbigpe3JldHVybihpLl9PcnRHZXRUZW5zb3JEYXRhPWkuYXNtLm1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuX09ydFJlbGVhc2VUZW5zb3I9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0UmVsZWFzZVRlbnNvcj1pLmFzbS5uYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRDcmVhdGVSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydENyZWF0ZVJ1bk9wdGlvbnM9aS5hc20ub2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9aS5hc20ucGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9aS5hc20ucWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5fT3J0UnVuPWZ1bmN0aW9uKCl7cmV0dXJuKGkuX09ydFJ1bj1pLmFzbS5yYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLl9PcnRFbmRQcm9maWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fT3J0RW5kUHJvZmlsaW5nPWkuYXNtLnNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBmdD1pLl9fX2Vycm5vX2xvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuKGZ0PWkuX19fZXJybm9fbG9jYXRpb249aS5hc20udGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scHQ9aS5fcHRocmVhZF9zZWxmPWZ1bmN0aW9uKCl7cmV0dXJuKHB0PWkuX3B0aHJlYWRfc2VsZj1pLmFzbS51YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkdD1pLl9tYWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4oZHQ9aS5fbWFsbG9jPWkuYXNtLnZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG10PWkuX2ZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4obXQ9aS5fZnJlZT1pLmFzbS53YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtpLl9lbXNjcmlwdGVuX3Rsc19pbml0PWZ1bmN0aW9uKCl7cmV0dXJuKGkuX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9aS5hc20ueGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGd0PWkuX19fZnVuY3Nfb25fZXhpdD1mdW5jdGlvbigpe3JldHVybihndD1pLl9fX2Z1bmNzX29uX2V4aXQ9aS5hc20ueWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saHQ9aS5fZW1zY3JpcHRlbl9tYWluX3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscz1mdW5jdGlvbigpe3JldHVybihodD1pLl9lbXNjcmlwdGVuX21haW5fdGhyZWFkX3Byb2Nlc3NfcXVldWVkX2NhbGxzPWkuYXNtLnphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHl0PWkuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuKHl0PWkuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0PWkuYXNtLkFhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2kuX2Vtc2NyaXB0ZW5fY3VycmVudF90aHJlYWRfcHJvY2Vzc19xdWV1ZWRfY2FsbHM9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fZW1zY3JpcHRlbl9jdXJyZW50X3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscz1pLmFzbS5DYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgYnQ9aS5fZW1zY3JpcHRlbl9zeW5jX3J1bl9pbl9tYWluX3RocmVhZF80PWZ1bmN0aW9uKCl7cmV0dXJuKGJ0PWkuX2Vtc2NyaXB0ZW5fc3luY19ydW5faW5fbWFpbl90aHJlYWRfND1pLmFzbS5EYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2dD1pLl9lbXNjcmlwdGVuX3J1bl9pbl9tYWluX3J1bnRpbWVfdGhyZWFkX2pzPWZ1bmN0aW9uKCl7cmV0dXJuKHZ0PWkuX2Vtc2NyaXB0ZW5fcnVuX2luX21haW5fcnVudGltZV90aHJlYWRfanM9aS5hc20uRWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX3Q9aS5fZW1zY3JpcHRlbl9kaXNwYXRjaF90b190aHJlYWRfPWZ1bmN0aW9uKCl7cmV0dXJuKF90PWkuX2Vtc2NyaXB0ZW5fZGlzcGF0Y2hfdG9fdGhyZWFkXz1pLmFzbS5GYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3dD1pLl9fZW1zY3JpcHRlbl90aHJlYWRfZnJlZV9kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuKHd0PWkuX19lbXNjcmlwdGVuX3RocmVhZF9mcmVlX2RhdGE9aS5hc20uR2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07aS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQ9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQ9aS5hc20uSGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIE90LEF0PWkuX21lbWFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuKEF0PWkuX21lbWFsaWduPWkuYXNtLklhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFN0PWkuX2Vtc2NyaXB0ZW5fc3RhY2tfc2V0X2xpbWl0cz1mdW5jdGlvbigpe3JldHVybihTdD1pLl9lbXNjcmlwdGVuX3N0YWNrX3NldF9saW1pdHM9aS5hc20uSmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRXQ9aS5zdGFja1NhdmU9ZnVuY3Rpb24oKXtyZXR1cm4oRXQ9aS5zdGFja1NhdmU9aS5hc20uS2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVHQ9aS5zdGFja1Jlc3RvcmU9ZnVuY3Rpb24oKXtyZXR1cm4oVHQ9aS5zdGFja1Jlc3RvcmU9aS5hc20uTGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTXQ9aS5zdGFja0FsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKE10PWkuc3RhY2tBbGxvYz1pLmFzbS5NYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEdD1pLl9fZW1zY3JpcHRlbl9tYWluX3RocmVhZF9mdXRleD02ODc4OTYsUnQ9aS5fX2Vtc2NyaXB0ZW5fYWxsb3dfbWFpbl9ydW50aW1lX3F1ZXVlZF9jYWxscz02ODMwMTI7ZnVuY3Rpb24geHQoZSl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9IlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoIitlKyIpIix0aGlzLnN0YXR1cz1lfWZ1bmN0aW9uIGt0KCl7ZnVuY3Rpb24gZSgpe2lmKCFPdCYmKE90PSEwLGkuY2FsbGVkUnVuPSEwLCFQKSYmKE98fGZlKFopLHMoaSksaS5vblJ1bnRpbWVJbml0aWFsaXplZCYmaS5vblJ1bnRpbWVJbml0aWFsaXplZCgpLCFPKSl7aWYoaS5wb3N0UnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgaS5wb3N0UnVuJiYoaS5wb3N0UnVuPVtpLnBvc3RSdW5dKTtpLnBvc3RSdW4ubGVuZ3RoOyl7dmFyIGU9aS5wb3N0UnVuLnNoaWZ0KCk7ZWUudW5zaGlmdChlKX1mZShlZSl9fWlmKCEoMDxhZSkpaWYoTylzKGkpLE98fGZlKFopLHBvc3RNZXNzYWdlKHtjbWQ6ImxvYWRlZCJ9KTtlbHNle2lmKGkucHJlUnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgaS5wcmVSdW4mJihpLnByZVJ1bj1baS5wcmVSdW5dKTtpLnByZVJ1bi5sZW5ndGg7KW5lKCk7ZmUoSiksMDxhZXx8KGkuc2V0U3RhdHVzPyhpLnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLnNldFN0YXR1cygiIil9KSwxKSxlKCl9KSwxKSk6ZSgpKX19ZnVuY3Rpb24gQ3QoZSl7aWYoTyl0aHJvdyBnZShlKSwidW53aW5kIjt0ZSgpfHxPfHwoZ3QoKSxmZShLKSxPZVsxXS5sZW5ndGgmJkFlKDEsMTApLE9lWzJdLmxlbmd0aCYmQWUoMiwxMCksbWUua2IoKSksdGUoKXx8KG1lLmtiKCksaS5vbkV4aXQmJmkub25FeGl0KGUpLFA9ITApLGIoZSxuZXcgeHQoZSkpfWlmKGkuVVRGOFRvU3RyaW5nPU4saS5zdHJpbmdUb1VURjg9eixpLmxlbmd0aEJ5dGVzVVRGOD1WLGkua2VlcFJ1bnRpbWVBbGl2ZT10ZSxpLlBUaHJlYWQ9bWUsaS5zdGFja1NhdmU9RXQsaS5zdGFja1Jlc3RvcmU9VHQsaS5zdGFja0FsbG9jPU10LGkuUFRocmVhZD1tZSxpLndhc21NZW1vcnk9QyxpLkV4aXRTdGF0dXM9eHQsaWU9ZnVuY3Rpb24gZSgpe090fHxrdCgpLE90fHwoaWU9ZSl9LGkucnVuPWt0LGkucHJlSW5pdClmb3IoImZ1bmN0aW9uIj09dHlwZW9mIGkucHJlSW5pdCYmKGkucHJlSW5pdD1baS5wcmVJbml0XSk7MDxpLnByZUluaXQubGVuZ3RoOylpLnByZUluaXQucG9wKCkoKTtyZXR1cm4gTyYmKGs9ITEsbWUudWIoKSksa3QoKSxlLnJlYWR5fSk7ZS5leHBvcnRzPXJ9LDExODplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1cJyJ1c2Ugc3RyaWN0Ijt2YXIgZT17fTtpZigib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmInN0cmluZyI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpe3ZhciB0PXJlcXVpcmUoIndvcmtlcl90aHJlYWRzIikscj10LnBhcmVudFBvcnQ7ci5vbigibWVzc2FnZSIsKGZ1bmN0aW9uKGUpe29ubWVzc2FnZSh7ZGF0YTplfSl9KSk7dmFyIGE9cmVxdWlyZSgiZnMiKTtPYmplY3QuYXNzaWduKGdsb2JhbCx7c2VsZjpnbG9iYWwscmVxdWlyZTpyZXF1aXJlLE1vZHVsZTplLGxvY2F0aW9uOntocmVmOl9fZmlsZW5hbWV9LFdvcmtlcjp0LldvcmtlcixpbXBvcnRTY3JpcHRzOmZ1bmN0aW9uKGUpeygwLGV2YWwpKGEucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSl9LHBvc3RNZXNzYWdlOmZ1bmN0aW9uKGUpe3IucG9zdE1lc3NhZ2UoZSl9LHBlcmZvcm1hbmNlOmdsb2JhbC5wZXJmb3JtYW5jZXx8e25vdzpmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpfX19KX12YXIgcz1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiICIpO2NvbnNvbGUuZXJyb3IoZSl9O3NlbGYuYWxlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDp0LHRocmVhZElkOmUuX3B0aHJlYWRfc2VsZigpfSl9LGUuaW5zdGFudGlhdGVXYXNtPSh0LHIpPT57dmFyIGE9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGUud2FzbU1vZHVsZSx0KTtyZXR1cm4gcihhKSxlLndhc21Nb2R1bGU9bnVsbCxhLmV4cG9ydHN9LHNlbGYub25tZXNzYWdlPXQ9Pnt0cnl7aWYoImxvYWQiPT09dC5kYXRhLmNtZCl7aWYoZS53YXNtTW9kdWxlPXQuZGF0YS53YXNtTW9kdWxlLGUud2FzbU1lbW9yeT10LmRhdGEud2FzbU1lbW9yeSxlLmJ1ZmZlcj1lLndhc21NZW1vcnkuYnVmZmVyLGUuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRD0hMCwic3RyaW5nIj09dHlwZW9mIHQuZGF0YS51cmxPckJsb2IpaW1wb3J0U2NyaXB0cyh0LmRhdGEudXJsT3JCbG9iKTtlbHNle3ZhciByPVVSTC5jcmVhdGVPYmplY3RVUkwodC5kYXRhLnVybE9yQmxvYik7aW1wb3J0U2NyaXB0cyhyKSxVUkwucmV2b2tlT2JqZWN0VVJMKHIpfW9ydFdhc21UaHJlYWRlZChlKS50aGVuKChmdW5jdGlvbih0KXtlPXR9KSl9ZWxzZSBpZigicnVuIj09PXQuZGF0YS5jbWQpe2UuX19wZXJmb3JtYW5jZV9ub3dfY2xvY2tfZHJpZnQ9cGVyZm9ybWFuY2Uubm93KCktdC5kYXRhLnRpbWUsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQodC5kYXRhLnRocmVhZEluZm9TdHJ1Y3QsMCwwLDEpLGUuZXN0YWJsaXNoU3RhY2tTcGFjZSgpLGUuUFRocmVhZC5yZWNlaXZlT2JqZWN0VHJhbnNmZXIodC5kYXRhKSxlLlBUaHJlYWQudGhyZWFkSW5pdCgpO3RyeXt2YXIgYT1lLmludm9rZUVudHJ5UG9pbnQodC5kYXRhLnN0YXJ0X3JvdXRpbmUsdC5kYXRhLmFyZyk7ZS5rZWVwUnVudGltZUFsaXZlKCk/ZS5QVGhyZWFkLnNldEV4aXRTdGF0dXMoYSk6ZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQoYSl9Y2F0Y2godCl7aWYoInVud2luZCIhPXQpe2lmKCEodCBpbnN0YW5jZW9mIGUuRXhpdFN0YXR1cykpdGhyb3cgdDtlLmtlZXBSdW50aW1lQWxpdmUoKXx8ZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQodC5zdGF0dXMpfX19ZWxzZSJjYW5jZWwiPT09dC5kYXRhLmNtZD9lLl9wdGhyZWFkX3NlbGYoKSYmZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQoLTEpOiJzZXRpbW1lZGlhdGUiPT09dC5kYXRhLnRhcmdldHx8KCJwcm9jZXNzVGhyZWFkUXVldWUiPT09dC5kYXRhLmNtZD9lLl9wdGhyZWFkX3NlbGYoKSYmZS5fZW1zY3JpcHRlbl9jdXJyZW50X3RocmVhZF9wcm9jZXNzX3F1ZXVlZF9jYWxscygpOihzKCJ3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICIrdC5kYXRhLmNtZCkscyh0LmRhdGEpKSl9Y2F0Y2goZSl7dGhyb3cgcygid29ya2VyLmpzIG9ubWVzc2FnZSgpIGNhcHR1cmVkIGFuIHVuY2F1Z2h0IGV4Y2VwdGlvbjogIitlKSxlJiZlLnN0YWNrJiZzKGUuc3RhY2spLGV9fTtcXG5cJ30sOTMyOihlLHQsbik9Pnt2YXIgX3NjcmlwdERpcixyPShfc2NyaXB0RGlyPShfc2NyaXB0RGlyPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwKXx8Ii9pbmRleC5qcyIsZnVuY3Rpb24oZSl7dmFyIHQ7ZT1lfHx7fSx0fHwodD12b2lkIDAhPT1lP2U6e30pO3ZhciByLGEsbz1PYmplY3QuYXNzaWduO3QucmVhZHk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7cj1lLGE9dH0pKTt2YXIgaSxzLHUsYyxsLGYscD1vKHt9LHQpLGQ9Ii4vdGhpcy5wcm9ncmFtIixtPSJvYmplY3QiPT10eXBlb2Ygd2luZG93LGc9ImZ1bmN0aW9uIj09dHlwZW9mIGltcG9ydFNjcmlwdHMsaD0ib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmInN0cmluZyI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUseT0iIjtoPyh5PWc/big5MDgpLmRpcm5hbWUoeSkrIi8iOiIvLyIsZj0oKT0+e2x8fChjPW4oMzg0KSxsPW4oOTA4KSl9LGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZigpLGU9bC5ub3JtYWxpemUoZSksYy5yZWFkRmlsZVN5bmMoZSx0P251bGw6InV0ZjgiKX0sdT1lPT4oKGU9aShlLCEwKSkuYnVmZmVyfHwoZT1uZXcgVWludDhBcnJheShlKSksZSkscz0oZSx0LG4pPT57ZigpLGU9bC5ub3JtYWxpemUoZSksYy5yZWFkRmlsZShlLChmdW5jdGlvbihlLHIpe2U/bihlKTp0KHIuYnVmZmVyKX0pKX0sMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoZD1wcm9jZXNzLmFyZ3ZbMV0ucmVwbGFjZSgvXFxcXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSkscHJvY2Vzcy5vbigidW5oYW5kbGVkUmVqZWN0aW9uIiwoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKSx0Lmluc3BlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4iW0Vtc2NyaXB0ZW4gTW9kdWxlIG9iamVjdF0ifSk6KG18fGcpJiYoZz95PXNlbGYubG9jYXRpb24uaHJlZjoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoeT1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksX3NjcmlwdERpciYmKHk9X3NjcmlwdERpcikseT0wIT09eS5pbmRleE9mKCJibG9iOiIpP3kuc3Vic3RyKDAseS5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLGk9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQuc2VuZChudWxsKSx0LnJlc3BvbnNlVGV4dH0sZyYmKHU9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsdC5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpfSkscz0oZSx0LG4pPT57dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbigiR0VUIixlLCEwKSxyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHIub25sb2FkPSgpPT57MjAwPT1yLnN0YXR1c3x8MD09ci5zdGF0dXMmJnIucmVzcG9uc2U/dChyLnJlc3BvbnNlKTpuKCl9LHIub25lcnJvcj1uLHIuc2VuZChudWxsKX0pO3ZhciBiLHY9dC5wcmludHx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxfPXQucHJpbnRFcnJ8fGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO28odCxwKSxwPW51bGwsdC50aGlzUHJvZ3JhbSYmKGQ9dC50aGlzUHJvZ3JhbSksdC53YXNtQmluYXJ5JiYoYj10Lndhc21CaW5hcnkpLHQubm9FeGl0UnVudGltZSwib2JqZWN0IiE9dHlwZW9mIFdlYkFzc2VtYmx5JiZOKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIHcsTyxBLFMsRSxUPSExLE09InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gRChlLHQsbil7dmFyIHI9dCtuO2ZvcihuPXQ7ZVtuXSYmIShuPj1yKTspKytuO2lmKDE2PG4tdCYmZS5zdWJhcnJheSYmTSlyZXR1cm4gTS5kZWNvZGUoZS5zdWJhcnJheSh0LG4pKTtmb3Iocj0iIjt0PG47KXt2YXIgYT1lW3QrK107aWYoMTI4JmEpe3ZhciBvPTYzJmVbdCsrXTtpZigxOTI9PSgyMjQmYSkpcis9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmYSk8PDZ8byk7ZWxzZXt2YXIgaT02MyZlW3QrK107NjU1MzY+KGE9MjI0PT0oMjQwJmEpPygxNSZhKTw8MTJ8bzw8NnxpOig3JmEpPDwxOHxvPDwxMnxpPDw2fDYzJmVbdCsrXSk/cis9U3RyaW5nLmZyb21DaGFyQ29kZShhKTooYS09NjU1MzYscis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxhPj4xMCw1NjMyMHwxMDIzJmEpKX19ZWxzZSByKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpfXJldHVybiByfWZ1bmN0aW9uIFIoZSx0KXtyZXR1cm4gZT9EKFMsZSx0KToiIn1mdW5jdGlvbiB4KGUsdCxuLHIpe2lmKCEoMDxyKSlyZXR1cm4gMDt2YXIgYT1uO3I9bityLTE7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBpPWUuY2hhckNvZGVBdChvKTtpZig1NTI5Njw9aSYmNTczNDM+PWkmJihpPTY1NTM2KygoMTAyMyZpKTw8MTApfDEwMjMmZS5jaGFyQ29kZUF0KCsrbykpLDEyNz49aSl7aWYobj49cilicmVhazt0W24rK109aX1lbHNle2lmKDIwNDc+PWkpe2lmKG4rMT49cilicmVhazt0W24rK109MTkyfGk+PjZ9ZWxzZXtpZig2NTUzNT49aSl7aWYobisyPj1yKWJyZWFrO3RbbisrXT0yMjR8aT4+MTJ9ZWxzZXtpZihuKzM+PXIpYnJlYWs7dFtuKytdPTI0MHxpPj4xOCx0W24rK109MTI4fGk+PjEyJjYzfXRbbisrXT0xMjh8aT4+NiY2M310W24rK109MTI4fDYzJml9fXJldHVybiB0W25dPTAsbi1hfWZ1bmN0aW9uIGsoZSl7Zm9yKHZhciB0PTAsbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcj1lLmNoYXJDb2RlQXQobik7NTUyOTY8PXImJjU3MzQzPj1yJiYocj02NTUzNisoKDEwMjMmcik8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK24pKSwxMjc+PXI/Kyt0OnQ9MjA0Nz49cj90KzI6NjU1MzU+PXI/dCszOnQrNH1yZXR1cm4gdH1mdW5jdGlvbiBDKGUpe3ZhciB0PWsoZSkrMSxuPWRlKHQpO3JldHVybiBuJiZ4KGUsQSxuLHQpLG59ZnVuY3Rpb24gRigpe3ZhciBlPXcuYnVmZmVyO089ZSx0LkhFQVA4PUE9bmV3IEludDhBcnJheShlKSx0LkhFQVAxNj1uZXcgSW50MTZBcnJheShlKSx0LkhFQVAzMj1FPW5ldyBJbnQzMkFycmF5KGUpLHQuSEVBUFU4PVM9bmV3IFVpbnQ4QXJyYXkoZSksdC5IRUFQVTE2PW5ldyBVaW50MTZBcnJheShlKSx0LkhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGUpLHQuSEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KGUpLHQuSEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGUpfXZhciBQLEk9W10sVT1bXSxXPVtdO2Z1bmN0aW9uIEwoKXt2YXIgZT10LnByZVJ1bi5zaGlmdCgpO0kudW5zaGlmdChlKX12YXIgSCxZPTAsaj1udWxsLEI9bnVsbDtmdW5jdGlvbiBOKGUpe3Rocm93IHQub25BYm9ydCYmdC5vbkFib3J0KGUpLF8oZT0iQWJvcnRlZCgiK2UrIikiKSxUPSEwLGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihlKyIuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uIiksYShlKSxlfWZ1bmN0aW9uIEcoKXtyZXR1cm4gSC5zdGFydHNXaXRoKCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIil9aWYodC5wcmVsb2FkZWRJbWFnZXM9e30sdC5wcmVsb2FkZWRBdWRpb3M9e30sSD0ib3J0LXdhc20ud2FzbSIsIUcoKSl7dmFyIHo9SDtIPXQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUoeix5KTp5K3p9ZnVuY3Rpb24gVigpe3ZhciBlPUg7dHJ5e2lmKGU9PUgmJmIpcmV0dXJuIG5ldyBVaW50OEFycmF5KGIpO2lmKHUpcmV0dXJuIHUoZSk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKGUpe04oZSl9fWZ1bmN0aW9uIHEoZSl7Zm9yKDswPGUubGVuZ3RoOyl7dmFyIG49ZS5zaGlmdCgpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKW4odCk7ZWxzZXt2YXIgcj1uLk5hOyJudW1iZXIiPT10eXBlb2Ygcj92b2lkIDA9PT1uLnZhP1gocikoKTpYKHIpKG4udmEpOnIodm9pZCAwPT09bi52YT9udWxsOm4udmEpfX19dmFyICQ9W107ZnVuY3Rpb24gWChlKXt2YXIgdD0kW2VdO3JldHVybiB0fHwoZT49JC5sZW5ndGgmJigkLmxlbmd0aD1lKzEpLCRbZV09dD1QLmdldChlKSksdH1mdW5jdGlvbiBRKGUpe3RoaXMucWE9ZS0xNix0aGlzLkZhPWZ1bmN0aW9uKGUpe0VbdGhpcy5xYSs0Pj4yXT1lfSx0aGlzLkNhPWZ1bmN0aW9uKGUpe0VbdGhpcy5xYSs4Pj4yXT1lfSx0aGlzLkRhPWZ1bmN0aW9uKCl7RVt0aGlzLnFhPj4yXT0wfSx0aGlzLkJhPWZ1bmN0aW9uKCl7QVt0aGlzLnFhKzEyPj4wXT0wfSx0aGlzLkVhPWZ1bmN0aW9uKCl7QVt0aGlzLnFhKzEzPj4wXT0wfSx0aGlzLnlhPWZ1bmN0aW9uKGUsdCl7dGhpcy5GYShlKSx0aGlzLkNhKHQpLHRoaXMuRGEoKSx0aGlzLkJhKCksdGhpcy5FYSgpfX12YXIgSixaLEs9e30sZWU9W251bGwsW10sW11dLHRlPXt9LG5lPXt9O2Z1bmN0aW9uIHJlKCl7aWYoIVope3ZhciBlLHQ9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzooIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOmR8fCIuL3RoaXMucHJvZ3JhbSJ9O2ZvcihlIGluIG5lKXZvaWQgMD09PW5lW2VdP2RlbGV0ZSB0W2VdOnRbZV09bmVbZV07dmFyIG49W107Zm9yKGUgaW4gdCluLnB1c2goZSsiPSIrdFtlXSk7Wj1ufXJldHVybiBafWZ1bmN0aW9uIGFlKGUpe3JldHVybiAwPT1lJTQmJigwIT1lJTEwMHx8MD09ZSU0MDApfWZ1bmN0aW9uIG9lKGUsdCl7Zm9yKHZhciBuPTAscj0wO3I8PXQ7bis9ZVtyKytdKTtyZXR1cm4gbn12YXIgaWU9WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxzZT1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIHVlKGUsdCl7Zm9yKGU9bmV3IERhdGUoZS5nZXRUaW1lKCkpOzA8dDspe3ZhciBuPWUuZ2V0TW9udGgoKSxyPShhZShlLmdldEZ1bGxZZWFyKCkpP2llOnNlKVtuXTtpZighKHQ+ci1lLmdldERhdGUoKSkpe2Uuc2V0RGF0ZShlLmdldERhdGUoKSt0KTticmVha310LT1yLWUuZ2V0RGF0ZSgpKzEsZS5zZXREYXRlKDEpLDExPm4/ZS5zZXRNb250aChuKzEpOihlLnNldE1vbnRoKDApLGUuc2V0RnVsbFllYXIoZS5nZXRGdWxsWWVhcigpKzEpKX1yZXR1cm4gZX1mdW5jdGlvbiBjZShlLHQsbixyKXtmdW5jdGlvbiBhKGUsdCxuKXtmb3IoZT0ibnVtYmVyIj09dHlwZW9mIGU/ZS50b1N0cmluZygpOmV8fCIiO2UubGVuZ3RoPHQ7KWU9blswXStlO3JldHVybiBlfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gYShlLHQsIjAiKX1mdW5jdGlvbiBpKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gMD5lPy0xOjA8ZT8xOjB9dmFyIHI7cmV0dXJuIDA9PT0ocj1uKGUuZ2V0RnVsbFllYXIoKS10LmdldEZ1bGxZZWFyKCkpKSYmMD09PShyPW4oZS5nZXRNb250aCgpLXQuZ2V0TW9udGgoKSkpJiYocj1uKGUuZ2V0RGF0ZSgpLXQuZ2V0RGF0ZSgpKSkscn1mdW5jdGlvbiBzKGUpe3N3aXRjaChlLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIGU7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIHUoZSl7ZT11ZShuZXcgRGF0ZShlLm9hKzE5MDAsMCwxKSxlLnVhKTt2YXIgdD1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCkrMSwwLDQpLG49cyhuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCw0KSk7cmV0dXJuIHQ9cyh0KSwwPj1pKG4sZSk/MD49aSh0LGUpP2UuZ2V0RnVsbFllYXIoKSsxOmUuZ2V0RnVsbFllYXIoKTplLmdldEZ1bGxZZWFyKCktMX12YXIgYz1FW3IrNDA+PjJdO2Zvcih2YXIgbCBpbiByPXtJYTpFW3I+PjJdLEhhOkVbcis0Pj4yXSxzYTpFW3IrOD4+Ml0scmE6RVtyKzEyPj4yXSxwYTpFW3IrMTY+PjJdLG9hOkVbcisyMD4+Ml0sdGE6RVtyKzI0Pj4yXSx1YTpFW3IrMjg+PjJdLFFhOkVbciszMj4+Ml0sR2E6RVtyKzM2Pj4yXSxKYTpjP1IoYyk6IiJ9LG49UihuKSxjPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifSluPW4ucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxjW2xdKTt2YXIgZj0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIikscD0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtmb3IobCBpbiBjPXsiJWEiOmZ1bmN0aW9uKGUpe3JldHVybiBmW2UudGFdLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGUpe3JldHVybiBmW2UudGFdfSwiJWIiOmZ1bmN0aW9uKGUpe3JldHVybiBwW2UucGFdLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGUpe3JldHVybiBwW2UucGFdfSwiJUMiOmZ1bmN0aW9uKGUpe3JldHVybiBvKChlLm9hKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUucmEsMil9LCIlZSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZS5yYSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9LCIlSCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZS5zYSwyKX0sIiVJIjpmdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9ZS5zYSk/ZT0xMjoxMjxlJiYoZS09MTIpLG8oZSwyKX0sIiVqIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLnJhK29lKGFlKGUub2ErMTkwMCk/aWU6c2UsZS5wYS0xKSwzKX0sIiVtIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLnBhKzEsMil9LCIlTSI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZS5IYSwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcXG4ifSwiJXAiOmZ1bmN0aW9uKGUpe3JldHVybiAwPD1lLnNhJiYxMj5lLnNhPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLklhLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlxcdCJ9LCIldSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGF8fDd9LCIlVSI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS5vYSsxOTAwLDAsMSksbj0wPT09dC5nZXREYXkoKT90OnVlKHQsNy10LmdldERheSgpKTtyZXR1cm4gMD5pKG4sZT1uZXcgRGF0ZShlLm9hKzE5MDAsZS5wYSxlLnJhKSk/byhNYXRoLmNlaWwoKDMxLW4uZ2V0RGF0ZSgpKyhvZShhZShlLmdldEZ1bGxZZWFyKCkpP2llOnNlLGUuZ2V0TW9udGgoKS0xKS0zMSkrZS5nZXREYXRlKCkpLzcpLDIpOjA9PT1pKG4sdCk/IjAxIjoiMDAifSwiJVYiOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlKGUub2ErMTkwMSwwLDQpLG49cyhuZXcgRGF0ZShlLm9hKzE5MDAsMCw0KSk7dD1zKHQpO3ZhciByPXVlKG5ldyBEYXRlKGUub2ErMTkwMCwwLDEpLGUudWEpO3JldHVybiAwPmkocixuKT8iNTMiOjA+PWkodCxyKT8iMDEiOm8oTWF0aC5jZWlsKChuLmdldEZ1bGxZZWFyKCk8ZS5vYSsxOTAwP2UudWErMzItbi5nZXREYXRlKCk6ZS51YSsxLW4uZ2V0RGF0ZSgpKS83KSwyKX0sIiV3IjpmdW5jdGlvbihlKXtyZXR1cm4gZS50YX0sIiVXIjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShlLm9hLDAsMSksbj0xPT09dC5nZXREYXkoKT90OnVlKHQsMD09PXQuZ2V0RGF5KCk/MTo3LXQuZ2V0RGF5KCkrMSk7cmV0dXJuIDA+aShuLGU9bmV3IERhdGUoZS5vYSsxOTAwLGUucGEsZS5yYSkpP28oTWF0aC5jZWlsKCgzMS1uLmdldERhdGUoKSsob2UoYWUoZS5nZXRGdWxsWWVhcigpKT9pZTpzZSxlLmdldE1vbnRoKCktMSktMzEpK2UuZ2V0RGF0ZSgpKS83KSwyKTowPT09aShuLHQpPyIwMSI6IjAwIn0sIiV5IjpmdW5jdGlvbihlKXtyZXR1cm4oZS5vYSsxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5vYSsxOTAwfSwiJXoiOmZ1bmN0aW9uKGUpe3ZhciB0PTA8PShlPWUuR2EpO3JldHVybiBlPU1hdGguYWJzKGUpLzYwLCh0PyIrIjoiLSIpK1N0cmluZygiMDAwMCIrKGUvNjAqMTAwK2UlNjApKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuSmF9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fSluLmluY2x1ZGVzKGwpJiYobj1uLnJlcGxhY2UobmV3IFJlZ0V4cChsLCJnIiksY1tsXShyKSkpO3JldHVybiBsPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5KGsoZSkrMSk7cmV0dXJuIHgoZSx0LDAsdC5sZW5ndGgpLHR9KG4pLGwubGVuZ3RoPnQ/MDooQS5zZXQobCxlKSxsLmxlbmd0aC0xKX12YXIgbGU9e2E6ZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGUrMTYpKzE2fSxiOmZ1bmN0aW9uKGUsdCxuKXt0aHJvdyBuZXcgUShlKS55YSh0LG4pLGV9LGc6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sSTpmdW5jdGlvbigpe30sRjpmdW5jdGlvbigpe30sdjpmdW5jdGlvbigpe30seTpmdW5jdGlvbigpe30scjpmdW5jdGlvbigpe3JldHVybiAwfSxHOmZ1bmN0aW9uKCl7fSxCOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9UihlKSx0ZS5LYShlLHQpfSxBOmZ1bmN0aW9uKGUsdCxuLHIsYSxvKXtpZihvPDw9MTIsMCE9KDE2JnIpJiYwIT1lJTY1NTM2KXQ9LTI4O2Vsc2UgaWYoMCE9KDMyJnIpKXtlPTY1NTM2Kk1hdGguY2VpbCh0LzY1NTM2KTt2YXIgaT1nZSg2NTUzNixlKTtpPyhTLmZpbGwoMCxpLGkrZSksZT1pKTplPTAsZT8oS1tlXT17QWE6ZSx6YTp0LHdhOiEwLGZkOmEsUGE6bixmbGFnczpyLG9mZnNldDpvfSx0PWUpOnQ9LTQ4fWVsc2UgdD0tNTI7cmV0dXJuIHR9LHo6ZnVuY3Rpb24oZSx0KXt2YXIgbj1LW2VdO3JldHVybiAwIT09dCYmbj8odD09PW4uemEmJihLW2VdPW51bGwsbi53YSYmbWUobi5BYSkpLGU9MCk6ZT0tMjgsZX0sazpmdW5jdGlvbigpe30seDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9UihlKSx0ZS5MYShlLHQsbil9LHQ6ZnVuY3Rpb24oKXt9LEg6ZnVuY3Rpb24oKXt9LHU6ZnVuY3Rpb24oKXt9LGg6ZnVuY3Rpb24oKXtOKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlblwncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LG46ZnVuY3Rpb24oKXtOKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlblwncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LEo6ZnVuY3Rpb24oZSx0KXtlPW5ldyBEYXRlKDFlMypFW2U+PjJdKSxFW3Q+PjJdPWUuZ2V0VVRDU2Vjb25kcygpLEVbdCs0Pj4yXT1lLmdldFVUQ01pbnV0ZXMoKSxFW3QrOD4+Ml09ZS5nZXRVVENIb3VycygpLEVbdCsxMj4+Ml09ZS5nZXRVVENEYXRlKCksRVt0KzE2Pj4yXT1lLmdldFVUQ01vbnRoKCksRVt0KzIwPj4yXT1lLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxFW3QrMjQ+PjJdPWUuZ2V0VVRDRGF5KCksRVt0KzI4Pj4yXT0oZS5nZXRUaW1lKCktRGF0ZS5VVEMoZS5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MH0sSzpmdW5jdGlvbihlLHQpe2U9bmV3IERhdGUoMWUzKkVbZT4+Ml0pLEVbdD4+Ml09ZS5nZXRTZWNvbmRzKCksRVt0KzQ+PjJdPWUuZ2V0TWludXRlcygpLEVbdCs4Pj4yXT1lLmdldEhvdXJzKCksRVt0KzEyPj4yXT1lLmdldERhdGUoKSxFW3QrMTY+PjJdPWUuZ2V0TW9udGgoKSxFW3QrMjA+PjJdPWUuZ2V0RnVsbFllYXIoKS0xOTAwLEVbdCsyND4+Ml09ZS5nZXREYXkoKTt2YXIgbj1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwxKTtFW3QrMjg+PjJdPShlLmdldFRpbWUoKS1uLmdldFRpbWUoKSkvODY0ZTV8MCxFW3QrMzY+PjJdPS02MCplLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHI9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtuPW4uZ2V0VGltZXpvbmVPZmZzZXQoKSxFW3QrMzI+PjJdPTB8KHIhPW4mJmUuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4obixyKSl9LEw6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoRVtlKzIwPj4yXSsxOTAwLEVbZSsxNj4+Ml0sRVtlKzEyPj4yXSxFW2UrOD4+Ml0sRVtlKzQ+PjJdLEVbZT4+Ml0sMCksbj1FW2UrMzI+PjJdLHI9dC5nZXRUaW1lem9uZU9mZnNldCgpLGE9bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMSksbz1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLGk9YS5nZXRUaW1lem9uZU9mZnNldCgpLHM9TWF0aC5taW4oaSxvKTtyZXR1cm4gMD5uP0VbZSszMj4+Ml09TnVtYmVyKG8hPWkmJnM9PXIpOjA8biE9KHM9PXIpJiYobz1NYXRoLm1heChpLG8pLHQuc2V0VGltZSh0LmdldFRpbWUoKSs2ZTQqKCgwPG4/czpvKS1yKSkpLEVbZSsyND4+Ml09dC5nZXREYXkoKSxFW2UrMjg+PjJdPSh0LmdldFRpbWUoKS1hLmdldFRpbWUoKSkvODY0ZTV8MCxFW2U+PjJdPXQuZ2V0U2Vjb25kcygpLEVbZSs0Pj4yXT10LmdldE1pbnV0ZXMoKSxFW2UrOD4+Ml09dC5nZXRIb3VycygpLEVbZSsxMj4+Ml09dC5nZXREYXRlKCksRVtlKzE2Pj4yXT10LmdldE1vbnRoKCksdC5nZXRUaW1lKCkvMWUzfDB9LE06ZnVuY3Rpb24gZSh0LG4scil7ZS54YXx8KGUueGE9ITAsZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuKGU9ZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXFwoKFtBLVphLXogXSspXFwpJC8pKT9lWzFdOiJHTVQifXZhciBhPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxvPW5ldyBEYXRlKGEsMCwxKSxpPW5ldyBEYXRlKGEsNiwxKTthPW8uZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgcz1pLmdldFRpbWV6b25lT2Zmc2V0KCk7RVtlPj4yXT02MCpNYXRoLm1heChhLHMpLEVbdD4+Ml09TnVtYmVyKGEhPXMpLGU9cihvKSx0PXIoaSksZT1DKGUpLHQ9Qyh0KSxzPGE/KEVbbj4+Ml09ZSxFW24rND4+Ml09dCk6KEVbbj4+Ml09dCxFW24rND4+Ml09ZSl9KHQsbixyKSl9LGQ6ZnVuY3Rpb24oKXtOKCIiKX0sbTpmdW5jdGlvbihlLHQpe2lmKDA9PT1lKWU9RGF0ZS5ub3coKTtlbHNle2lmKDEhPT1lJiY0IT09ZSlyZXR1cm4gRVtwZSgpPj4yXT0yOCwtMTtlPUooKX1yZXR1cm4gRVt0Pj4yXT1lLzFlM3wwLEVbdCs0Pj4yXT1lJTFlMyoxZTZ8MCwwfSxwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0sczpmdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ4fSxsOko9aD8oKT0+e3ZhciBlPXByb2Nlc3MuaHJ0aW1lKCk7cmV0dXJuIDFlMyplWzBdK2VbMV0vMWU2fTooKT0+cGVyZm9ybWFuY2Uubm93KCksRTpmdW5jdGlvbihlLHQsbil7Uy5jb3B5V2l0aGluKGUsdCx0K24pfSxmOmZ1bmN0aW9uKGUpe3ZhciB0PVMubGVuZ3RoO2lmKDIxNDc0ODM2NDg8KGU+Pj49MCkpcmV0dXJuITE7Zm9yKHZhciBuPTE7ND49bjtuKj0yKXt2YXIgcj10KigxKy4yL24pO3I9TWF0aC5taW4ocixlKzEwMDY2MzI5NiksMDwocj1NYXRoLm1heChlLHIpKSU2NTUzNiYmKHIrPTY1NTM2LXIlNjU1MzYpO2U6e3RyeXt3Lmdyb3coTWF0aC5taW4oMjE0NzQ4MzY0OCxyKS1PLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksRigpO3ZhciBhPTE7YnJlYWsgZX1jYXRjaChlKXt9YT12b2lkIDB9aWYoYSlyZXR1cm4hMH1yZXR1cm4hMX0sQzpmdW5jdGlvbihlLHQpe3ZhciBuPTA7cmV0dXJuIHJlKCkuZm9yRWFjaCgoZnVuY3Rpb24ocixhKXt2YXIgbz10K247Zm9yKGE9RVtlKzQqYT4+Ml09byxvPTA7bzxyLmxlbmd0aDsrK28pQVthKys+PjBdPXIuY2hhckNvZGVBdChvKTtBW2E+PjBdPTAsbis9ci5sZW5ndGgrMX0pKSwwfSxEOmZ1bmN0aW9uKGUsdCl7dmFyIG49cmUoKTtFW2U+PjJdPW4ubGVuZ3RoO3ZhciByPTA7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cis9ZS5sZW5ndGgrMX0pKSxFW3Q+PjJdPXIsMH0sZTpmdW5jdGlvbigpe3JldHVybiAwfSxqOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlPXRlLk9hKGUpLHQ9dGUuTWEoZSx0LG4pLEVbcj4+Ml09dCwwfSxxOmZ1bmN0aW9uKCl7fSxpOmZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgYT0wLG89MDtvPG47bysrKXt2YXIgaT1FW3Q+PjJdLHM9RVt0KzQ+PjJdO3QrPTg7Zm9yKHZhciB1PTA7dTxzO3UrKyl7dmFyIGM9U1tpK3VdLGw9ZWVbZV07MD09PWN8fDEwPT09Yz8oKDE9PT1lP3Y6XykoRChsLDApKSxsLmxlbmd0aD0wKTpsLnB1c2goYyl9YSs9c31yZXR1cm4gRVtyPj4yXT1hLDB9LHc6ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKTtyZXR1cm4gRVtlPj4yXT10LzFlM3wwLEVbZSs0Pj4yXT10JTFlMyoxZTN8MCwwfSxvOmNlLGM6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGNlKGUsdCxuLHIpfX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0LmFzbT1lLmV4cG9ydHMsdz10LmFzbS5OLEYoKSxQPXQuYXNtLmphLFUudW5zaGlmdCh0LmFzbS5PKSxZLS0sdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZ0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoWSksMD09WSYmKG51bGwhPT1qJiYoY2xlYXJJbnRlcnZhbChqKSxqPW51bGwpLEImJihlPUIsQj1udWxsLGUoKSkpfWZ1bmN0aW9uIG4odCl7ZSh0Lmluc3RhbmNlKX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKCFiJiYobXx8Zykpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmZXRjaCYmIUguc3RhcnRzV2l0aCgiZmlsZTovLyIpKXJldHVybiBmZXRjaChILHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24oZSl7aWYoIWUub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCBcJyIrSCsiXCciO3JldHVybiBlLmFycmF5QnVmZmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIFYoKX0pKTtpZihzKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtzKEgsKGZ1bmN0aW9uKHQpe2UobmV3IFVpbnQ4QXJyYXkodCkpfSksdCl9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFYoKX0pKX0oKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZSxvKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS50aGVuKGUsKGZ1bmN0aW9uKGUpe18oImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrZSksTihlKX0pKX12YXIgbz17YTpsZX07aWYoWSsrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKFkpLHQuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gdC5pbnN0YW50aWF0ZVdhc20obyxlKX1jYXRjaChlKXtyZXR1cm4gXygiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKSwhMX0oYnx8ImZ1bmN0aW9uIiE9dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nfHxHKCl8fEguc3RhcnRzV2l0aCgiZmlsZTovLyIpfHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/cihuKTpmZXRjaChILHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGUsbykudGhlbihuLChmdW5jdGlvbihlKXtyZXR1cm4gXygid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrZSksXygiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxyKG4pfSkpfSkpKS5jYXRjaChhKX0oKSx0Ll9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybih0Ll9fX3dhc21fY2FsbF9jdG9ycz10LmFzbS5PKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fT3J0SW5pdD10LmFzbS5QKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPXQuYXNtLlEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT10LmFzbS5SKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybih0Ll9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9dC5hc20uUykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9PcnRDcmVhdGVTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydENyZWF0ZVNlc3Npb249dC5hc20uVCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9PcnRSZWxlYXNlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybih0Ll9PcnRSZWxlYXNlU2Vzc2lvbj10LmFzbS5VKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEdldElucHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fT3J0R2V0SW5wdXRDb3VudD10LmFzbS5WKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEdldE91dHB1dENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEdldE91dHB1dENvdW50PXQuYXNtLlcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fT3J0R2V0SW5wdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEdldElucHV0TmFtZT10LmFzbS5YKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEdldE91dHB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4odC5fT3J0R2V0T3V0cHV0TmFtZT10LmFzbS5ZKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4odC5fT3J0RnJlZT10LmFzbS5aKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydENyZWF0ZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybih0Ll9PcnRDcmVhdGVUZW5zb3I9dC5hc20uXykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9PcnRHZXRUZW5zb3JEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEdldFRlbnNvckRhdGE9dC5hc20uJCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9PcnRSZWxlYXNlVGVuc29yPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydFJlbGVhc2VUZW5zb3I9dC5hc20uYWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybih0Ll9PcnRDcmVhdGVSdW5PcHRpb25zPXQuYXNtLmJhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PXQuYXNtLmNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydFJlbGVhc2VSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydFJlbGVhc2VSdW5PcHRpb25zPXQuYXNtLmRhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX09ydFJ1bj1mdW5jdGlvbigpe3JldHVybih0Ll9PcnRSdW49dC5hc20uZWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fT3J0RW5kUHJvZmlsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX09ydEVuZFByb2ZpbGluZz10LmFzbS5mYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZmUscGU9dC5fX19lcnJub19sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybihwZT10Ll9fX2Vycm5vX2xvY2F0aW9uPXQuYXNtLmdhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGRlPXQuX21hbGxvYz1mdW5jdGlvbigpe3JldHVybihkZT10Ll9tYWxsb2M9dC5hc20uaGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbWU9dC5fZnJlZT1mdW5jdGlvbigpe3JldHVybihtZT10Ll9mcmVlPXQuYXNtLmlhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdlPXQuX21lbWFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuKGdlPXQuX21lbWFsaWduPXQuYXNtLmthKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhlPXQuc3RhY2tTYXZlPWZ1bmN0aW9uKCl7cmV0dXJuKGhlPXQuc3RhY2tTYXZlPXQuYXNtLmxhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHllPXQuc3RhY2tSZXN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuKHllPXQuc3RhY2tSZXN0b3JlPXQuYXNtLm1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJlPXQuc3RhY2tBbGxvYz1mdW5jdGlvbigpe3JldHVybihiZT10LnN0YWNrQWxsb2M9dC5hc20ubmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07ZnVuY3Rpb24gdmUoKXtmdW5jdGlvbiBlKCl7aWYoIWZlJiYoZmU9ITAsdC5jYWxsZWRSdW49ITAsIVQpKXtpZihxKFUpLHIodCksdC5vblJ1bnRpbWVJbml0aWFsaXplZCYmdC5vblJ1bnRpbWVJbml0aWFsaXplZCgpLHQucG9zdFJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQucG9zdFJ1biYmKHQucG9zdFJ1bj1bdC5wb3N0UnVuXSk7dC5wb3N0UnVuLmxlbmd0aDspe3ZhciBlPXQucG9zdFJ1bi5zaGlmdCgpO1cudW5zaGlmdChlKX1xKFcpfX1pZighKDA8WSkpe2lmKHQucHJlUnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdC5wcmVSdW4mJih0LnByZVJ1bj1bdC5wcmVSdW5dKTt0LnByZVJ1bi5sZW5ndGg7KUwoKTtxKEkpLDA8WXx8KHQuc2V0U3RhdHVzPyh0LnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnNldFN0YXR1cygiIil9KSwxKSxlKCl9KSwxKSk6ZSgpKX19aWYodC5VVEY4VG9TdHJpbmc9Uix0LnN0cmluZ1RvVVRGOD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHgoZSxTLHQsbil9LHQubGVuZ3RoQnl0ZXNVVEY4PWssdC5zdGFja1NhdmU9aGUsdC5zdGFja1Jlc3RvcmU9eWUsdC5zdGFja0FsbG9jPWJlLEI9ZnVuY3Rpb24gZSgpe2ZlfHx2ZSgpLGZlfHwoQj1lKX0sdC5ydW49dmUsdC5wcmVJbml0KWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdC5wcmVJbml0JiYodC5wcmVJbml0PVt0LnByZUluaXRdKTswPHQucHJlSW5pdC5sZW5ndGg7KXQucHJlSW5pdC5wb3AoKSgpO3JldHVybiB2ZSgpLGUucmVhZHl9KTtlLmV4cG9ydHM9cn0sOTY3OihlLHQpPT57InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lml0ZXJhdGVFeHRyYU9wdGlvbnM9dm9pZCAwLHQuaXRlcmF0ZUV4dHJhT3B0aW9ucz0oZSxuLHIsYSk9PntpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKXtpZihyLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBpbiBvcHRpb25zIik7ci5hZGQoZSl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoKFtlLG9dKT0+e2NvbnN0IGk9bj9uK2U6ZTtpZigib2JqZWN0Ij09dHlwZW9mIG8pdC5pdGVyYXRlRXh0cmFPcHRpb25zKG8saSsiLiIscixhKTtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2Ygb3x8Im51bWJlciI9PXR5cGVvZiBvKWEoaSxvLnRvU3RyaW5nKCkpO2Vsc2V7aWYoImJvb2xlYW4iIT10eXBlb2Ygbyl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBoYW5kbGUgZXh0cmEgY29uZmlnIHR5cGU6ICIrdHlwZW9mIG8pO2EoaSxvPyIxIjoiMCIpfX0pKX19LDU4NjooZSx0LG4pPT57InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnNldFJ1bk9wdGlvbnM9dm9pZCAwO2NvbnN0IHI9big5NjcpLGE9big5ODMpLG89bigzNjEpO3Quc2V0UnVuT3B0aW9ucz1lPT57Y29uc3QgdD1vLmdldEluc3RhbmNlKCk7bGV0IG49MDtjb25zdCBpPVtdLHM9ZXx8e307dHJ5e2lmKHZvaWQgMD09PShudWxsPT1lP3ZvaWQgMDplLmxvZ1NldmVyaXR5TGV2ZWwpKXMubG9nU2V2ZXJpdHlMZXZlbD0yO2Vsc2UgaWYoIm51bWJlciIhPXR5cGVvZiBlLmxvZ1NldmVyaXR5TGV2ZWx8fCFOdW1iZXIuaXNJbnRlZ2VyKGUubG9nU2V2ZXJpdHlMZXZlbCl8fGUubG9nU2V2ZXJpdHlMZXZlbDwwfHxlLmxvZ1NldmVyaXR5TGV2ZWw+NCl0aHJvdyBuZXcgRXJyb3IoYGxvZyBzZXJ2ZXJpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke2UubG9nU2V2ZXJpdHlMZXZlbH1gKTtpZih2b2lkIDA9PT0obnVsbD09ZT92b2lkIDA6ZS5sb2dWZXJib3NpdHlMZXZlbCkpcy5sb2dWZXJib3NpdHlMZXZlbD0wO2Vsc2UgaWYoIm51bWJlciIhPXR5cGVvZiBlLmxvZ1ZlcmJvc2l0eUxldmVsfHwhTnVtYmVyLmlzSW50ZWdlcihlLmxvZ1ZlcmJvc2l0eUxldmVsKSl0aHJvdyBuZXcgRXJyb3IoYGxvZyB2ZXJib3NpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke2UubG9nVmVyYm9zaXR5TGV2ZWx9YCk7dm9pZCAwPT09KG51bGw9PWU/dm9pZCAwOmUudGVybWluYXRlKSYmKHMudGVybWluYXRlPSExKTtsZXQgbz0wO2lmKHZvaWQgMCE9PShudWxsPT1lP3ZvaWQgMDplLnRhZykmJihvPWEuYWxsb2NXYXNtU3RyaW5nKGUudGFnLGkpKSxuPXQuX09ydENyZWF0ZVJ1bk9wdGlvbnMocy5sb2dTZXZlcml0eUxldmVsLHMubG9nVmVyYm9zaXR5TGV2ZWwsISFzLnRlcm1pbmF0ZSxvKSwwPT09bil0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBjcmVhdGUgcnVuIG9wdGlvbnMiKTtyZXR1cm4gdm9pZCAwIT09KG51bGw9PWU/dm9pZCAwOmUuZXh0cmEpJiZyLml0ZXJhdGVFeHRyYU9wdGlvbnMoZS5leHRyYSwiIixuZXcgV2Vha1NldCwoKGUscik9Pntjb25zdCBvPWEuYWxsb2NXYXNtU3RyaW5nKGUsaSkscz1hLmFsbG9jV2FzbVN0cmluZyhyLGkpO2lmKDAhPT10Ll9PcnRBZGRSdW5Db25maWdFbnRyeShuLG8scykpdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3Qgc2V0IGEgcnVuIGNvbmZpZyBlbnRyeTogJHtlfSAtICR7cn1gKX0pKSxbbixpXX1jYXRjaChlKXt0aHJvdyAwIT09biYmdC5fT3J0UmVsZWFzZVJ1bk9wdGlvbnMobiksaS5mb3JFYWNoKHQuX2ZyZWUpLGV9fX0sOTE5OihlLHQsbik9PnsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuc2V0U2Vzc2lvbk9wdGlvbnM9dm9pZCAwO2NvbnN0IHI9big5NjcpLGE9big5ODMpLG89bigzNjEpO3Quc2V0U2Vzc2lvbk9wdGlvbnM9ZT0+e2NvbnN0IHQ9by5nZXRJbnN0YW5jZSgpO2xldCBuPTA7Y29uc3QgaT1bXSxzPWV8fHt9OyhlPT57ZS5leHRyYXx8KGUuZXh0cmE9e30pLGUuZXh0cmEuc2Vzc2lvbnx8KGUuZXh0cmEuc2Vzc2lvbj17fSk7Y29uc3QgdD1lLmV4dHJhLnNlc3Npb247dC51c2Vfb3J0X21vZGVsX2J5dGVzX2RpcmVjdGx5fHwodC51c2Vfb3J0X21vZGVsX2J5dGVzX2RpcmVjdGx5PSIxIil9KShzKTt0cnl7dm9pZCAwPT09KG51bGw9PWU/dm9pZCAwOmUuZ3JhcGhPcHRpbWl6YXRpb25MZXZlbCkmJihzLmdyYXBoT3B0aW1pemF0aW9uTGV2ZWw9ImFsbCIpO2NvbnN0IG89KGU9Pntzd2l0Y2goZSl7Y2FzZSJkaXNhYmxlZCI6cmV0dXJuIDA7Y2FzZSJiYXNpYyI6cmV0dXJuIDE7Y2FzZSJleHRlbmRlZCI6cmV0dXJuIDI7Y2FzZSJhbGwiOnJldHVybiA5OTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZ3JhcGggb3B0aW1pemF0aW9uIGxldmVsOiAke2V9YCl9fSkocy5ncmFwaE9wdGltaXphdGlvbkxldmVsKTt2b2lkIDA9PT0obnVsbD09ZT92b2lkIDA6ZS5lbmFibGVDcHVNZW1BcmVuYSkmJihzLmVuYWJsZUNwdU1lbUFyZW5hPSEwKSx2b2lkIDA9PT0obnVsbD09ZT92b2lkIDA6ZS5lbmFibGVNZW1QYXR0ZXJuKSYmKHMuZW5hYmxlTWVtUGF0dGVybj0hMCksdm9pZCAwPT09KG51bGw9PWU/dm9pZCAwOmUuZXhlY3V0aW9uTW9kZSkmJihzLmV4ZWN1dGlvbk1vZGU9InNlcXVlbnRpYWwiKTtjb25zdCB1PShlPT57c3dpdGNoKGUpe2Nhc2Uic2VxdWVudGlhbCI6cmV0dXJuIDA7Y2FzZSJwYXJhbGxlbCI6cmV0dXJuIDE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGV4ZWN1dGlvbiBtb2RlOiAke2V9YCl9fSkocy5leGVjdXRpb25Nb2RlKTtsZXQgYz0wO2lmKHZvaWQgMCE9PShudWxsPT1lP3ZvaWQgMDplLmxvZ0lkKSYmKGM9YS5hbGxvY1dhc21TdHJpbmcoZS5sb2dJZCxpKSksdm9pZCAwPT09KG51bGw9PWU/dm9pZCAwOmUubG9nU2V2ZXJpdHlMZXZlbCkpcy5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZigibnVtYmVyIiE9dHlwZW9mIGUubG9nU2V2ZXJpdHlMZXZlbHx8IU51bWJlci5pc0ludGVnZXIoZS5sb2dTZXZlcml0eUxldmVsKXx8ZS5sb2dTZXZlcml0eUxldmVsPDB8fGUubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7ZS5sb2dTZXZlcml0eUxldmVsfWApO2lmKHZvaWQgMD09PShudWxsPT1lP3ZvaWQgMDplLmxvZ1ZlcmJvc2l0eUxldmVsKSlzLmxvZ1ZlcmJvc2l0eUxldmVsPTA7ZWxzZSBpZigibnVtYmVyIiE9dHlwZW9mIGUubG9nVmVyYm9zaXR5TGV2ZWx8fCFOdW1iZXIuaXNJbnRlZ2VyKGUubG9nVmVyYm9zaXR5TGV2ZWwpKXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7ZS5sb2dWZXJib3NpdHlMZXZlbH1gKTtpZih2b2lkIDA9PT0obnVsbD09ZT92b2lkIDA6ZS5lbmFibGVQcm9maWxpbmcpJiYocy5lbmFibGVQcm9maWxpbmc9ITEpLG49dC5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnMobywhIXMuZW5hYmxlQ3B1TWVtQXJlbmEsISFzLmVuYWJsZU1lbVBhdHRlcm4sdSwhIXMuZW5hYmxlUHJvZmlsaW5nLDAsYyxzLmxvZ1NldmVyaXR5TGV2ZWwscy5sb2dWZXJib3NpdHlMZXZlbCksMD09PW4pdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgY3JlYXRlIHNlc3Npb24gb3B0aW9ucyIpO3JldHVybiB2b2lkIDAhPT0obnVsbD09ZT92b2lkIDA6ZS5leHRyYSkmJnIuaXRlcmF0ZUV4dHJhT3B0aW9ucyhlLmV4dHJhLCIiLG5ldyBXZWFrU2V0LCgoZSxyKT0+e2NvbnN0IG89YS5hbGxvY1dhc21TdHJpbmcoZSxpKSxzPWEuYWxsb2NXYXNtU3RyaW5nKHIsaSk7aWYoMCE9PXQuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeShuLG8scykpdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6ICR7ZX0gLSAke3J9YCl9KSksW24saV19Y2F0Y2goZSl7dGhyb3cgMCE9PW4mJnQuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhuKSxpLmZvckVhY2godC5fZnJlZSksZX19fSw5ODM6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5hbGxvY1dhc21TdHJpbmc9dm9pZCAwO2NvbnN0IHI9bigzNjEpO3QuYWxsb2NXYXNtU3RyaW5nPShlLHQpPT57Y29uc3Qgbj1yLmdldEluc3RhbmNlKCksYT1uLmxlbmd0aEJ5dGVzVVRGOChlKSsxLG89bi5fbWFsbG9jKGEpO3JldHVybiBuLnN0cmluZ1RvVVRGOChlLG8sYSksdC5wdXNoKG8pLG99fSwzNDk6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5leHRyYWN0VHJhbnNmZXJhYmxlQnVmZmVycz10LmVuZFByb2ZpbGluZz10LnJ1bj10LnJlbGVhc2VTZXNzaW9uPXQuY3JlYXRlU2Vzc2lvbj10LmluaXRPcnQ9dm9pZCAwO2NvbnN0IHI9big1ODYpLGE9big5MTkpLG89big5ODMpLGk9bigzNjEpO3QuaW5pdE9ydD0oZSx0KT0+e2NvbnN0IG49aS5nZXRJbnN0YW5jZSgpLl9PcnRJbml0KGUsdCk7aWYoMCE9PW4pdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3QgaW5pdGlhbGl6ZSBvbm54cnVudGltZS4gZXJyb3IgY29kZSA9ICR7bn1gKX07Y29uc3Qgcz1uZXcgTWFwO3QuY3JlYXRlU2Vzc2lvbj0oZSx0KT0+e2NvbnN0IG49aS5nZXRJbnN0YW5jZSgpLHI9bi5fbWFsbG9jKGUuYnl0ZUxlbmd0aCk7bGV0IG89MCx1PTAsYz1bXTt0cnl7aWYoW3UsY109YS5zZXRTZXNzaW9uT3B0aW9ucyh0KSxuLkhFQVBVOC5zZXQoZSxyKSxvPW4uX09ydENyZWF0ZVNlc3Npb24ocixlLmJ5dGVMZW5ndGgsdSksMD09PW8pdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgY3JlYXRlIGEgc2Vzc2lvbiIpfWZpbmFsbHl7bi5fZnJlZShyKSxuLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnModSksYy5mb3JFYWNoKG4uX2ZyZWUpfWNvbnN0IGw9bi5fT3J0R2V0SW5wdXRDb3VudChvKSxmPW4uX09ydEdldE91dHB1dENvdW50KG8pLHA9W10sZD1bXSxtPVtdLGc9W107Zm9yKGxldCBlPTA7ZTxsO2UrKyl7Y29uc3QgdD1uLl9PcnRHZXRJbnB1dE5hbWUobyxlKTtpZigwPT09dCl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBnZXQgYW4gaW5wdXQgbmFtZSIpO2QucHVzaCh0KSxwLnB1c2gobi5VVEY4VG9TdHJpbmcodCkpfWZvcihsZXQgZT0wO2U8ZjtlKyspe2NvbnN0IHQ9bi5fT3J0R2V0T3V0cHV0TmFtZShvLGUpO2lmKDA9PT10KXRocm93IG5ldyBFcnJvcigiQ2FuXCd0IGdldCBhbiBvdXRwdXQgbmFtZSIpO2cucHVzaCh0KSxtLnB1c2gobi5VVEY4VG9TdHJpbmcodCkpfXJldHVybiBzLnNldChvLFtvLGQsZ10pLFtvLHAsbV19LHQucmVsZWFzZVNlc3Npb249ZT0+e2NvbnN0IHQ9aS5nZXRJbnN0YW5jZSgpLG49cy5nZXQoZSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtjb25zdCByPW5bMF0sYT1uWzFdLG89blsyXTthLmZvckVhY2godC5fT3J0RnJlZSksby5mb3JFYWNoKHQuX09ydEZyZWUpLHQuX09ydFJlbGVhc2VTZXNzaW9uKHIpLHMuZGVsZXRlKGUpfTtjb25zdCB1PWU9Pntzd2l0Y2goZSl7Y2FzZSJpbnQ4IjpyZXR1cm4gMztjYXNlInVpbnQ4IjpyZXR1cm4gMjtjYXNlImJvb2wiOnJldHVybiA5O2Nhc2UiaW50MTYiOnJldHVybiA1O2Nhc2UidWludDE2IjpyZXR1cm4gNDtjYXNlImludDMyIjpyZXR1cm4gNjtjYXNlInVpbnQzMiI6cmV0dXJuIDEyO2Nhc2UiZmxvYXQzMiI6cmV0dXJuIDE7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gMTE7Y2FzZSJzdHJpbmciOnJldHVybiA4O2Nhc2UiaW50NjQiOnJldHVybiA3O2Nhc2UidWludDY0IjpyZXR1cm4gMTM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtlfWApfX0sYz1lPT57c3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4iaW50OCI7Y2FzZSAyOnJldHVybiJ1aW50OCI7Y2FzZSA5OnJldHVybiJib29sIjtjYXNlIDU6cmV0dXJuImludDE2IjtjYXNlIDQ6cmV0dXJuInVpbnQxNiI7Y2FzZSA2OmNhc2UgNzpyZXR1cm4iaW50MzIiO2Nhc2UgMTI6Y2FzZSAxMzpyZXR1cm4idWludDMyIjtjYXNlIDE6cmV0dXJuImZsb2F0MzIiO2Nhc2UgMTE6cmV0dXJuImZsb2F0NjQiO2Nhc2UgODpyZXR1cm4ic3RyaW5nIjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke2V9YCl9fSxsPWU9Pntzd2l0Y2goZSl7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UidWludDgiOmNhc2UiYm9vbCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJpbnQ4IjpyZXR1cm4gSW50OEFycmF5O2Nhc2UidWludDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJpbnQxNiI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSJpbnQzMiI6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gRmxvYXQ2NEFycmF5O2Nhc2UidWludDMyIjpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSJpbnQ2NCI6cmV0dXJuIEJpZ0ludDY0QXJyYXk7Y2FzZSJ1aW50NjQiOnJldHVybiBCaWdVaW50NjRBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZTogJHtlfWApfX07dC5ydW49KGUsdCxuLGEsZik9Pntjb25zdCBwPWkuZ2V0SW5zdGFuY2UoKSxkPXMuZ2V0KGUpO2lmKCFkKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzZXNzaW9uIGlkIik7Y29uc3QgbT1kWzBdLGc9ZFsxXSxoPWRbMl0seT10Lmxlbmd0aCxiPWEubGVuZ3RoO2xldCB2PTAsXz1bXTtjb25zdCB3PVtdLE89W107dHJ5e1t2LF9dPXIuc2V0UnVuT3B0aW9ucyhmKTtmb3IobGV0IGU9MDtlPHk7ZSsrKXtjb25zdCB0PW5bZV1bMF0scj1uW2VdWzFdLGE9bltlXVsyXTtsZXQgaSxzO2lmKEFycmF5LmlzQXJyYXkoYSkpe3M9NCphLmxlbmd0aCxpPXAuX21hbGxvYyhzKSxPLnB1c2goaSk7bGV0IGU9aS80O2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCsrKXtpZigic3RyaW5nIiE9dHlwZW9mIGFbdF0pdGhyb3cgbmV3IFR5cGVFcnJvcihgdGVuc29yIGRhdGEgYXQgaW5kZXggJHt0fSBpcyBub3QgYSBzdHJpbmdgKTtwLkhFQVBVMzJbZSsrXT1vLmFsbG9jV2FzbVN0cmluZyhhW3RdLE8pfX1lbHNlIHM9YS5ieXRlTGVuZ3RoLGk9cC5fbWFsbG9jKHMpLE8ucHVzaChpKSxwLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsYS5ieXRlT2Zmc2V0LHMpLGkpO2NvbnN0IGM9cC5zdGFja1NhdmUoKSxsPXAuc3RhY2tBbGxvYyg0KnIubGVuZ3RoKTt0cnl7bGV0IGU9bC80O3IuZm9yRWFjaCgodD0+cC5IRUFQMzJbZSsrXT10KSk7Y29uc3Qgbj1wLl9PcnRDcmVhdGVUZW5zb3IodSh0KSxpLHMsbCxyLmxlbmd0aCk7aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgY3JlYXRlIGEgdGVuc29yIik7dy5wdXNoKG4pfWZpbmFsbHl7cC5zdGFja1Jlc3RvcmUoYyl9fWNvbnN0IGU9cC5zdGFja1NhdmUoKSxpPXAuc3RhY2tBbGxvYyg0KnkpLHM9cC5zdGFja0FsbG9jKDQqeSksZD1wLnN0YWNrQWxsb2MoNCpiKSxBPXAuc3RhY2tBbGxvYyg0KmIpO3RyeXtsZXQgbj1pLzQscj1zLzQsbz1kLzQsdT1BLzQ7Zm9yKGxldCBlPTA7ZTx5O2UrKylwLkhFQVBVMzJbbisrXT13W2VdLHAuSEVBUFUzMltyKytdPWdbdFtlXV07Zm9yKGxldCBlPTA7ZTxiO2UrKylwLkhFQVBVMzJbbysrXT0wLHAuSEVBUFUzMlt1KytdPWhbYVtlXV07bGV0IGY9cC5fT3J0UnVuKG0scyxpLHksQSxiLGQsdik7Y29uc3QgXz1bXTtpZigwPT09Zilmb3IobGV0IGU9MDtlPGI7ZSsrKXtjb25zdCB0PXAuSEVBUFUzMltkLzQrZV0sbj1wLnN0YWNrU2F2ZSgpLHI9cC5zdGFja0FsbG9jKDE2KTtsZXQgYSxvPTA7dHJ5e2lmKGY9cC5fT3J0R2V0VGVuc29yRGF0YSh0LHIscis0LHIrOCxyKzEyKSwwIT09Zil0aHJvdyBuZXcgRXJyb3IoYENhblwndCBnZXQgYSB0ZW5zb3IgZGF0YS4gZXJyb3IgY29kZSA9ICR7Zn1gKTtsZXQgZT1yLzQ7Y29uc3QgaT1wLkhFQVBVMzJbZSsrXTtvPXAuSEVBUFUzMltlKytdO2NvbnN0IHM9cC5IRUFQVTMyW2UrK10sdT1wLkhFQVBVMzJbZSsrXSxkPVtdO2ZvcihsZXQgZT0wO2U8dTtlKyspZC5wdXNoKHAuSEVBUFUzMltzLzQrZV0pO3AuX09ydEZyZWUocyk7Y29uc3QgbT0wPT09ZC5sZW5ndGg/MTpkLnJlZHVjZSgoKGUsdCk9PmUqdCkpO2lmKGE9YyhpKSwic3RyaW5nIj09PWEpe2NvbnN0IGU9W107bGV0IHQ9by80O2ZvcihsZXQgbj0wO248bTtuKyspe2NvbnN0IHI9cC5IRUFQVTMyW3QrK10sYT1uPT09bS0xP3ZvaWQgMDpwLkhFQVBVMzJbdF0tcjtlLnB1c2gocC5VVEY4VG9TdHJpbmcocixhKSl9Xy5wdXNoKFthLGQsZV0pfWVsc2V7Y29uc3QgZT1uZXcobChhKSkobSk7bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkuc2V0KHAuSEVBUFU4LnN1YmFycmF5KG8sbytlLmJ5dGVMZW5ndGgpKSxfLnB1c2goW2EsZCxlXSl9fWZpbmFsbHl7cC5zdGFja1Jlc3RvcmUobiksInN0cmluZyI9PT1hJiZvJiZwLl9mcmVlKG8pLHAuX09ydFJlbGVhc2VUZW5zb3IodCl9fWlmKDA9PT1mKXJldHVybiBfO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIGVycm9yIGNvZGUgPSAke2Z9LmApfWZpbmFsbHl7cC5zdGFja1Jlc3RvcmUoZSl9fWZpbmFsbHl7dy5mb3JFYWNoKHAuX09ydFJlbGVhc2VUZW5zb3IpLE8uZm9yRWFjaChwLl9mcmVlKSxwLl9PcnRSZWxlYXNlUnVuT3B0aW9ucyh2KSxfLmZvckVhY2gocC5fZnJlZSl9fSx0LmVuZFByb2ZpbGluZz1lPT57Y29uc3QgdD1pLmdldEluc3RhbmNlKCksbj1zLmdldChlKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2Vzc2lvbiBpZCIpO2NvbnN0IHI9blswXSxhPXQuX09ydEVuZFByb2ZpbGluZyhyKTtpZigwPT09YSl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBnZXQgYW4gcHJvZmlsZSBmaWxlIG5hbWUiKTt0Ll9PcnRGcmVlKGEpfSx0LmV4dHJhY3RUcmFuc2ZlcmFibGVCdWZmZXJzPWU9Pntjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9blsyXTshQXJyYXkuaXNBcnJheShlKSYmZS5idWZmZXImJnQucHVzaChlLmJ1ZmZlcil9cmV0dXJuIHR9fSwzNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9biksZVtyXT10W25dfSksYT10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fSksbz10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpImRlZmF1bHQiIT09biYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnIodCxlLG4pO3JldHVybiBhKHQsZSksdH0saT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kaXNwb3NlPXQuZ2V0SW5zdGFuY2U9dC5pbml0aWFsaXplV2ViQXNzZW1ibHk9dm9pZCAwO2NvbnN0IHM9byhuKDQ0OSkpLHU9aShuKDkzMikpLGM9big0NzQpO2xldCBsLGY9ITEscD0hMSxkPSExO2NvbnN0IG09KGUsdCk9PnQ/ZT8ib3J0LXdhc20tc2ltZC10aHJlYWRlZC53YXNtIjoib3J0LXdhc20tdGhyZWFkZWQud2FzbSI6ZT8ib3J0LXdhc20tc2ltZC53YXNtIjoib3J0LXdhc20ud2FzbSI7dC5pbml0aWFsaXplV2ViQXNzZW1ibHk9YXN5bmMgZT0+e2lmKGYpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKHApdGhyb3cgbmV3IEVycm9yKCJtdWx0aXBsZSBjYWxscyB0byBcJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpXCcgZGV0ZWN0ZWQuIik7aWYoZCl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGNhbGwgdG8gXCdpbml0aWFsaXplV2ViQXNzZW1ibHkoKVwnIGZhaWxlZC4iKTtwPSEwO2NvbnN0IHQ9ZS5pbml0VGltZW91dCxyPWUubnVtVGhyZWFkcyxhPWUuc2ltZCxvPXI+MSYmKCgpPT57dHJ5e3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXImJigidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYobmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5wb3N0TWVzc2FnZShuZXcgU2hhcmVkQXJyYXlCdWZmZXIoMSkpLFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCw1LDQsMSwzLDEsMSwxMCwxMSwxLDksMCw2NSwwLDI1NCwxNiwyLDAsMjYsMTFdKSkpfWNhdGNoKGUpe3JldHVybiExfX0pKCksaT1hJiYoKCk9Pnt0cnl7cmV0dXJuIFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCwxMCwzMCwxLDI4LDAsNjUsMCwyNTMsMTUsMjUzLDEyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjUzLDE4NiwxLDI2LDExXSkpfWNhdGNoKGUpe3JldHVybiExfX0pKCksZz0ic3RyaW5nIj09dHlwZW9mIGUud2FzbVBhdGhzP2Uud2FzbVBhdGhzOnZvaWQgMCxoPW0oITEsbykseT1tKGksbyksYj0ib2JqZWN0Ij09dHlwZW9mIGUud2FzbVBhdGhzP2Uud2FzbVBhdGhzW3ldOnZvaWQgMDtsZXQgdj0hMTtjb25zdCBfPVtdO2lmKHQ+MCYmXy5wdXNoKG5ldyBQcm9taXNlKChlPT57c2V0VGltZW91dCgoKCk9Pnt2PSEwLGUoKX0pLHQpfSkpKSxfLnB1c2gobmV3IFByb21pc2UoKChlLHQpPT57Y29uc3Qgcj1vP2M6dS5kZWZhdWx0LGE9e2xvY2F0ZUZpbGU6KGUsdCk9PntpZihvJiZlLmVuZHNXaXRoKCIud29ya2VyLmpzIikmJiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYilyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbbigxMTgpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pKTtpZihlPT09aCl7Y29uc3QgZT1udWxsIT1nP2c6dDtyZXR1cm4gbnVsbCE9Yj9iOmUreX1yZXR1cm4gdCtlfX07aWYobylpZigidW5kZWZpbmVkIj09dHlwZW9mIEJsb2IpYS5tYWluU2NyaXB0VXJsT3JCbG9iPXMuam9pbigiLyIsIm9ydC13YXNtLXRocmVhZGVkLmpzIik7ZWxzZXtjb25zdCBlPWB2YXIgb3J0V2FzbVRocmVhZGVkPShmdW5jdGlvbigpe3ZhciBfc2NyaXB0RGlyO3JldHVybiAke3IudG9TdHJpbmcoKX19KSgpO2A7YS5tYWluU2NyaXB0VXJsT3JCbG9iPW5ldyBCbG9iKFtlXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pfXIoYSkudGhlbigodD0+e3A9ITEsZj0hMCxsPXQsZSgpfSksKGU9PntwPSExLGQ9ITAsdChlKX0pKX0pKSksYXdhaXQgUHJvbWlzZS5yYWNlKF8pLHYpdGhyb3cgbmV3IEVycm9yKGBXZWJBc3NlbWJseSBiYWNrZW5kIGluaXRpYWxpemluZyBmYWlsZWQgZHVlIHRvIHRpbWVvdXQ6ICR7dH1tc2ApfSx0LmdldEluc3RhbmNlPSgpPT57aWYoZiYmbClyZXR1cm4gbDt0aHJvdyBuZXcgRXJyb3IoIldlYkFzc2VtYmx5IGlzIG5vdCBpbml0aWFsaXplZCB5ZXQuIil9LHQuZGlzcG9zZT0oKT0+e3ZhciBlOyFmfHxwfHxkfHwocD0hMCxudWxsPT09KGU9bC5QVGhyZWFkKXx8dm9pZCAwPT09ZXx8ZS50ZXJtaW5hdGVBbGxUaHJlYWRzKCksbD12b2lkIDAscD0hMSxmPSExLGQ9ITApfX0sMzg0OigpPT57fSw5OTM6KCk9Pnt9LDkwODooKT0+e30sOTUzOigpPT57fSw5MjU6KCk9Pnt9LDQ0OTooKT0+e319LHQ9e307ZnVuY3Rpb24gbihyKXt2YXIgYT10W3JdO2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuZXhwb3J0czt2YXIgbz10W3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmV4cG9ydHN9bi5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2goZSl7aWYoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksKCgpPT57InVzZSBzdHJpY3QiO2NvbnN0IGU9bigzNDkpLHQ9bigzNjEpO3NlbGYub25tZXNzYWdlPW49Pntzd2l0Y2gobi5kYXRhLnR5cGUpe2Nhc2UiaW5pdC13YXNtIjp0LmluaXRpYWxpemVXZWJBc3NlbWJseShuLmRhdGEuaW4pLnRoZW4oKCgpPT5wb3N0TWVzc2FnZSh7dHlwZToiaW5pdC13YXNtIn0pKSwoZT0+cG9zdE1lc3NhZ2Uoe3R5cGU6ImluaXQtd2FzbSIsZXJyOmV9KSkpO2JyZWFrO2Nhc2UiaW5pdC1vcnQiOnRyeXtjb25zdHtudW1UaHJlYWRzOnQsbG9nZ2luZ0xldmVsOnJ9PW4uZGF0YS5pbjtlLmluaXRPcnQodCxyKSxwb3N0TWVzc2FnZSh7dHlwZToiaW5pdC1vcnQifSl9Y2F0Y2goZSl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImluaXQtb3J0IixlcnI6ZX0pfWJyZWFrO2Nhc2UiY3JlYXRlIjp0cnl7Y29uc3R7bW9kZWw6dCxvcHRpb25zOnJ9PW4uZGF0YS5pbixhPWUuY3JlYXRlU2Vzc2lvbih0LHIpO3Bvc3RNZXNzYWdlKHt0eXBlOiJjcmVhdGUiLG91dDphfSl9Y2F0Y2goZSl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImNyZWF0ZSIsZXJyOmV9KX1icmVhaztjYXNlInJlbGVhc2UiOnRyeXtjb25zdCB0PW4uZGF0YS5pbjtlLnJlbGVhc2VTZXNzaW9uKHQpLHBvc3RNZXNzYWdlKHt0eXBlOiJyZWxlYXNlIn0pfWNhdGNoKGUpe3Bvc3RNZXNzYWdlKHt0eXBlOiJyZWxlYXNlIixlcnI6ZX0pfWJyZWFrO2Nhc2UicnVuIjp0cnl7Y29uc3R7c2Vzc2lvbklkOnQsaW5wdXRJbmRpY2VzOnIsaW5wdXRzOmEsb3V0cHV0SW5kaWNlczpvLG9wdGlvbnM6aX09bi5kYXRhLmluLHM9ZS5ydW4odCxyLGEsbyxpKTtwb3N0TWVzc2FnZSh7dHlwZToicnVuIixvdXQ6c30sZS5leHRyYWN0VHJhbnNmZXJhYmxlQnVmZmVycyhzKSl9Y2F0Y2goZSl7cG9zdE1lc3NhZ2Uoe3R5cGU6InJ1biIsZXJyOmV9KX1icmVhaztjYXNlImVuZC1wcm9maWxpbmciOnRyeXtjb25zdCB0PW4uZGF0YS5pbjtlLmVuZFByb2ZpbGluZyh0KSxwb3N0TWVzc2FnZSh7dHlwZToiZW5kLXByb2ZpbGluZyJ9KX1jYXRjaChlKXtwb3N0TWVzc2FnZSh7dHlwZToiZW5kLXByb2ZpbGluZyIsZXJyOmV9KX19fX0pKCl9KSgpO1xuJywiV29ya2VyIix2b2lkIDAsdm9pZCAwKX19LDQ3NzpOPT57Ti5leHBvcnRzPWZ1bmN0aW9uKGgsdyxMLGspe3ZhciBJPXNlbGZ8fHdpbmRvdzt0cnl7dHJ5e3ZhciByO3RyeXtyPW5ldyBJLkJsb2IoW2hdKX1jYXRjaHsocj1uZXcoSS5CbG9iQnVpbGRlcnx8SS5XZWJLaXRCbG9iQnVpbGRlcnx8SS5Nb3pCbG9iQnVpbGRlcnx8SS5NU0Jsb2JCdWlsZGVyKSkuYXBwZW5kKGgpLHI9ci5nZXRCbG9iKCl9dmFyIFM9SS5VUkx8fEkud2Via2l0VVJMLHU9Uy5jcmVhdGVPYmplY3RVUkwociksRj1uZXcgSVt3XSh1LEwpO3JldHVybiBTLnJldm9rZU9iamVjdFVSTCh1KSxGfWNhdGNoe3JldHVybiBuZXcgSVt3XSgiZGF0YTphcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChoKSksTCl9fWNhdGNoe2lmKCFrKXRocm93IEVycm9yKCJJbmxpbmUgd29ya2VyIGlzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4gbmV3IElbd10oayxMKX19fSwzODQ6KCk9Pnt9LDk5MzooKT0+e30sOTA4OigpPT57fSw5NTM6KCk9Pnt9LDkyNTooKT0+e30sNDQ5OigpPT57fSwyMDM6KCk9Pnt9LDM4MTooKT0+e30sMjI6KCk9Pnt9fSxiZT17fTtmdW5jdGlvbiBpZShOKXt2YXIgaD1iZVtOXTtpZihoIT09dm9pZCAwKXJldHVybiBoLmV4cG9ydHM7dmFyIHc9YmVbTl09e2V4cG9ydHM6e319O3JldHVybiBzZVtOXS5jYWxsKHcuZXhwb3J0cyx3LHcuZXhwb3J0cyxpZSksdy5leHBvcnRzfXJldHVybiBpZS5uPU49Pnt2YXIgaD1OJiZOLl9fZXNNb2R1bGU/KCk9Pk4uZGVmYXVsdDooKT0+TjtyZXR1cm4gaWUuZChoLHthOmh9KSxofSxpZS5kPShOLGgpPT57Zm9yKHZhciB3IGluIGgpaWUubyhoLHcpJiYhaWUubyhOLHcpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoTix3LHtlbnVtZXJhYmxlOiEwLGdldDpoW3ddfSl9LGllLmc9ZnVuY3Rpb24oKXtpZih0eXBlb2YgZ2xvYmFsVGhpcz09Im9iamVjdCIpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaHtpZih0eXBlb2Ygd2luZG93PT0ib2JqZWN0IilyZXR1cm4gd2luZG93fX0oKSxpZS5vPShOLGgpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoTixoKSxpZS5yPU49Pnt0eXBlb2YgU3ltYm9sIT0idW5kZWZpbmVkIiYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoTixTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxpZSgxOCl9KSgpfSl9KShOZSk7dmFyIHNuPUJlKE5lLmV4cG9ydHMpLHVuPXFlKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OnNufSxbTmUuZXhwb3J0c10pLGNuPWZ1bmN0aW9uKGFlLGhlLHNlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgSW1hZ2VEYXRhO2Nhc2UgMTpyZXR1cm4gbmV3IEltYWdlRGF0YShhZSk7Y2FzZSAyOnJldHVybiBuZXcgSW1hZ2VEYXRhKGFlLGhlKTtkZWZhdWx0OnJldHVybiBuZXcgSW1hZ2VEYXRhKGFlLGhlLHNlKX19O2NsYXNzIGxue2NvbnN0cnVjdG9yKGhlLHNlKXtBdCh0aGlzLCJvcnQiKTtBdCh0aGlzLCJiYXNlVVJMIik7QXQodGhpcywibW9kZWxzIixuZXcgTWFwKTt0aGlzLm9ydD1oZSx0aGlzLmJhc2VVUkw9c2V9YXN5bmMgbG9hZE1vZGVsKGhlKXtjb25zdCBzZT10aGlzLm1vZGVscy5nZXQoaGUpO2lmKHNlKXJldHVybiBzZTt0aGlzLm9ydC5lbnYud2FzbS53YXNtUGF0aHM9YCR7dGhpcy5iYXNlVVJMfWpzL2A7Y29uc3QgYmU9YCR7dGhpcy5iYXNlVVJMfW1vZGVscy91cDJ4LWxhdGVzdC0ke2hlfS5vbm54YCxpZT10aGlzLm9ydC5JbmZlcmVuY2VTZXNzaW9uLmNyZWF0ZShiZSk7cmV0dXJuIHRoaXMubW9kZWxzLnNldChoZSxpZSksaWV9YXN5bmMgcHJlZGljdChoZSxzZSl7dmFyIEY7Y29uc3QgYmU9bmV3IEFycmF5LGllPW5ldyBBcnJheSxOPW5ldyBBcnJheTtmb3IobGV0IG49MDtuPGhlLmRhdGEubGVuZ3RoO24rPTQpYmUucHVzaChoZS5kYXRhW25dKSxpZS5wdXNoKGhlLmRhdGFbbisxXSksTi5wdXNoKGhlLmRhdGFbbisyXSk7Y29uc3QgaD1iZS5jb25jYXQoaWUpLmNvbmNhdChOKSx3PW5ldyBGbG9hdDMyQXJyYXkoMyoyMDAqMjAwKTtmb3IobGV0IG49MDtuPHcubGVuZ3RoO24rKyl3W25dPWhbbl0vMjU1O2NvbnN0IEw9bmV3IHRoaXMub3J0LlRlbnNvcigiZmxvYXQzMiIsdyxbMSwzLDIwMCwyMDBdKSxrPWF3YWl0IHRoaXMubG9hZE1vZGVsKHNlKSxJPXtpbnB1dF8xOkx9LHI9YXdhaXQgay5ydW4oSSksUz1uZXcgVWludDhDbGFtcGVkQXJyYXkoNCo0MDAqNDAwKSx1PXIub3V0cHV0XzEuZGF0YTtmb3IoY29uc3QgbiBvZiBBcnJheSg0KS5rZXlzKCkpZm9yKGxldCB2PTE2ZTQqbixUPW47VDxTLmxlbmd0aDt2KyssVCs9NClTW1RdPShGPXVbdl0pIT1udWxsP0Y6MjU1O3JldHVybiBjbihTLDQwMCw0MDApfX1sZXQgRXQ7b25tZXNzYWdlPWFzeW5jIGFlPT57Y29uc3QgaGU9YWUuZGF0YS5pZCxzZT1hZS5kYXRhLmltYWdlLGJlPWFlLmRhdGEuZGVub2lzZU1vZGVsLGllPWFlLmRhdGEuYmFzZTtFdHx8KEV0PW5ldyBsbih1bixpZSkpO2NvbnN0IE49YXdhaXQgRXQucHJlZGljdChzZSxiZSk7cG9zdE1lc3NhZ2Uoe2lkOmhlLHVwc2NhbGVkOk59KX19KSgpOwo=",c="undefined"!=typeof window&&window.Blob&&new Blob([atob(u)],{type:"text/javascript;charset=utf-8"});function d(){const t=c&&(window.URL||window.webkitURL).createObjectURL(c);try{return t?new Worker(t,{}):new Worker("data:application/javascript;base64,"+u,{type:"module"})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class h{constructor(t){l(this,"options"),l(this,"created_workers",0),l(this,"workers",[]),l(this,"waitingForWorker",[]),this.options=Object.assign(a,t)}async getWorker(){return new Promise((t=>{const e=this.workers.shift();e?t(e):this.waitingForWorker.push(t)}))}putWorker(t){const e=this.waitingForWorker.shift();e?e(t):this.workers.push(t)}terminate(){this.workers.map((t=>t.terminate())),this.workers=[],this.created_workers=0}}class f extends h{constructor(t){super(t)}async upscale(t){this.created_workers<this.options.maxWorkers&&(this.created_workers++,this.workers.push(new p(this.options)));const e=await this.getWorker(),i=await e.upscale(t);return this.putWorker(e),i}}class p extends h{constructor(t){super(t),l(this,"id",0),l(this,"canvas",(0,n.Nw)(0,0)),l(this,"pending",new Map),l(this,"resolve")}onmessage(t){var e;const{id:i,upscaled:n}=t.data;if(!m(n))throw Error("expected upscaled to be an 'ImageData'");const r=this.pending.get(i);if(!r)throw Error("upscaled result is not pending");if(this.canvas.getContext("2d").putImageData(n,r.x,r.y),this.pending.delete(i),0==this.pending.size){const t=this.canvas.getContext("2d").getImageData(0,0,this.canvas.width,this.canvas.height);null==(e=this.resolve)||e.call(this,Promise.resolve(t))}}async upscale(t){return new Promise((e=>{this.resolve=e,this.canvas=(0,n.Nw)(2*t.width,2*t.height),r(t).forEach((async t=>{const e=this.id++;if(this.pending.set(e,t),this.created_workers<this.options.maxInternalWorkers){this.created_workers++;const t=new d;t.onmessage=this.onmessage.bind(this),this.workers.push(t)}const i=await this.getWorker();i.postMessage({id:e,image:t.element.getContext("2d").getImageData(0,0,200,200),denoiseModel:this.options.denoiseModel,base:this.options.base}),this.putWorker(i)}))}))}}const m=t=>{const e=t;return e.width>0&&e.height>0}},7566:function(t,e,i){"use strict";var n=i(6840),r=i(9504),a=i(655),o=i(2812),s=URLSearchParams,l=s.prototype,u=r(l.getAll),c=r(l.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||n(l,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return c(this,t);var n=u(this,t);o(e,1);var r=a(i),s=0;while(s<n.length)if(n[s++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},7629:function(t,e,i){"use strict";var n=i(6395),r=i(4576),a=i(9433),o="__core-js_shared__",s=t.exports=r[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7740:function(t,e,i){"use strict";var n=i(9297),r=i(5031),a=i(7347),o=i(4913);t.exports=function(t,e,i){for(var s=r(e),l=o.f,u=a.f,c=0;c<s.length;c++){var d=s[c];n(t,d)||i&&n(i,d)||l(t,d,u(e,d))}}},7750:function(t,e,i){"use strict";var n=i(4117),r=TypeError;t.exports=function(t){if(n(t))throw new r("Can't call method on "+t);return t}},7751:function(t,e,i){"use strict";var n=i(4576),r=i(4901),a=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t]):n[t]&&n[t][e]}},7793:function(t,e,i){const n=i(126);e.Nw=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})}},8014:function(t,e,i){"use strict";var n=i(1291),r=Math.min;t.exports=function(t){var e=n(t);return e>0?r(e,9007199254740991):0}},8227:function(t,e,i){"use strict";var n=i(4576),r=i(5745),a=i(9297),o=i(3392),s=i(4495),l=i(7040),u=n.Symbol,c=r("wks"),d=l?u["for"]||u:u&&u.withoutSetter||o;t.exports=function(t){return a(c,t)||(c[t]=s&&a(u,t)?u[t]:d("Symbol."+t)),c[t]}},8480:function(t,e,i){"use strict";var n=i(1828),r=i(8727),a=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},8551:function(t,e,i){"use strict";var n=i(34),r=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(r(t)+" is not an object")}},8622:function(t,e,i){"use strict";var n=i(4576),r=i(4901),a=n.WeakMap;t.exports=r(a)&&/native code/.test(String(a))},8686:function(t,e,i){"use strict";var n=i(3724),r=i(9039);t.exports=n&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8721:function(t,e,i){"use strict";var n=i(3724),r=i(9504),a=i(2106),o=URLSearchParams.prototype,s=r(o.forEach);n&&!("size"in o)&&a(o,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8756:function(t,e,i){"use strict";i.r(e),i.d(e,{BaseTransition:function(){return n.pR},BaseTransitionPropsValidators:function(){return n.QP},Comment:function(){return n.Mw},DeprecationTypes:function(){return n.aT},EffectScope:function(){return n.yC},ErrorCodes:function(){return n.tG},ErrorTypeStrings:function(){return n.ZQ},Fragment:function(){return n.FK},KeepAlive:function(){return n.PR},ReactiveEffect:function(){return n.X2},Static:function(){return n.jC},Suspense:function(){return n.tY},Teleport:function(){return n.Im},Text:function(){return n.EY},TrackOpTypes:function(){return n.Ul},Transition:function(){return n.eB},TransitionGroup:function(){return n.F},TriggerOpTypes:function(){return n.PP},VueElement:function(){return n.Vy},assertNumber:function(){return n.U4},callWithAsyncErrorHandling:function(){return n.qL},callWithErrorHandling:function(){return n.gh},camelize:function(){return n.PT},capitalize:function(){return n.ZH},cloneVNode:function(){return n.E3},compatUtils:function(){return n.Y5},compile:function(){return r},computed:function(){return n.EW},createApp:function(){return n.Ef},createBlock:function(){return n.Wv},createCommentVNode:function(){return n.Q3},createElementBlock:function(){return n.CE},createElementVNode:function(){return n.Lk},createHydrationRenderer:function(){return n.ci},createPropsRestProxy:function(){return n.bn},createRenderer:function(){return n.K9},createSSRApp:function(){return n.m1},createSlots:function(){return n.eX},createStaticVNode:function(){return n.Fv},createTextVNode:function(){return n.eW},createVNode:function(){return n.bF},customRef:function(){return n.rY},defineAsyncComponent:function(){return n.$V},defineComponent:function(){return n.pM},defineCustomElement:function(){return n.Xq},defineEmits:function(){return n.qP},defineExpose:function(){return n.wk},defineModel:function(){return n.NP},defineOptions:function(){return n.GM},defineProps:function(){return n.Yj},defineSSRCustomElement:function(){return n.Po},defineSlots:function(){return n.Lu},devtools:function(){return n.lt},effect:function(){return n.QZ},effectScope:function(){return n.uY},getCurrentInstance:function(){return n.nI},getCurrentScope:function(){return n.o5},getCurrentWatcher:function(){return n.Yv},getTransitionRawChildren:function(){return n.Df},guardReactiveProps:function(){return n.Ng},h:function(){return n.h},handleError:function(){return n.H4},hasInjectionContext:function(){return n.PS},hydrate:function(){return n.Qv},hydrateOnIdle:function(){return n.rU},hydrateOnInteraction:function(){return n.Tq},hydrateOnMediaQuery:function(){return n.dA},hydrateOnVisible:function(){return n.Pn},initCustomFormatter:function(){return n.y$},initDirectivesForSSR:function(){return n.Ib},inject:function(){return n.WQ},isMemoSame:function(){return n.Bs},isProxy:function(){return n.ju},isReactive:function(){return n.g8},isReadonly:function(){return n.Tm},isRef:function(){return n.i9},isRuntimeOnly:function(){return n.wX},isShallow:function(){return n.fE},isVNode:function(){return n.vv},markRaw:function(){return n.IG},mergeDefaults:function(){return n.HF},mergeModels:function(){return n.zz},mergeProps:function(){return n.v6},nextTick:function(){return n.dY},normalizeClass:function(){return n.C4},normalizeProps:function(){return n._B},normalizeStyle:function(){return n.Tr},onActivated:function(){return n.n},onBeforeMount:function(){return n.KC},onBeforeUnmount:function(){return n.xo},onBeforeUpdate:function(){return n.Ic},onDeactivated:function(){return n.Y4},onErrorCaptured:function(){return n.qG},onMounted:function(){return n.sV},onRenderTracked:function(){return n.qR},onRenderTriggered:function(){return n.bj},onScopeDispose:function(){return n.jr},onServerPrefetch:function(){return n.SS},onUnmounted:function(){return n.hi},onUpdated:function(){return n.$u},onWatcherCleanup:function(){return n.ch},openBlock:function(){return n.uX},popScopeId:function(){return n.jt},provide:function(){return n.Gt},proxyRefs:function(){return n.Pr},pushScopeId:function(){return n.Qi},queuePostFlushCb:function(){return n.Dl},reactive:function(){return n.Kh},readonly:function(){return n.tB},ref:function(){return n.KR},registerRuntimeCompiler:function(){return n.tC},render:function(){return n.XX},renderList:function(){return n.pI},renderSlot:function(){return n.RG},resolveComponent:function(){return n.g2},resolveDirective:function(){return n.gN},resolveDynamicComponent:function(){return n.$y},resolveFilter:function(){return n.LJ},resolveTransitionHooks:function(){return n.OW},setBlockTracking:function(){return n.Vq},setDevtoolsHook:function(){return n.iD},setTransitionHooks:function(){return n.MZ},shallowReactive:function(){return n.Gc},shallowReadonly:function(){return n.nD},shallowRef:function(){return n.IJ},ssrContextKey:function(){return n.Fw},ssrUtils:function(){return n.Gw},stop:function(){return n.ds},toDisplayString:function(){return n.v_},toHandlerKey:function(){return n.Kf},toHandlers:function(){return n.Tb},toRaw:function(){return n.ux},toRef:function(){return n.lW},toRefs:function(){return n.QW},toValue:function(){return n.BA},transformVNodeArgs:function(){return n.gW},triggerRef:function(){return n.mu},unref:function(){return n.R1},useAttrs:function(){return n.OA},useCssModule:function(){return n.D},useCssVars:function(){return n.$9},useHost:function(){return n.KT},useId:function(){return n.Bi},useModel:function(){return n.fn},useSSRContext:function(){return n.LM},useShadowRoot:function(){return n._U},useSlots:function(){return n.Ht},useTemplateRef:function(){return n.rk},useTransitionState:function(){return n.Gy},vModelCheckbox:function(){return n.lH},vModelDynamic:function(){return n.hp},vModelRadio:function(){return n.XL},vModelSelect:function(){return n.u1},vModelText:function(){return n.Jo},vShow:function(){return n.aG},version:function(){return n.rE},warn:function(){return n.R8},watch:function(){return n.wB},watchEffect:function(){return n.nT},watchPostEffect:function(){return n.p9},watchSyncEffect:function(){return n.U_},withAsyncContext:function(){return n.E},withCtx:function(){return n.k6},withDefaults:function(){return n.rO},withDirectives:function(){return n.bo},withKeys:function(){return n.jR},withMemo:function(){return n.bU},withModifiers:function(){return n.D$},withScopeId:function(){return n.YY}});var n=i(3751);const r=()=>{0}},8773:function(t,e){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},8981:function(t,e,i){"use strict";var n=i(7750),r=Object;t.exports=function(t){return r(n(t))}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},9297:function(t,e,i){"use strict";var n=i(9504),r=i(8981),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(r(t),e)}},9306:function(t,e,i){"use strict";var n=i(4901),r=i(6823),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(r(t)+" is not a function")}},9433:function(t,e,i){"use strict";var n=i(4576),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},9504:function(t,e,i){"use strict";var n=i(616),r=Function.prototype,a=r.call,o=n&&r.bind.bind(a,a);t.exports=n?o:function(t){return function(){return a.apply(t,arguments)}}},9519:function(t,e,i){"use strict";var n,r,a=i(4576),o=i(2839),s=a.process,l=a.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(n=c.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},9565:function(t,e,i){"use strict";var n=i(616),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},9617:function(t,e,i){"use strict";var n=i(5397),r=i(5610),a=i(6198),o=function(t){return function(e,i,o){var s=n(e),l=a(s);if(0===l)return!t&&-1;var u,c=r(o,l);if(t&&i!==i){while(l>c)if(u=s[c++],u!==u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===i)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},9962:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{dK:function(){return Jimp}});var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var i=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(i,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),i}"undefined"==typeof self&&"object"==typeof commonjsGlobal&&(commonjsGlobal.self=commonjsGlobal);var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)lookup[e]=t[e],revLookup[t.charCodeAt(e)]=e;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(t){var e,i,n,r,a,o;inited||init();var s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===t[s-2]?2:"="===t[s-1]?1:0,o=new Arr(3*s/4-a),n=a>0?s-4:s;var l=0;for(e=0,i=0;e<n;e+=4,i+=3)r=revLookup[t.charCodeAt(e)]<<18|revLookup[t.charCodeAt(e+1)]<<12|revLookup[t.charCodeAt(e+2)]<<6|revLookup[t.charCodeAt(e+3)],o[l++]=r>>16&255,o[l++]=r>>8&255,o[l++]=255&r;return 2===a?(r=revLookup[t.charCodeAt(e)]<<2|revLookup[t.charCodeAt(e+1)]>>4,o[l++]=255&r):1===a&&(r=revLookup[t.charCodeAt(e)]<<10|revLookup[t.charCodeAt(e+1)]<<4|revLookup[t.charCodeAt(e+2)]>>2,o[l++]=r>>8&255,o[l++]=255&r),o}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[63&t]}function encodeChunk(t,e,i){for(var n,r=[],a=e;a<i;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],r.push(tripletToBase64(n));return r.join("")}function fromByteArray(t){var e;inited||init();for(var i=t.length,n=i%3,r="",a=[],o=16383,s=0,l=i-n;s<l;s+=o)a.push(encodeChunk(t,s,s+o>l?l:s+o));return 1===n?(e=t[i-1],r+=lookup[e>>2],r+=lookup[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=lookup[e>>10],r+=lookup[e>>4&63],r+=lookup[e<<2&63],r+="="),a.push(r),a.join("")}function read(t,e,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=t[e+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=u}return(f?-1:1)*o*Math.pow(2,a-n)}function write(t,e,i,n,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*l-1)*Math.pow(2,r),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}var toString={}.toString,isArray=Array.isArray||function(t){return"[object Array]"==toString.call(t)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,i){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,i)}function from(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,i,n):"string"==typeof e?fromString(t,e,i):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,i,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==i?"string"==typeof n?createBuffer(t,e).fill(i,n):createBuffer(t,e).fill(i):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function fromString(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!Buffer.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,i),r=(t=createBuffer(t,n)).write(e,i);return r!==n&&(t=t.slice(0,r)),t}function fromArrayLike(t,e){var i=e.length<0?0:0|checked(e.length);t=createBuffer(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e),t}function fromObject(t,e){if(internalIsBuffer(e)){var i=0|checked(e.length);return 0===(t=createBuffer(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function internalIsBuffer(t){return!(null==t||!t._isBuffer)}function byteLength(t,e){if(internalIsBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,i);case"utf8":case"utf-8":return utf8Slice(this,e,i);case"ascii":return asciiSlice(this,e,i);case"latin1":case"binary":return latin1Slice(this,e,i);case"base64":return base64Slice(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function bidirectionalIndexOf(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=Buffer.from(e,n)),internalIsBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,i,n,r);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):arrayIndexOf(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,i,n,r){var a,o=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(a=i;a<s;a++)if(u(t,a)===u(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(i+l>s&&(i=s-l),a=i;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(u(t,a+h)!==u(e,h)){d=!1;break}if(d)return a}return-1}function hexWrite(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[i+o]=s}return o}function utf8Write(t,e,i,n){return blitBuffer(utf8ToBytes(e,t.length-i),t,i,n)}function asciiWrite(t,e,i,n){return blitBuffer(asciiToBytes(e),t,i,n)}function latin1Write(t,e,i,n){return asciiWrite(t,e,i,n)}function base64Write(t,e,i,n){return blitBuffer(base64ToBytes(e),t,i,n)}function ucs2Write(t,e,i,n){return blitBuffer(utf16leToBytes(e,t.length-i),t,i,n)}function base64Slice(t,e,i){return 0===e&&i===t.length?fromByteArray(t):fromByteArray(t.slice(e,i))}function utf8Slice(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var a,o,s,l,u=t[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(a=t[r+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=t[r+1],o=t[r+2],128==(192&a)&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=t[r+1],o=t[r+2],s=t[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return decodeCodePointsArray(n)}Buffer.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,i){return from(null,t,e,i)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(t,e,i){return alloc(null,t,e,i)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=isBuffer,Buffer.compare=function(t,e){if(!internalIsBuffer(t)||!internalIsBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=Buffer.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!internalIsBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!internalIsBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,i,n,r){if(!internalIsBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),s=Math.min(a,o),l=this.slice(n,r),u=t.slice(e,i),c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],o=u[c];break}return a<o?-1:o<a?1:0},Buffer.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},Buffer.prototype.indexOf=function(t,e,i){return bidirectionalIndexOf(this,t,e,i,!0)},Buffer.prototype.lastIndexOf=function(t,e,i){return bidirectionalIndexOf(this,t,e,i,!1)},Buffer.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return hexWrite(this,t,e,i);case"utf8":case"utf-8":return utf8Write(this,t,e,i);case"ascii":return asciiWrite(this,t,e,i);case"latin1":case"binary":return latin1Write(this,t,e,i);case"base64":return base64Write(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return i}function asciiSlice(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function latin1Slice(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function hexSlice(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=e;a<i;++a)r+=toHex(t[a]);return r}function utf16leSlice(t,e,i){for(var n=t.slice(e,i),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function checkOffset(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,i,n,r,a){if(!internalIsBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,a=Math.min(t.length-i,2);r<a;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function objectWriteUInt32(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,a=Math.min(t.length-i,4);r<a;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function checkIEEE754(t,e,i,n,r,a){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function writeFloat(t,e,i,n,r){return r||checkIEEE754(t,e,i,4),write(t,e,i,n,23,4),i+4}function writeDouble(t,e,i,n,r){return r||checkIEEE754(t,e,i,8),write(t,e,i,n,52,8),i+8}Buffer.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=Buffer.prototype;else{var r=e-t;i=new Buffer(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+t]}return i},Buffer.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||checkOffset(t,e,this.length);for(var n=this[t],r=1,a=0;++a<e&&(r*=256);)n+=this[t+a]*r;return n},Buffer.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||checkOffset(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||checkOffset(t,e,this.length);for(var n=this[t],r=1,a=0;++a<e&&(r*=256);)n+=this[t+a]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||checkOffset(t,e,this.length);for(var n=e,r=1,a=this[t+--n];n>0&&(r*=256);)a+=this[t+--n]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*e)),a},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||checkInt(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,a=0;for(this[e]=255&t;++a<i&&(r*=256);)this[e+a]=t/r&255;return e+i},Buffer.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||checkInt(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,a=1;for(this[e+r]=255&t;--r>=0&&(a*=256);)this[e+r]=t/a&255;return e+i},Buffer.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);checkInt(this,t,e,i,r-1,-r)}var a=0,o=1,s=0;for(this[e]=255&t;++a<i&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o|0)-s&255;return e+i},Buffer.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);checkInt(this,t,e,i,r-1,-r)}var a=i-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o|0)-s&255;return e+i},Buffer.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,i){return writeFloat(this,t,e,!0,i)},Buffer.prototype.writeFloatBE=function(t,e,i){return writeFloat(this,t,e,!1,i)},Buffer.prototype.writeDoubleLE=function(t,e,i){return writeDouble(this,t,e,!0,i)},Buffer.prototype.writeDoubleBE=function(t,e,i){return writeDouble(this,t,e,!1,i)},Buffer.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,a=n-i;if(this===t&&i<e&&e<n)for(r=a-1;r>=0;--r)t[r+e]=this[r+i];else if(a<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+a),e);return a},Buffer.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var a;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(a=e;a<i;++a)this[a]=t;else{var o=internalIsBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),s=o.length;for(a=0;a<i-e;++a)this[a+e]=o[a%s]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(t){if((t=stringtrim(t).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var i;e=e||1/0;for(var n=t.length,r=null,a=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;a.push(i)}else if(i<2048){if((e-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function asciiToBytes(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function utf16leToBytes(t,e){for(var i,n,r,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(i=t.charCodeAt(o))>>8,r=i%256,a.push(r),a.push(n);return a}function base64ToBytes(t){return toByteArray(base64clean(t))}function blitBuffer(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function isnan(t){return t!=t}function isBuffer(t){return null!=t&&(!!t._isBuffer||isFastBuffer(t)||isSlowBuffer(t))}function isFastBuffer(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function isSlowBuffer(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&isFastBuffer(t.slice(0,0))}!function(t){t[t.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",t[t.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",t[t.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",t[t.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",t[t.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"}(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(t,e,i,n){const r=1+~t&t,a=1+~e&e,o=1+~i&i,s=1+~n&n,l=t/r+1,u=e/a+1,c=i/o+1,d=n/s+1;return{shiftRed:e=>(e&t)/r*256/l,shiftGreen:t=>(t&e)/a*256/u,shiftBlue:t=>(t&i)/o*256/c,shiftAlpha:0!==n?t=>(t&n)/s*256/d:()=>255}}!function(t){t[t.NONE=0]="NONE",t[t.BI_RLE8=1]="BI_RLE8",t[t.BI_RLE4=2]="BI_RLE4",t[t.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",t[t.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"}(BmpCompression||(BmpCompression={}));class BmpDecoder{flag;fileSize;reserved1;reserved2;offset;headerSize;width;height;planes;bitPP;compression;rawSize;hr;vr;colors;importantColors;palette;data;maskRed;maskGreen;maskBlue;maskAlpha;toRGBA;pos;bottomUp;buffer;locRed;locGreen;locBlue;locAlpha;shiftRed;shiftGreen;shiftBlue;shiftAlpha;constructor(t,{toRGBA:e}={toRGBA:!1}){if(this.buffer=t,this.toRGBA=!!e,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!==this.flag)throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),32===this.bitPP?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):16===this.bitPP&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(let e=0;e<t;e++){const t=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.palette[e]={red:n,green:i,blue:t,quad:r}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const t=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=t.shiftRed,this.shiftGreen=t.shiftGreen,this.shiftBlue=t.shiftBlue,this.shiftAlpha=t.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const t=Math.ceil(this.width/8),e=t%4,i=0!==e?4-e:0;this.scanImage(i,t,((t,e)=>{const i=this.buffer.readUInt8(this.pos++),n=e*this.width*4+8*t*4;for(let r=0;r<8&&8*t+r<this.width;r++){const t=this.palette[i>>7-r&1];this.data[n+r*this.locAlpha]=0,this.data[n+4*r+this.locBlue]=t.blue,this.data[n+4*r+this.locGreen]=t.green,this.data[n+4*r+this.locRed]=t.red}}))}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let t=!1,e=this.bottomUp?this.height-1:0,i=0;for(;i<this.data.length;){const n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(0===n){if(0===r){e+=this.bottomUp?-1:1,i=e*this.width*4,t=!1;continue}if(1===r)break;if(2===r){const t=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);e+=this.bottomUp?-n:n,i+=n*this.width*4+4*t}else{let e=this.buffer.readUInt8(this.pos++);for(let n=0;n<r;n++)i=this.setPixelData(i,t?15&e:(240&e)>>4),1&n&&n+1<r&&(e=this.buffer.readUInt8(this.pos++)),t=!t;1==(r+1>>1&1)&&this.pos++}}else for(let e=0;e<n;e++)i=this.setPixelData(i,t?15&r:(240&r)>>4),t=!t}}else{const t=Math.ceil(this.width/2),e=t%4,i=0!==e?4-e:0;this.scanImage(i,t,((t,e)=>{const i=this.buffer.readUInt8(this.pos++),n=e*this.width*4+2*t*4,r=i>>4;let a=this.palette[r];if(this.data[n]=0,this.data[n+1]=a.blue,this.data[n+2]=a.green,this.data[n+3]=a.red,2*t+1>=this.width)return!1;const o=15&i;a=this.palette[o],this.data[n+4]=0,this.data[n+4+1]=a.blue,this.data[n+4+2]=a.green,this.data[n+4+3]=a.red}))}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let t=this.bottomUp?this.height-1:0,e=0;for(;e<this.data.length;){const i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(0===i){if(0===n){t+=this.bottomUp?-1:1,e=t*this.width*4;continue}if(1===n)break;if(2===n){const i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);t+=this.bottomUp?-n:n,e+=n*this.width*4+4*i}else{for(let t=0;t<n;t++){const t=this.buffer.readUInt8(this.pos++);e=this.setPixelData(e,t)}!0&n&&this.pos++}}else for(let t=0;t<i;t++)e=this.setPixelData(e,n)}}else{const t=this.width%4,e=0!==t?4-t:0;this.scanImage(e,this.width,((t,e)=>{const i=this.buffer.readUInt8(this.pos++),n=e*this.width*4+4*t;if(i<this.palette.length){const t=this.palette[i];this.data[n]=0,this.data[n+1]=t.blue,this.data[n+2]=t.green,this.data[n+3]=t.red}else this.data[n]=0,this.data[n+1]=255,this.data[n+2]=255,this.data[n+3]=255}))}}bit16(){const t=this.width%2*2;this.scanImage(t,this.width,((t,e)=>{const i=e*this.width*4+4*t,n=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[i+this.locRed]=this.shiftRed(n),this.data[i+this.locGreen]=this.shiftGreen(n),this.data[i+this.locBlue]=this.shiftBlue(n),this.data[i+this.locAlpha]=this.shiftAlpha(n)}))}bit24(){const t=this.width%4;this.scanImage(t,this.width,((t,e)=>{const i=e*this.width*4+4*t,n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.data[i+this.locRed]=a,this.data[i+this.locGreen]=r,this.data[i+this.locBlue]=n,this.data[i+this.locAlpha]=0}))}bit32(){this.scanImage(0,this.width,((t,e)=>{const i=e*this.width*4+4*t,n=this.readUInt32LE();this.data[i+this.locRed]=this.shiftRed(n),this.data[i+this.locGreen]=this.shiftGreen(n),this.data[i+this.locBlue]=this.shiftBlue(n),this.data[i+this.locAlpha]=this.shiftAlpha(n)}))}scanImage(t=0,e=this.width,i){for(let n=this.height-1;n>=0;n--){const r=this.bottomUp?n:this.height-1-n;for(let t=0;t<e;t++)if(!1===i.call(this,t,r))return;this.pos+=t}}readUInt32LE(){const t=this.buffer.readUInt32LE(this.pos);return this.pos+=4,t}setPixelData(t,e){const{blue:i,green:n,red:r}=this.palette[e];return this.data[t+this.locAlpha]=0,this.data[t+1+this.locBlue]=i,this.data[t+2+this.locGreen]=n,this.data[t+3+this.locRed]=r,t+4}}function createInteger(t){return t.reduce(((t,e)=>t<<1|e),0)}function createColor(t){return t.quad<<24|t.red<<16|t.green<<8|t.blue}class BmpEncoder{fileSize;reserved1;reserved2;offset;width;flag;height;planes;bitPP;compress;hr;vr;colors;importantColors;rawSize;headerSize;data;palette;extraBytes;buffer;bytesInColor;pos;constructor(t){switch(this.buffer=t.data,this.width=t.width,this.height=t.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=t.bitPP||24,this.offset=54,this.reserved1=t.reserved1||0,this.reserved2=t.reserved2||0,this.planes=1,this.compress=0,this.hr=t.hr||0,this.vr=t.vr||0,this.importantColors=t.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),t.colors||1/0),this.palette=t.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const e=this.width*this.bitPP/32,i=Math.ceil(e);this.extraBytes=4*(i-e),this.rawSize=this.height*i*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&2===this.colors?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let t=[];this.writeImage(((e,i,n)=>{let r=i;r++;const a=this.buffer[r++],o=this.buffer[r++],s=.2126*this.buffer[r++]+.7152*o+.0722*a;return t.push(s>127?0:1),(n+1)%8==0?(this.data[e-1]=createInteger(t),t=[]):n===this.width-1&&t.length>0&&(this.data[e-1]=createInteger(t)<<4,t=[]),r}))}bit4(){const t=this.initColors(4);let e=[];this.writeImage(((i,n,r)=>{let a=n;const o=createColor({quad:this.buffer[a++],blue:this.buffer[a++],green:this.buffer[a++],red:this.buffer[a++]}),s=t.findIndex((t=>t===o));return-1!==s?e.push(s):e.push(0),(r+1)%2==0&&(this.data[i]=e[0]<<4|e[1],e=[]),a}))}bit8(){const t=this.initColors(8);this.writeImage(((e,i)=>{let n=i;const r=createColor({quad:this.buffer[n++],blue:this.buffer[n++],green:this.buffer[n++],red:this.buffer[n++]}),a=t.findIndex((t=>t===r));return this.data[e]=-1!==a?a:0,n}))}bit16(){this.writeImage(((t,e)=>{let i=e+1;const n=this.buffer[i++]/8,r=this.buffer[i++]/8,a=this.buffer[i++]/8<<10|r<<5|n;return this.data[t]=255&a,this.data[t+1]=(65280&a)>>8,i}))}bit24(){this.writeImage(((t,e)=>{let i=e+1;return this.data[t]=this.buffer[i++],this.data[t+1]=this.buffer[i++],this.data[t+2]=this.buffer[i++],i}))}bit32(){this.writeImage(((t,e)=>{let i=e;return this.data[t+3]=this.buffer[i++],this.data[t]=this.buffer[i++],this.data[t+1]=this.buffer[i++],this.data[t+2]=this.buffer[i++],i}))}writeImage(t){const e=this.extraBytes+this.width*this.bytesInColor;let i=0;for(let n=0;n<this.height;n++)for(let r=0;r<this.width;r++){const a=Math.floor(this.pos+(this.height-1-n)*e+r*this.bytesInColor);i=t.call(this,a,i,r,n)}}initColors(t){const e=[];if(!this.palette.length)throw new Error(`To encode ${t}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let i=0;i<this.colors;i++){const t=createColor(this.palette[i]);this.writeUInt32LE(t),e.push(t)}return e}writeUInt32LE(t){this.data.writeUInt32LE(t,this.pos),this.pos+=4}}function decode$2(t,e){return new BmpDecoder(t,e)}function encode$2(t){return new BmpEncoder(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(t,e){if(e=e||{},(t=t||"")instanceof tinycolor)return t;if(!(this instanceof tinycolor))return new tinycolor(t,e);var i=inputToRGB(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function inputToRGB(t){var e={r:0,g:0,b:0},i=1,n=null,r=null,a=null,o=!1,s=!1;return"string"==typeof t&&(t=stringInputToObject(t)),"object"==_typeof(t)&&(isValidCSSUnit(t.r)&&isValidCSSUnit(t.g)&&isValidCSSUnit(t.b)?(e=rgbToRgb(t.r,t.g,t.b),o=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.v)?(n=convertToPercentage(t.s),r=convertToPercentage(t.v),e=hsvToRgb(t.h,n,r),o=!0,s="hsv"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.l)&&(n=convertToPercentage(t.s),a=convertToPercentage(t.l),e=hslToRgb(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=boundAlpha(i),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function rgbToRgb(t,e,i){return{r:255*bound01(t,255),g:255*bound01(e,255),b:255*bound01(i,255)}}function rgbToHsl(t,e,i){t=bound01(t,255),e=bound01(e,255),i=bound01(i,255);var n,r,a=Math.max(t,e,i),o=Math.min(t,e,i),s=(a+o)/2;if(a==o)n=r=0;else{var l=a-o;switch(r=s>.5?l/(2-a-o):l/(a+o),a){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,l:s}}function hslToRgb(t,e,i){var n,r,a;function o(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=bound01(t,360),e=bound01(e,100),i=bound01(i,100),0===e)n=r=a=i;else{var s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;n=o(l,s,t+1/3),r=o(l,s,t),a=o(l,s,t-1/3)}return{r:255*n,g:255*r,b:255*a}}function rgbToHsv(t,e,i){t=bound01(t,255),e=bound01(e,255),i=bound01(i,255);var n,r,a=Math.max(t,e,i),o=Math.min(t,e,i),s=a,l=a-o;if(r=0===a?0:l/a,a==o)n=0;else{switch(a){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,v:s}}function hsvToRgb(t,e,i){t=6*bound01(t,360),e=bound01(e,100),i=bound01(i,100);var n=Math.floor(t),r=t-n,a=i*(1-e),o=i*(1-r*e),s=i*(1-(1-r)*e),l=n%6;return{r:255*[i,o,a,a,s,i][l],g:255*[s,i,i,o,a,a][l],b:255*[a,a,s,i,i,o][l]}}function rgbToHex(t,e,i,n){var r=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function rgbaToHex(t,e,i,n,r){var a=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(i).toString(16)),pad2(convertDecimalToHex(n))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function rgbaToArgbHex(t,e,i,n){return[pad2(convertDecimalToHex(n)),pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(i).toString(16))].join("")}function _desaturate(t,e){e=0===e?0:e||10;var i=tinycolor(t).toHsl();return i.s-=e/100,i.s=clamp01(i.s),tinycolor(i)}function _saturate(t,e){e=0===e?0:e||10;var i=tinycolor(t).toHsl();return i.s+=e/100,i.s=clamp01(i.s),tinycolor(i)}function _greyscale(t){return tinycolor(t).desaturate(100)}function _lighten(t,e){e=0===e?0:e||10;var i=tinycolor(t).toHsl();return i.l+=e/100,i.l=clamp01(i.l),tinycolor(i)}function _brighten(t,e){e=0===e?0:e||10;var i=tinycolor(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-e/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-e/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-e/100*255))),tinycolor(i)}function _darken(t,e){e=0===e?0:e||10;var i=tinycolor(t).toHsl();return i.l-=e/100,i.l=clamp01(i.l),tinycolor(i)}function _spin(t,e){var i=tinycolor(t).toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,tinycolor(i)}function _complement(t){var e=tinycolor(t).toHsl();return e.h=(e.h+180)%360,tinycolor(e)}function polyad(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=tinycolor(t).toHsl(),n=[tinycolor(t)],r=360/e,a=1;a<e;a++)n.push(tinycolor({h:(i.h+a*r)%360,s:i.s,l:i.l}));return n}function _splitcomplement(t){var e=tinycolor(t).toHsl(),i=e.h;return[tinycolor(t),tinycolor({h:(i+72)%360,s:e.s,l:e.l}),tinycolor({h:(i+216)%360,s:e.s,l:e.l})]}function _analogous(t,e,i){e=e||6,i=i||30;var n=tinycolor(t).toHsl(),r=360/i,a=[tinycolor(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,a.push(tinycolor(n));return a}function _monochromatic(t,e){e=e||6;for(var i=tinycolor(t).toHsv(),n=i.h,r=i.s,a=i.v,o=[],s=1/e;e--;)o.push(tinycolor({h:n,s:r,v:a})),a=(a+s)%1;return o}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,i,n=this.toRgb();return t=n.r/255,e=n.g/255,i=n.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=boundAlpha(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=rgbToHsv(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=rgbToHsv(this._r,this._g,this._b),e=Math.round(360*t.h),i=Math.round(100*t.s),n=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=rgbToHsl(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=rgbToHsl(this._r,this._g,this._b),e=Math.round(360*t.h),i=Math.round(100*t.s),n=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return rgbToHex(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return rgbaToHex(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var r=tinycolor(t);i="#"+rgbaToArgbHex(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(t,e){if("object"==_typeof(t)){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:convertToPercentage(t[n]));t=i}return tinycolor(t,e)},tinycolor.equals=function(t,e){return!(!t||!e)&&tinycolor(t).toRgbString()==tinycolor(e).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(t,e,i){i=0===i?0:i||50;var n=tinycolor(t).toRgb(),r=tinycolor(e).toRgb(),a=i/100;return tinycolor({r:(r.r-n.r)*a+n.r,g:(r.g-n.g)*a+n.g,b:(r.b-n.b)*a+n.b,a:(r.a-n.a)*a+n.a})},tinycolor.readability=function(t,e){var i=tinycolor(t),n=tinycolor(e);return(Math.max(i.getLuminance(),n.getLuminance())+.05)/(Math.min(i.getLuminance(),n.getLuminance())+.05)},tinycolor.isReadable=function(t,e,i){var n,r,a=tinycolor.readability(t,e);switch(r=!1,(n=validateWCAG2Parms(i)).level+n.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},tinycolor.mostReadable=function(t,e,i){var n,r,a,o,s=null,l=0;r=(i=i||{}).includeFallbackColors,a=i.level,o=i.size;for(var u=0;u<e.length;u++)(n=tinycolor.readability(t,e[u]))>l&&(l=n,s=tinycolor(e[u]));return tinycolor.isReadable(t,s,{level:a,size:o})||!r?s:(i.includeFallbackColors=!1,tinycolor.mostReadable(t,["#fff","#000"],i))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function boundAlpha(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bound01(t,e){isOnePointZero(t)&&(t="100%");var i=isPercentage(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function clamp01(t){return Math.min(1,Math.max(0,t))}function parseIntFromHex(t){return parseInt(t,16)}function isOnePointZero(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function isPercentage(t){return"string"==typeof t&&-1!=t.indexOf("%")}function pad2(t){return 1==t.length?"0"+t:""+t}function convertToPercentage(t){return t<=1&&(t=100*t+"%"),t}function convertDecimalToHex(t){return Math.round(255*parseFloat(t)).toString(16)}function convertHexToDecimal(t){return parseIntFromHex(t)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(t){return!!matchers.CSS_UNIT.exec(t)}function stringInputToObject(t){t=t.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var e,i=!1;if(names$1[t])t=names$1[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=matchers.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=matchers.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=matchers.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=matchers.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=matchers.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=matchers.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=matchers.hex8.exec(t))?{r:parseIntFromHex(e[1]),g:parseIntFromHex(e[2]),b:parseIntFromHex(e[3]),a:convertHexToDecimal(e[4]),format:i?"name":"hex8"}:(e=matchers.hex6.exec(t))?{r:parseIntFromHex(e[1]),g:parseIntFromHex(e[2]),b:parseIntFromHex(e[3]),format:i?"name":"hex"}:(e=matchers.hex4.exec(t))?{r:parseIntFromHex(e[1]+""+e[1]),g:parseIntFromHex(e[2]+""+e[2]),b:parseIntFromHex(e[3]+""+e[3]),a:convertHexToDecimal(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=matchers.hex3.exec(t))&&{r:parseIntFromHex(e[1]+""+e[1]),g:parseIntFromHex(e[2]+""+e[2]),b:parseIntFromHex(e[3]+""+e[3]),format:i?"name":"hex"}}function validateWCAG2Parms(t){var e,i;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(i=(t.size||"small").toLowerCase())&&"large"!==i&&(i="small"),{level:e,size:i}}function clone(t){const e={width:t.bitmap.width,height:t.bitmap.height,data:Buffer.from(t.bitmap.data)};return new t.constructor(e)}function scan(t,e,i,n,r,a){let o,s,l,u,c;if("function"==typeof e)c=e,o=0,s=0,l=t.bitmap.width,u=t.bitmap.height;else{if(o=e,"number"!=typeof i)throw new Error("y must be a number");if(s=i,"number"!=typeof n)throw new Error("w must be a number");if(l=n,"number"!=typeof r)throw new Error("h must be a number");if(u=r,"function"!=typeof a)throw new Error("cb must be a function");c=a}o=Math.round(o),s=Math.round(s),l=Math.round(l),u=Math.round(u);const d=c.bind(t);for(let h=s;h<s+u;h++)for(let e=o;e<o+l;e++)d(e,h,t.bitmap.width*h+e<<2);return t}function*scanIterator(t,e,i,n,r){e=Math.round(e),i=Math.round(i),n=Math.round(n),r=Math.round(r);for(let a=i;a<i+r;a++)for(let i=e;i<e+n;i++){const e=t.bitmap.width*a+i<<2;yield{x:i,y:a,idx:e,image:t}}}function intToRGBA$1(t){if("number"!=typeof t)throw new Error("i must be a number");const e={r:0,g:0,b:0,a:0};return e.r=Math.floor(t/Math.pow(256,3)),e.g=Math.floor((t-e.r*Math.pow(256,3))/Math.pow(256,2)),e.b=Math.floor((t-e.r*Math.pow(256,3)-e.g*Math.pow(256,2))/Math.pow(256,1)),e.a=Math.floor((t-e.r*Math.pow(256,3)-e.g*Math.pow(256,2)-e.b*Math.pow(256,1))/Math.pow(256,0)),e}function rgbaToInt(t,e,i,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof i||"number"!=typeof n)throw new Error("r, g, b and a must be numbers");if(t<0||t>255)throw new Error("r must be between 0 and 255");if(e<0||e>255)throw new Error("g must be between 0 and 255");if(i<0||i>255)throw new Error("b must be between 0 and 255");if(n<0||n>255)throw new Error("a must be between 0 and 255");let r=255&t;return r<<=8,r|=255&e,r<<=8,r|=255&i,r<<=8,r|=255&n,r>>>=0,r}function colorDiff(t,e){const i=t=>Math.pow(t,2),{max:n}=Math,r="a"in t?t.a:255,a="a"in e?e.a:255;return(n(i(t.r-e.r),i(t.r-e.r-r+a))+n(i(t.g-e.g),i(t.g-e.g-r+a))+n(i(t.b-e.b),i(t.b-e.b-r+a)))/195075}function limit255(t){return t=Math.max(t,0),Math.min(t,255)}function cssColorToHex(t){return"number"==typeof t?t:parseInt(tinycolor(t).toHex8(),16)}function encode$1(t,e={}){return scan({bitmap:t},0,0,t.width,t.height,(function(e,i,n){const r=t.data[n+0],a=t.data[n+1],o=t.data[n+2],s=t.data[n+3];t.data[n+0]=s,t.data[n+1]=o,t.data[n+2]=a,t.data[n+3]=r})),encode$2({...t,...e}).data}function decode$1(t,e){const i=decode$2(t,e);return scan({bitmap:i},0,0,i.width,i.height,(function(t,e,n){const r=i.data[n+1],a=i.data[n+2],o=i.data[n+3];i.data[n+0]=o,i.data[n+1]=a,i.data[n+2]=r,i.data[n+3]=255})),i}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(t,e,i,n){var r=0,a=void 0===(n=void 0===n?{}:n).loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(e<=0||i<=0||e>65535||i>65535)throw new Error("Width/Height invalid.");function s(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var l=0,u=0;if(null!==o){for(var c=s(o);c>>=1;)++l;if(c=1<<l,--l,void 0!==n.background){if((u=n.background)>=c)throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=(null!==o?128:0)|l,t[r++]=u,t[r++]=0,null!==o)for(var d=0,h=o.length;d<h;++d){var f=o[d];t[r++]=f>>16&255,t[r++]=f>>8&255,t[r++]=255&f}if(null!==a){if(a<0||a>65535)throw new Error("Loop count invalid.");t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=0}var p=!1;this.addFrame=function(e,i,n,a,l,u){if(!0===p&&(--r,p=!1),u=void 0===u?{}:u,e<0||i<0||e>65535||i>65535)throw new Error("x/y invalid.");if(n<=0||a<=0||n>65535||a>65535)throw new Error("Width/Height invalid.");if(l.length<n*a)throw new Error("Not enough pixels for the frame size.");var c=!0,d=u.palette;if(null==d&&(c=!1,d=o),null==d)throw new Error("Must supply either a local or global palette.");for(var h=s(d),f=0;h>>=1;)++f;h=1<<f;var m=void 0===u.delay?0:u.delay,b=void 0===u.disposal?0:u.disposal;if(b<0||b>3)throw new Error("Disposal out of range.");var g=!1,y=0;if(void 0!==u.transparent&&null!==u.transparent&&(g=!0,(y=u.transparent)<0||y>=h))throw new Error("Transparent color index.");if((0!==b||g||0!==m)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=b<<2|(!0===g?1:0),t[r++]=255&m,t[r++]=m>>8&255,t[r++]=y,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=!0===c?128|f-1:0,!0===c)for(var Z=0,_=d.length;Z<_;++Z){var v=d[Z];t[r++]=v>>16&255,t[r++]=v>>8&255,t[r++]=255&v}return r=GifWriterOutputLZWCodeStream(t,r,f<2?2:f,l)},this.end=function(){return!1===p&&(t[r++]=59,p=!0),r},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(t){r=t}}function GifWriterOutputLZWCodeStream(t,e,i,n){t[e++]=i;var r=e++,a=1<<i,o=a-1,s=a+1,l=s+1,u=i+1,c=0,d=0;function h(i){for(;c>=i;)t[e++]=255&d,d>>=8,c-=8,e===r+256&&(t[r]=255,r=e++)}function f(t){d|=t<<c,c+=u,h(8)}var p=n[0]&o,m={};f(a);for(var b=1,g=n.length;b<g;++b){var y=n[b]&o,Z=p<<8|y,_=m[Z];if(void 0===_){for(d|=p<<c,c+=u;c>=8;)t[e++]=255&d,d>>=8,c-=8,e===r+256&&(t[r]=255,r=e++);4096===l?(f(a),l=s+1,u=i+1,m={}):(l>=1<<u&&++u,m[Z]=l++),p=y}else p=_}return f(p),f(s),h(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0),e}function GifReader(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,r=t[e++],a=r>>7,o=1<<1+(7&r);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],d=0,h=null,f=0,p=null;for(this.width=i,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(0===V)break;e+=V}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],1&m||(h=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(0===V)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,Z=t[e++]|t[e++]<<8,_=t[e++],v=_>>6&1,w=1<<1+(7&_),S=s,x=l,I=!1;_>>7&&(I=!0,S=e,x=w,e+=3*w);var W=e;for(e++;;){var V;if(!((V=t[e++])>=0))throw Error("Invalid block size");if(0===V)break;e+=V}c.push({x:b,y:g,width:y,height:Z,has_local_palette:I,palette_offset:S,palette_size:x,data_offset:W,data_length:e-W,transparent_index:h,interlaced:!!v,delay:d,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,n){var r=this.frameInfo(e),a=r.width*r.height,o=new Uint8Array(a);GifReaderLZWOutputIndexStream(t,r.data_offset,o,a);var s=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var u=r.width,c=i-u,d=u,h=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=h,m=4*c;!0===r.interlaced&&(m+=4*i*7);for(var b=8,g=0,y=o.length;g<y;++g){var Z=o[g];if(0===d&&(d=u,(p+=m)>=f&&(m=4*c+4*i*(b-1),p=h+(u+c)*(b<<1),b>>=1)),Z===l)p+=4;else{var _=t[s+3*Z],v=t[s+3*Z+1],w=t[s+3*Z+2];n[p++]=w,n[p++]=v,n[p++]=_,n[p++]=255}--d}},this.decodeAndBlitFrameRGBA=function(e,n){var r=this.frameInfo(e),a=r.width*r.height,o=new Uint8Array(a);GifReaderLZWOutputIndexStream(t,r.data_offset,o,a);var s=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var u=r.width,c=i-u,d=u,h=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=h,m=4*c;!0===r.interlaced&&(m+=4*i*7);for(var b=8,g=0,y=o.length;g<y;++g){var Z=o[g];if(0===d&&(d=u,(p+=m)>=f&&(m=4*c+4*i*(b-1),p=h+(u+c)*(b<<1),b>>=1)),Z===l)p+=4;else{var _=t[s+3*Z],v=t[s+3*Z+1],w=t[s+3*Z+2];n[p++]=_,n[p++]=v,n[p++]=w,n[p++]=255}--d}}}function GifReaderLZWOutputIndexStream(t,e,i,n){for(var r=t[e++],a=1<<r,o=a+1,s=o+1,l=r+1,u=(1<<l)-1,c=0,d=0,h=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==f;)d|=t[e++]<<c,c+=8,1===f?f=t[e++]:--f;if(c<l)break;var b=d&u;if(d>>=l,c-=l,b!==a){if(b===o)break;for(var g=b<s?b:m,y=0,Z=g;Z>a;)Z=p[Z]>>8,++y;var _=Z;if(h+y+(g!==b?1:0)>n)return;i[h++]=_;var v=h+=y;for(g!==b&&(i[h++]=_),Z=g;y--;)Z=p[Z],i[--v]=255&Z,Z>>=8;null!==m&&s<4096&&(p[s++]=m<<8|_,s>=u+1&&l<12&&(++l,u=u<<1|1)),m=b}else s=o+1,u=(1<<(l=r+1))-1,m=null}return i}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch(e){}let BitmapImage$2=class t{constructor(...e){if(0===e.length)throw new Error("constructor requires parameters");const i=e[0];if(null!==i&&"object"==typeof i)if(i instanceof t){const t=i.bitmap;this.bitmap={width:t.width,height:t.height,data:new Buffer(t.width*t.height*4)},t.data.copy(this.bitmap.data)}else{if(!(i.width&&i.height&&i.data))throw new Error("unrecognized constructor parameters");this.bitmap=i}else{if("number"!=typeof i||"number"!=typeof e[1])throw new Error("unrecognized constructor parameters");{const t=i,n=e[1],r=e[2];this.bitmap={width:t,height:n},Buffer.isBuffer(r)?this.bitmap.data=r:(this.bitmap.data=new Buffer(t*n*4),"number"==typeof r&&this.fillRGBA(r))}}}blit(t,e,i,n,r,a,o){if(n+a>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(e+a>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(r+o>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(i+o>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const s=this.bitmap.data,l=t.bitmap.data,u=4*this.bitmap.width,c=4*t.bitmap.width,d=4*a;let h=r*u+4*n,f=i*c+4*e;for(;--o>=0;)s.copy(l,f,h,h+d),h+=u,f+=c;return this}fillRGBA(t){const e=this.bitmap.data,i=4*this.bitmap.height;let n=0;for(;n<i;)e.writeUInt32BE(t,n),n+=4;for(;n<e.length;)e.copy(e,n,0,i),n+=i;return this}getRGBA(t,e){const i=4*(e*this.bitmap.width+t);return this.bitmap.data.readUInt32BE(i)}getRGBASet(){const t=new Set,e=this.bitmap.data;for(let i=0;i<e.length;i+=4)t.add(e.readUInt32BE(i,!0));return t}greyscale(){const t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,((e,i,n)=>{const r=Math.round(.299*t[n]+.587*t[n+1]+.114*t[n+2]);t[n]=r,t[n+1]=r,t[n+2]=r})),this}reframe(e,i,n,r,a){const o=e<0?0:e,s=i<0?0:i,l=n+o>this.bitmap.width?this.bitmap.width-o:n,u=r+s>this.bitmap.height?this.bitmap.height-s:r,c=e<0?-e:0,d=i<0?-i:0;let h;if(void 0===a){if(o!==e||s!=i||l!==n||u!==r)throw new GifError("fillRGBA required for this reframing");h=new t(n,r)}else h=new t(n,r,a);return this.blit(h,c,d,o,s,l,u),this.bitmap=h.bitmap,this}scale(t){if(1===t)return;if(!Number.isInteger(t)||t<1)throw new Error("the scale must be an integer >= 1");const e=this.bitmap.width,i=this.bitmap.height,n=e*t*4,r=this.bitmap.data,a=new Buffer(i*n*t);let o,s=0,l=0;for(let u=0;u<i;++u){o=l;for(let i=0;i<e;++i){const e=r.readUInt32BE(s,!0);for(let i=0;i<t;++i)a.writeUInt32BE(e,l),l+=4;s+=4}for(let e=1;e<t;++e)a.copy(a,l,o,l),l+=n,o+=n}return this.bitmap={width:e*t,height:i*t,data:a},this}scanAllCoords(t){const e=this.bitmap.width,i=this.bitmap.data.length;let n=0,r=0;for(let a=0;a<i;a+=4)t(n,r,a),++n===e&&(n=0,++r)}scanAllIndexes(t){const e=this.bitmap.data.length;for(let i=0;i<e;i+=4)t(i)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(t,e,i){this.width=i.width,this.height=i.height,this.loops=i.loops,this.usesTransparency=i.usesTransparency,this.colorScope=i.colorScope,this.frames=e,this.buffer=t}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(t){super(t),t instanceof Error&&(this.stack="Gif"+t.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(t,e,i)=>e in t?__defProp$3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__markAsModule=t=>__defProp$3(t,"__esModule",{value:!0}),__export$1=(t,e)=>{for(var i in e)__defProp$3(t,i,{get:e[i],enumerable:!0})},__reExport=(t,e,i,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of __getOwnPropNames(e))!__hasOwnProp.call(t,r)&&i&&__defProp$3(t,r,{get:()=>e[r],enumerable:!(n=__getOwnPropDesc(e,r))||n.enumerable});return t},__toCommonJS=(t=>(e,i)=>t&&t.get(e)||(i=__reExport(__markAsModule({}),e,1),t&&t.set(e,i),i))("undefined"!=typeof WeakMap?new WeakMap:0),__publicField$3=(t,e,i)=>(__defNormalProp$3(t,"symbol"!=typeof e?e+"":e,i),i),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(t=>(t[t.RED=.2126]="RED",t[t.GREEN=.7152]="GREEN",t[t.BLUE=.0722]="BLUE",t[t.WHITE=1]="WHITE",t))(Y$1||{}),x$2=(t=>(t[t.RED=.64]="RED",t[t.GREEN=.3]="GREEN",t[t.BLUE=.15]="BLUE",t[t.WHITE=.3127]="WHITE",t))(x$2||{}),y$2=(t=>(t[t.RED=.33]="RED",t[t.GREEN=.6]="GREEN",t[t.BLUE=.06]="BLUE",t[t.WHITE=.329]="WHITE",t))(y$2||{}),conversion_exports$1={};function correctGamma$1(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function rgb2xyz$1(t,e,i){return{x:.4124*(t=correctGamma$1(t/255))+.3576*(e=correctGamma$1(e/255))+.1805*(i=correctGamma$1(i/255)),y:.2126*t+.7152*e+.0722*i,z:.0193*t+.1192*e+.9505*i}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(t){return t*(Math.PI/180)}function max3$1(t,e,i){let n=t;return n<e&&(n=e),n<i&&(n=i),n}function min3$1(t,e,i){let n=t;return n>e&&(n=e),n>i&&(n=i),n}function intInRange$1(t,e,i){return t>i&&(t=i),t<e&&(t=e),0|t}function inRange0to255Rounded$1(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t}function inRange0to255$1(t){return t>255?t=255:t<0&&(t=0),t}function stableSort$1(t,e){const i=typeof t[0];let n;if("number"===i||"string"===i){const i=Object.create(null);for(let e=0,n=t.length;e<n;e++){const n=t[e];i[n]||0===i[n]||(i[n]=e)}n=t.sort(((t,n)=>e(t,n)||i[t]-i[n]))}else{const i=t.slice(0);n=t.sort(((t,n)=>e(t,n)||i.indexOf(t)-i.indexOf(n)))}return n}function rgb2hsl$1(t,e,i){const n=min3$1(t,e,i),r=max3$1(t,e,i),a=r-n,o=(n+r)/510;let s=0;o>0&&o<1&&(s=a/(o<.5?r+n:510-r-n));let l=0;return a>0&&(l=r===t?(e-i)/a:r===e?2+(i-t)/a:4+(t-e)/a,l*=60,l<0&&(l+=360)),{h:l,s:s,l:o}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(t){return t>.008856?t**(1/3):7.787*t+16/116}function xyz2lab$1(t,e,i){if(t=pivot$1(t/refX$1),e=pivot$1(e/refY$1),i=pivot$1(i/refZ$1),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-i)}}function rgb2lab$1(t,e,i){const n=rgb2xyz$1(t,e,i);return xyz2lab$1(n.x,n.y,n.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(t){return t>.206893034?t**3:(t-16/116)/7.787}function lab2xyz$1(t,e,i){const n=(t+16)/116,r=n-i/200;return{x:refX2$1*pivot2$1(e/500+n),y:refY2$1*pivot2$1(n),z:refZ2$1*pivot2$1(r)}}function correctGamma2$1(t){return t>.0031308?1.055*t**(1/2.4)-.055:12.92*t}function xyz2rgb$1(t,e,i){const n=correctGamma2$1(3.2406*t+-1.5372*e+-.4986*i),r=correctGamma2$1(-.9689*t+1.8758*e+.0415*i),a=correctGamma2$1(.0557*t+-.204*e+1.057*i);return{r:inRange0to255Rounded$1(255*n),g:inRange0to255Rounded$1(255*r),b:inRange0to255Rounded$1(255*a)}}function lab2rgb$1(t,e,i){const n=lab2xyz$1(t,e,i);return xyz2rgb$1(n.x,n.y,n.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(t,e,i,n){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:i>0?255/i:0,a:n>0?255/n:0},this._maxDistance=this.calculateRaw(t,e,i,n,0,0,0,0)}calculateNormalized(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(t,e,i,n,r,a,o,s){const l=rgb2lab$1(inRange0to255$1(t*this._whitePoint.r),inRange0to255$1(e*this._whitePoint.g),inRange0to255$1(i*this._whitePoint.b)),u=rgb2lab$1(inRange0to255$1(r*this._whitePoint.r),inRange0to255$1(a*this._whitePoint.g),inRange0to255$1(o*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,h=l.b-u.b,f=Math.sqrt(l.a*l.a+l.b*l.b),p=f-Math.sqrt(u.a*u.a+u.b*u.b);let m=d*d+h*h-p*p;m=m<0?0:Math.sqrt(m);const b=(s-n)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*f))**2+(m/(1+this._K2*f))**2+b**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(t,e){const i=Math.atan2(t,e);return i>=0?i:i+_CIEDE2000$1._deg360InRad}static _calculateRT(t,e){const i=e**7,n=2*Math.sqrt(i/(i+_CIEDE2000$1._pow25to7)),r=_CIEDE2000$1._deg30InRad*Math.exp(-(((t-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*r)*n}static _calculateT(t){return 1-.17*Math.cos(t-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*t-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(t,e,i,n){const r=i+n;return 0===t?r:e<=_CIEDE2000$1._deg180InRad?r/2:r<_CIEDE2000$1._deg360InRad?(r+_CIEDE2000$1._deg360InRad)/2:(r-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(t,e,i,n){let r;return r=0===t?0:e<=_CIEDE2000$1._deg180InRad?i-n:i<=n?i-n+_CIEDE2000$1._deg360InRad:i-n-_CIEDE2000$1._deg360InRad,2*Math.sqrt(t)*Math.sin(r/2)}calculateRaw(t,e,i,n,r,a,o,s){const l=rgb2lab$1(inRange0to255$1(t*this._whitePoint.r),inRange0to255$1(e*this._whitePoint.g),inRange0to255$1(i*this._whitePoint.b)),u=rgb2lab$1(inRange0to255$1(r*this._whitePoint.r),inRange0to255$1(a*this._whitePoint.g),inRange0to255$1(o*this._whitePoint.b)),c=(s-n)*this._whitePoint.a*_CIEDE2000$1._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(t,e){const i=t.L,n=t.a,r=t.b,a=e.L,o=e.a,s=e.b,l=((Math.sqrt(n*n+r*r)+Math.sqrt(o*o+s*s))/2)**7,u=.5*(1-Math.sqrt(l/(l+_CIEDE2000$1._pow25to7))),c=(1+u)*n,d=(1+u)*o,h=Math.sqrt(c*c+r*r),f=Math.sqrt(d*d+s*s),p=h*f,m=_CIEDE2000$1._calculatehp(r,c),b=_CIEDE2000$1._calculatehp(s,d),g=Math.abs(m-b),y=a-i,Z=f-h,_=_CIEDE2000$1._calculate_dHp(p,g,b,m),v=_CIEDE2000$1._calculate_ahp(p,g,m,b),w=(h+f)/2,S=((i+a)/2-50)**2,x=Z/(1+.045*w),I=_/(1+.015*_CIEDE2000$1._calculateT(v)*w);return(y/(1+.015*S/Math.sqrt(20+S)))**2+x**2+I**2+_CIEDE2000$1._calculateRT(v,w)*x*I}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(t,e,i,n,r,a,o,s){const l=(t+r)/2*this._whitePoint.r,u=(t-r)*this._whitePoint.r,c=(e-a)*this._whitePoint.g,d=(i-o)*this._whitePoint.b,h=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),f=(s-n)*this._whitePoint.a;return Math.sqrt(h+f*f)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(t,e,i,n,r,a,o,s){const l=r-t,u=a-e,c=o-i,d=s-n;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(t,e,i,n,r,a,o,s){let l=r-t,u=a-e,c=o-i,d=s-n;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(t,e,i,n,r,a,o,s){const l=(s-n)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,r*this._whitePoint.r,l)+this._colordifferenceCh(e*this._whitePoint.g,a*this._whitePoint.g,l)+this._colordifferenceCh(i*this._whitePoint.b,o*this._whitePoint.b,l)}_colordifferenceCh(t,e,i){const n=t-e,r=n+i;return n*n+r*r}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const t of this.quantize())if(t.palette)return t.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(t){const e=new Point$1;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e}static createByRGBA(t,e,i,n){const r=new Point$1;return r.r=0|t,r.g=0|e,r.b=0|i,r.a=0|n,r._loadUINT32(),r._loadQuadruplet(),r}static createByUint32(t){const e=new Point$1;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e}from(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a}getLuminosity(t){let e=this.r,i=this.g,n=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),i=Math.min(255,255-this.a+this.a*i/255),n=Math.min(255,255-this.a+this.a*n/255)),.2126*e+.7152*i+.0722*n}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}getPointArray(){return this._pointArray}clone(){const t=new PointContainer$1;t._width=this._width,t._height=this._height;for(let e=0,i=this._pointArray.length;e<i;e++)t._pointArray[e]=Point$1.createByUint32(0|this._pointArray[e].uint32);return t}toUint32Array(){const t=this._pointArray.length,e=new Uint32Array(t);for(let i=0;i<t;i++)e[i]=this._pointArray[i].uint32;return e}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(t){const e=t.naturalWidth,i=t.naturalHeight,n=document.createElement("canvas");return n.width=e,n.height=i,n.getContext("2d").drawImage(t,0,0,e,i,0,0,e,i),PointContainer$1.fromHTMLCanvasElement(n)}static fromHTMLCanvasElement(t){const e=t.width,i=t.height,n=t.getContext("2d").getImageData(0,0,e,i);return PointContainer$1.fromImageData(n)}static fromImageData(t){const e=t.width,i=t.height;return PointContainer$1.fromUint8Array(t.data,e,i)}static fromUint8Array(t,e,i){switch(Object.prototype.toString.call(t)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:t=new Uint8Array(t)}const n=new Uint32Array(t.buffer);return PointContainer$1.fromUint32Array(n,e,i)}static fromUint32Array(t,e,i){const n=new PointContainer$1;n._width=e,n._height=i;for(let r=0,a=t.length;r<a;r++)n._pointArray[r]=Point$1.createByUint32(0|t[r]);return n}static fromBuffer(t,e,i){const n=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(n,e,i)}},hueGroups$1=10;function hueGroup$1(t,e){const i=360/e;for(let n=1,r=i-i/2;n<e;n++,r+=i)if(t>=r&&t<r+i)return n;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)}has(t){for(let e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1}getNearestColor(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1}_getNearestIndex(t,e){let i=this._nearestPointFromCache(""+e.uint32);if(i>=0)return i;let n=Number.MAX_VALUE;i=0;for(let r=0,a=this._pointArray.length;r<a;r++){const a=this._pointArray[r],o=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);o<n&&(n=o,i=r)}return this._i32idx[e.uint32]=i,i}sort(){this._i32idx={},this._pointArray.sort(((t,e)=>{const i=rgb2hsl$1(t.r,t.g,t.b),n=rgb2hsl$1(e.r,e.g,e.b),r=t.r===t.g&&t.g===t.b?0:1+hueGroup$1(i.h,hueGroups$1),a=(e.r===e.g&&e.g===e.b?0:1+hueGroup$1(n.h,hueGroups$1))-r;if(a)return-a;const o=t.getLuminosity(!0),s=e.getLuminosity(!0);if(s-o!=0)return s-o;const l=(100*n.s|0)-(100*i.s|0);return l?-l:0}))}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(t,e){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=t,this._minCols=e,this._stats=[];for(let i=0;i<=t;i++)this._stats[i]=new HueGroup$1;this._groupsFull=0}check(t){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const e=255&t,i=t>>>8&255,n=t>>>16&255,r=e===i&&i===n?0:1+hueGroup$1(rgb2hsl$1(e,i,n).h,this._numGroups),a=this._stats[r],o=this._minCols;a.num++,a.num>o||(a.num===o&&this._groupsFull++,a.num<=o&&this._stats[r].cols.push(t))}injectIntoDictionary(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((e=>{t[e]?t[e]++:t[e]=1}))}injectIntoArray(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((e=>{-1===t.indexOf(e)&&t.push(e)}))}},_ProgressTracker$1=class{constructor(t,e){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(t){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(t,e,i,n){this.r-=0|t,this.g-=0|e,this.b-=0|i,this.a-=0|n}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(t,e=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new Neuron$1((t<<networkBiasShift$1+8)/this._networkSize|0),this._freq[t]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<_NeuQuant$1._minpicturebytes&&(t=1);const i=30+(t-1)/3|0,n=e/t|0;let r,a=n/_NeuQuant$1._nCycles|0,o=_NeuQuant$1._initAlpha,s=(this._networkSize>>3)*_NeuQuant$1._radiusBias,l=s>>_NeuQuant$1._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=o*((l*l-c*c)*_NeuQuant$1._radBias/(l*l))>>>0;r=e<_NeuQuant$1._minpicturebytes?1:e%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:e%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:e%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const u=new ProgressTracker$1(n,99);for(let c=0,d=0;c<n;){u.shouldNotify(c)&&(yield{progress:u.progress});const t=this._pointArray[d],n=t.b<<networkBiasShift$1,h=t.g<<networkBiasShift$1,f=t.r<<networkBiasShift$1,p=t.a<<networkBiasShift$1,m=this._contest(n,h,f,p);if(this._alterSingle(o,m,n,h,f,p),0!==l&&this._alterNeighbour(l,m,n,h,f,p),d+=r,d>=e&&(d-=e),c++,0===a&&(a=1),c%a==0){o-=o/i|0,s-=s/_NeuQuant$1._radiusDecrease|0,l=s>>_NeuQuant$1._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=o*((l*l-t*t)*_NeuQuant$1._radBias/(l*l))>>>0}}}_buildPalette(){const t=new Palette$1;return this._network.forEach((e=>{t.add(e.toPoint())})),t.sort(),t}_alterNeighbour(t,e,i,n,r,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let l=e+1,u=e-1,c=1;for(;l<s||u>o;){const t=this._radPower[c++]/_NeuQuant$1._alphaRadBias;if(l<s){const e=this._network[l++];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}if(u>o){const e=this._network[u--];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}}}_alterSingle(t,e,i,n,r,a){t/=_NeuQuant$1._initAlpha;const o=this._network[e];o.subtract(t*(o.r-r),t*(o.g-n),t*(o.b-i),t*(o.a-a))}_contest(t,e,i,n){const r=1020<<networkBiasShift$1;let a=~(1<<31),o=a,s=-1,l=s;for(let u=0;u<this._networkSize;u++){const c=this._network[u],d=this._distance.calculateNormalized(c,{r:i,g:e,b:t,a:n})*r|0;d<a&&(a=d,s=u);const h=d-(this._bias[u]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);h<o&&(o=h,l=u);const f=this._freq[u]>>_NeuQuant$1._betaShift;this._freq[u]-=f,this._bias[u]+=f<<_NeuQuant$1._gammaShift}return this._freq[s]+=_NeuQuant$1._beta,this._bias[s]-=_NeuQuant$1._betaGamma,l}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(t){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(t,e,i,n){this.r-=t,this.g-=e,this.b-=i,this.a-=n}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(t,e=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new NeuronFloat$1((t<<networkBiasShift2$1+8)/this._networkSize),this._freq[t]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<_NeuQuantFloat$1._minpicturebytes&&(t=1);const i=30+(t-1)/3,n=e/t;let r,a=n/_NeuQuantFloat$1._nCycles|0,o=_NeuQuantFloat$1._initAlpha,s=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,l=s>>_NeuQuantFloat$1._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=o*((l*l-c*c)*_NeuQuantFloat$1._radBias/(l*l));r=e<_NeuQuantFloat$1._minpicturebytes?1:e%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:e%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:e%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const u=new ProgressTracker$1(n,99);for(let c=0,d=0;c<n;){u.shouldNotify(c)&&(yield{progress:u.progress});const t=this._pointArray[d],n=t.b<<networkBiasShift2$1,h=t.g<<networkBiasShift2$1,f=t.r<<networkBiasShift2$1,p=t.a<<networkBiasShift2$1,m=this._contest(n,h,f,p);if(this._alterSingle(o,m,n,h,f,p),0!==l&&this._alterNeighbour(l,m,n,h,f,p),d+=r,d>=e&&(d-=e),c++,0===a&&(a=1),c%a==0){o-=o/i,s-=s/_NeuQuantFloat$1._radiusDecrease,l=s>>_NeuQuantFloat$1._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=o*((l*l-t*t)*_NeuQuantFloat$1._radBias/(l*l))}}}_buildPalette(){const t=new Palette$1;return this._network.forEach((e=>{t.add(e.toPoint())})),t.sort(),t}_alterNeighbour(t,e,i,n,r,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let l=e+1,u=e-1,c=1;for(;l<s||u>o;){const t=this._radPower[c++]/_NeuQuantFloat$1._alphaRadBias;if(l<s){const e=this._network[l++];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}if(u>o){const e=this._network[u--];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}}}_alterSingle(t,e,i,n,r,a){t/=_NeuQuantFloat$1._initAlpha;const o=this._network[e];o.subtract(t*(o.r-r),t*(o.g-n),t*(o.b-i),t*(o.a-a))}_contest(t,e,i,n){const r=1020<<networkBiasShift2$1;let a=~(1<<31),o=a,s=-1,l=s;for(let u=0;u<this._networkSize;u++){const c=this._network[u],d=this._distance.calculateNormalized(c,{r:i,g:e,b:t,a:n})*r;d<a&&(a=d,s=u);const h=d-(this._bias[u]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);h<o&&(o=h,l=u);const f=this._freq[u]>>_NeuQuantFloat$1._betaShift;this._freq[u]-=f,this._bias[u]+=f<<_NeuQuantFloat$1._gammaShift}return this._freq[s]+=_NeuQuantFloat$1._beta,this._bias[s]-=_NeuQuantFloat$1._betaGamma,l}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(t,e){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}}getImportanceSortedColorsIDXI32(){const t=stableSort$1(Object.keys(this._histogram),((t,e)=>this._histogram[e]-this._histogram[t]));if(0===t.length)return[];let e;switch(this._method){case 1:const i=Math.min(t.length,this._initColors),n=t[i-1],r=this._histogram[n];e=t.slice(0,i);let a=i;const o=t.length;for(;a<o&&this._histogram[t[a]]===r;)e.push(t[a++]);this._hueStats.injectIntoArray(e);break;case 2:e=t;break;default:throw new Error("Incorrect method")}return e.map((t=>+t))}_colorStats1D(t){const e=this._histogram,i=t.getPointArray(),n=i.length;for(let r=0;r<n;r++){const t=i[r].uint32;this._hueStats.check(t),t in e?e[t]++:e[t]=1}}_colorStats2D(t){const e=t.getWidth(),i=t.getHeight(),n=t.getPointArray(),r=_ColorHistogram$1._boxSize[0],a=_ColorHistogram$1._boxSize[1],o=r*a,s=this._makeBoxes(e,i,r,a),l=this._histogram;s.forEach((t=>{let i=Math.round(t.w*t.h/o)*_ColorHistogram$1._boxPixels;i<2&&(i=2);const r={};this._iterateBox(t,e,(t=>{const e=n[t].uint32;this._hueStats.check(e),e in l?l[e]++:e in r?++r[e]>=i&&(l[e]=r[e]):r[e]=1}))})),this._hueStats.injectIntoDictionary(l)}_iterateBox(t,e,i){const n=t,r=n.y*e+n.x,a=(n.y+n.h-1)*e+(n.x+n.w-1),o=e-n.w+1;let s=0,l=r;do{i.call(this,l),l+=++s%n.w==0?o:1}while(l<=a)}_makeBoxes(t,e,i,n){const r=t%i,a=e%n,o=t-r,s=e-a,l=[];for(let u=0;u<e;u+=n)for(let e=0;e<t;e+=i)l.push({x:e,y:u,w:e===o?r:i,h:u===s?a:n});return l}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(t,e,i){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=t,this.color=e,this.distance=i}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(t,e=256,i=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=t,this._colors=e,this._histogram=new ColorHistogram$1(i,e),this._initialDistance=.01,this._distanceIncrement=.005}sample(t){this._histogram.sample(t)}*quantize(){const t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw new Error("No colors in image");yield*this._buildPalette(t)}*_buildPalette(t){const e=new Palette$1,i=e.getPointContainer().getPointArray(),n=new Array(t.length);for(let c=0;c<t.length;c++)i.push(Point$1.createByUint32(t[c])),n[c]=1;const r=i.length,a=[];let o=r,s=this._initialDistance;const l=new ProgressTracker$1(o-this._colors,99);for(;o>this._colors;){a.length=0;for(let t=0;t<r;t++){if(l.shouldNotify(r-o)&&(yield{progress:l.progress}),0===n[t])continue;const e=i[t];for(let l=t+1;l<r;l++){if(0===n[l])continue;const t=i[l],r=this._distance.calculateNormalized(e,t);r<s&&(a.push(new RemovedColor$1(l,t,r)),n[l]=0,o--)}}s+=o>3*this._colors?this._initialDistance:this._distanceIncrement}if(o<this._colors){stableSort$1(a,((t,e)=>e.distance-t.distance));let t=0;for(;o<this._colors&&t<a.length;)n[a[t].index]=1,o++,t++}let u=i.length;for(let c=u-1;c>=0;c--)0===n[c]&&(c!==u-1&&(i[c]=i[u-1]),--u);i.length=u,e.sort(),yield{palette:e,progress:100}}};function createArray1D$1(t){const e=[];for(let i=0;i<t;i++)e[i]=0;return e}function createArray4D$1(t,e,i,n){const r=new Array(t);for(let a=0;a<t;a++){r[a]=new Array(e);for(let t=0;t<e;t++){r[a][t]=new Array(i);for(let e=0;e<i;e++){r[a][t][e]=new Array(n);for(let i=0;i<n;i++)r[a][t][e][i]=0}}}return r}function createArray3D$1(t,e,i){const n=new Array(t);for(let r=0;r<t;r++){n[r]=new Array(e);for(let t=0;t<e;t++){n[r][t]=new Array(i);for(let e=0;e<i;e++)n[r][t][e]=0}}return n}function fillArray3D$1(t,e,i,n,r){for(let a=0;a<e;a++){t[a]=[];for(let e=0;e<i;e++){t[a][e]=[];for(let i=0;i<n;i++)t[a][e][i]=r}}}function fillArray1D$1(t,e,i){for(let n=0;n<e;n++)t[n]=i}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(t,e=256,i=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=t,this._setQuality(i),this._initialize(e)}sample(t){const e=t.getPointArray();for(let i=0,n=e.length;i<n;i++)this._addColor(e[i]);this._pixels=this._pixels.concat(e)}*quantize(){yield*this._preparePalette();const t=new Palette$1;for(let e=0;e<this._colors;e++)if(this._sums[e]>0){const i=this._sums[e],n=this._reds[e]/i,r=this._greens[e]/i,a=this._blues[e]/i,o=this._alphas[e]/i,s=Point$1.createByRGBA(0|n,0|r,0|a,0|o);t.add(s)}t.sort(),yield{palette:t,progress:100}}*_preparePalette(){yield*this._calculateMoments();let t=0;const e=createArray1D$1(this._colors);for(let o=1;o<this._colors;++o){this._cut(this._cubes[t],this._cubes[o])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[o]=this._cubes[o].volume>1?this._calculateVariance(this._cubes[o]):0):(e[t]=0,o--),t=0;let i=e[0];for(let n=1;n<=o;++n)e[n]>i&&(i=e[n],t=n);if(i<=0){this._colors=o+1;break}}const i=[],n=[],r=[],a=[];for(let o=0;o<this._colors;++o){const t=_WuQuant$1._volume(this._cubes[o],this._weights);t>0?(i[o]=_WuQuant$1._volume(this._cubes[o],this._momentsRed)/t|0,n[o]=_WuQuant$1._volume(this._cubes[o],this._momentsGreen)/t|0,r[o]=_WuQuant$1._volume(this._cubes[o],this._momentsBlue)/t|0,a[o]=_WuQuant$1._volume(this._cubes[o],this._momentsAlpha)/t|0):(i[o]=0,n[o]=0,r[o]=0,a[o]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let o=0,s=this._pixels.length;o<s;o++){const t=this._pixels[o];let e=-1,s=Number.MAX_VALUE;for(let o=0;o<this._colors;o++){const l=i[o],u=n[o],c=r[o],d=a[o],h=this._distance.calculateRaw(l,u,c,d,t.r,t.g,t.b,t.a);h<s&&(s=h,e=o)}this._reds[e]+=t.r,this._greens[e]+=t.g,this._blues[e]+=t.b,this._alphas[e]+=t.a,this._sums[e]++}}_addColor(t){const e=8-this._significantBitsPerChannel,i=1+(t.r>>e),n=1+(t.g>>e),r=1+(t.b>>e),a=1+(t.a>>e);this._weights[a][i][n][r]++,this._momentsRed[a][i][n][r]+=t.r,this._momentsGreen[a][i][n][r]+=t.g,this._momentsBlue[a][i][n][r]+=t.b,this._momentsAlpha[a][i][n][r]+=t.a,this._moments[a][i][n][r]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]}*_calculateMoments(){const t=[],e=[],i=[],n=[],r=[],a=[],o=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),s=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),l=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),u=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),c=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),d=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let h=0;const f=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){fillArray3D$1(o,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(s,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(l,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(u,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(c,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){f.shouldNotify(h)&&(yield{progress:f.progress}),fillArray1D$1(t,this._sideSize,0),fillArray1D$1(e,this._sideSize,0),fillArray1D$1(i,this._sideSize,0),fillArray1D$1(n,this._sideSize,0),fillArray1D$1(r,this._sideSize,0),fillArray1D$1(a,this._sideSize,0);for(let h=1;h<=this._maxSideIndex;++h){let f=0,b=0,g=0,y=0,Z=0,_=0;for(let v=1;v<=this._maxSideIndex;++v)f+=this._weights[p][m][h][v],b+=this._momentsRed[p][m][h][v],g+=this._momentsGreen[p][m][h][v],y+=this._momentsBlue[p][m][h][v],Z+=this._momentsAlpha[p][m][h][v],_+=this._moments[p][m][h][v],t[v]+=f,e[v]+=b,i[v]+=g,n[v]+=y,r[v]+=Z,a[v]+=_,o[m][h][v]=o[m-1][h][v]+t[v],s[m][h][v]=s[m-1][h][v]+e[v],l[m][h][v]=l[m-1][h][v]+i[v],u[m][h][v]=u[m-1][h][v]+n[v],c[m][h][v]=c[m-1][h][v]+r[v],d[m][h][v]=d[m-1][h][v]+a[v],this._weights[p][m][h][v]=this._weights[p-1][m][h][v]+o[m][h][v],this._momentsRed[p][m][h][v]=this._momentsRed[p-1][m][h][v]+s[m][h][v],this._momentsGreen[p][m][h][v]=this._momentsGreen[p-1][m][h][v]+l[m][h][v],this._momentsBlue[p][m][h][v]=this._momentsBlue[p-1][m][h][v]+u[m][h][v],this._momentsAlpha[p][m][h][v]=this._momentsAlpha[p-1][m][h][v]+c[m][h][v],this._moments[p][m][h][v]=this._moments[p-1][m][h][v]+d[m][h][v]}}}}static _volumeFloat(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])}static _volume(t,e){return 0|_WuQuant$1._volumeFloat(t,e)}static _top(t,e,i,n){let r;switch(e){case _WuQuant$1._alpha:r=n[i][t.redMaximum][t.greenMaximum][t.blueMaximum]-n[i][t.redMaximum][t.greenMinimum][t.blueMaximum]-n[i][t.redMinimum][t.greenMaximum][t.blueMaximum]+n[i][t.redMinimum][t.greenMinimum][t.blueMaximum]-(n[i][t.redMaximum][t.greenMaximum][t.blueMinimum]-n[i][t.redMaximum][t.greenMinimum][t.blueMinimum]-n[i][t.redMinimum][t.greenMaximum][t.blueMinimum]+n[i][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case _WuQuant$1._red:r=n[t.alphaMaximum][i][t.greenMaximum][t.blueMaximum]-n[t.alphaMaximum][i][t.greenMinimum][t.blueMaximum]-n[t.alphaMinimum][i][t.greenMaximum][t.blueMaximum]+n[t.alphaMinimum][i][t.greenMinimum][t.blueMaximum]-(n[t.alphaMaximum][i][t.greenMaximum][t.blueMinimum]-n[t.alphaMaximum][i][t.greenMinimum][t.blueMinimum]-n[t.alphaMinimum][i][t.greenMaximum][t.blueMinimum]+n[t.alphaMinimum][i][t.greenMinimum][t.blueMinimum]);break;case _WuQuant$1._green:r=n[t.alphaMaximum][t.redMaximum][i][t.blueMaximum]-n[t.alphaMaximum][t.redMinimum][i][t.blueMaximum]-n[t.alphaMinimum][t.redMaximum][i][t.blueMaximum]+n[t.alphaMinimum][t.redMinimum][i][t.blueMaximum]-(n[t.alphaMaximum][t.redMaximum][i][t.blueMinimum]-n[t.alphaMaximum][t.redMinimum][i][t.blueMinimum]-n[t.alphaMinimum][t.redMaximum][i][t.blueMinimum]+n[t.alphaMinimum][t.redMinimum][i][t.blueMinimum]);break;case _WuQuant$1._blue:r=n[t.alphaMaximum][t.redMaximum][t.greenMaximum][i]-n[t.alphaMaximum][t.redMaximum][t.greenMinimum][i]-n[t.alphaMaximum][t.redMinimum][t.greenMaximum][i]+n[t.alphaMaximum][t.redMinimum][t.greenMinimum][i]-(n[t.alphaMinimum][t.redMaximum][t.greenMaximum][i]-n[t.alphaMinimum][t.redMaximum][t.greenMinimum][i]-n[t.alphaMinimum][t.redMinimum][t.greenMaximum][i]+n[t.alphaMinimum][t.redMinimum][t.greenMinimum][i]);break;default:throw new Error("impossible")}return 0|r}static _bottom(t,e,i){switch(e){case _WuQuant$1._alpha:return-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant$1._red:return-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant$1._green:return-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant$1._blue:return-i[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}}_calculateVariance(t){const e=_WuQuant$1._volume(t,this._momentsRed),i=_WuQuant$1._volume(t,this._momentsGreen),n=_WuQuant$1._volume(t,this._momentsBlue),r=_WuQuant$1._volume(t,this._momentsAlpha);return _WuQuant$1._volumeFloat(t,this._moments)-(e*e+i*i+n*n+r*r)/_WuQuant$1._volume(t,this._weights)}_maximize(t,e,i,n,r,a,o,s,l){const u=0|_WuQuant$1._bottom(t,e,this._momentsRed),c=0|_WuQuant$1._bottom(t,e,this._momentsGreen),d=0|_WuQuant$1._bottom(t,e,this._momentsBlue),h=0|_WuQuant$1._bottom(t,e,this._momentsAlpha),f=0|_WuQuant$1._bottom(t,e,this._weights);let p=0,m=-1;for(let b=i;b<n;++b){let i=u+_WuQuant$1._top(t,e,b,this._momentsRed),n=c+_WuQuant$1._top(t,e,b,this._momentsGreen),g=d+_WuQuant$1._top(t,e,b,this._momentsBlue),y=h+_WuQuant$1._top(t,e,b,this._momentsAlpha),Z=f+_WuQuant$1._top(t,e,b,this._weights);if(0!==Z){let t=i*i+n*n+g*g+y*y,e=t/Z;i=r-i,n=a-n,g=o-g,y=s-y,Z=l-Z,0!==Z&&(t=i*i+n*n+g*g+y*y,e+=t/Z,e>p&&(p=e,m=b))}}return{max:p,position:m}}_cut(t,e){let i;const n=_WuQuant$1._volume(t,this._momentsRed),r=_WuQuant$1._volume(t,this._momentsGreen),a=_WuQuant$1._volume(t,this._momentsBlue),o=_WuQuant$1._volume(t,this._momentsAlpha),s=_WuQuant$1._volume(t,this._weights),l=this._maximize(t,_WuQuant$1._red,t.redMinimum+1,t.redMaximum,n,r,a,o,s),u=this._maximize(t,_WuQuant$1._green,t.greenMinimum+1,t.greenMaximum,n,r,a,o,s),c=this._maximize(t,_WuQuant$1._blue,t.blueMinimum+1,t.blueMaximum,n,r,a,o,s),d=this._maximize(t,_WuQuant$1._alpha,t.alphaMinimum+1,t.alphaMaximum,n,r,a,o,s);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(i=_WuQuant$1._alpha,d.position<0)return!1}else i=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?_WuQuant$1._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?_WuQuant$1._green:_WuQuant$1._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,i){case _WuQuant$1._red:e.redMinimum=t.redMaximum=l.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant$1._green:e.greenMinimum=t.greenMaximum=u.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant$1._blue:e.blueMinimum=t.blueMaximum=c.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant$1._alpha:e.alphaMinimum=t.alphaMaximum=d.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0}_initialize(t){this._colors=t,this._cubes=[];for(let e=0;e<t;e++)this._cubes[e]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]}_setQuality(t=5){this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(t,e){for(const i of this.quantize(t,e))if(i.pointContainer)return i.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(t){super(),__publicField$3(this,"_distance"),this._distance=t}*quantize(t,e){const i=t.getPointArray(),n=t.getWidth(),r=t.getHeight(),a=new ProgressTracker$1(r,99);for(let o=0;o<r;o++){a.shouldNotify(o)&&(yield{progress:a.progress});for(let t=0,r=o*n;t<n;t++,r++){const t=i[r];t.from(e.getNearestColor(this._distance,t))}}yield{pointContainer:t,progress:100}}},ErrorDiffusionArrayKernel$1=(t=>(t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite",t))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(t,e,i=!0,n=0,r=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(e),this._distance=t,this._minColorDistance=n,this._serpentine=i,this._calculateErrorLikeGIMP=r}*quantize(t,e){const i=t.getPointArray(),n=new Point$1,r=t.getWidth(),a=t.getHeight(),o=[];let s=1,l=1;for(const c of this._kernel){const t=c[2]+1;l<t&&(l=t)}for(let c=0;c<l;c++)this._fillErrorLine(o[c]=[],r);const u=new ProgressTracker$1(a,99);for(let c=0;c<a;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(s*=-1);const t=c*r,l=1===s?0:r-1,d=1===s?r:-1;this._fillErrorLine(o[0],r),o.push(o.shift());const h=o[0];for(let u=l,f=t+l;u!==d;u+=s,f+=s){const t=i[f],l=h[u];n.from(t);const d=Point$1.createByRGBA(inRange0to255Rounded$1(t.r+l[0]),inRange0to255Rounded$1(t.g+l[1]),inRange0to255Rounded$1(t.b+l[2]),inRange0to255Rounded$1(t.a+l[3])),p=e.getNearestColor(this._distance,d);if(t.from(p),this._minColorDistance&&this._distance.calculateNormalized(n,p)<this._minColorDistance)continue;let m,b,g,y;this._calculateErrorLikeGIMP?(m=d.r-p.r,b=d.g-p.g,g=d.b-p.b,y=d.a-p.a):(m=n.r-p.r,b=n.g-p.g,g=n.b-p.b,y=n.a-p.a);const Z=1===s?0:this._kernel.length-1,_=1===s?this._kernel.length:-1;for(let e=Z;e!==_;e+=s){const t=this._kernel[e][1]*s,i=this._kernel[e][2];if(t+u>=0&&t+u<r&&i+c>=0&&i+c<a){const n=this._kernel[e][0],r=o[i][t+u];r[0]+=m*n,r[1]+=b*n,r[2]+=g*n,r[3]+=y*n}}}}yield{pointContainer:t,progress:100}}_fillErrorLine(t,e){t.length>e&&(t.length=e);const i=t.length;for(let n=0;n<i;n++){const e=t[n];e[0]=e[1]=e[2]=e[3]=0}for(let n=i;n<e;n++)t[n]=[0,0,0,0]}_setKernel(t){switch(t){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${t}`)}}};function*hilbertCurve$1(t,e,i){const n=Math.max(t,e),r={width:t,height:e,level:Math.floor(Math.log(n)/Math.log(2)+1),callback:i,tracker:new ProgressTracker$1(t*e,99),index:0,x:0,y:0};yield*walkHilbert$1(r,1),visit$1(r,0)}function*walkHilbert$1(t,e){if(!(t.level<1)){switch(t.tracker.shouldNotify(t.index)&&(yield{progress:t.tracker.progress}),t.level--,e){case 2:yield*walkHilbert$1(t,1),visit$1(t,3),yield*walkHilbert$1(t,2),visit$1(t,4),yield*walkHilbert$1(t,2),visit$1(t,2),yield*walkHilbert$1(t,4);break;case 3:yield*walkHilbert$1(t,4),visit$1(t,2),yield*walkHilbert$1(t,3),visit$1(t,1),yield*walkHilbert$1(t,3),visit$1(t,3),yield*walkHilbert$1(t,1);break;case 1:yield*walkHilbert$1(t,2),visit$1(t,4),yield*walkHilbert$1(t,1),visit$1(t,3),yield*walkHilbert$1(t,1),visit$1(t,1),yield*walkHilbert$1(t,3);break;case 4:yield*walkHilbert$1(t,3),visit$1(t,1),yield*walkHilbert$1(t,4),visit$1(t,2),yield*walkHilbert$1(t,4),visit$1(t,4),yield*walkHilbert$1(t,2)}t.level++}}function visit$1(t,e){switch(t.x>=0&&t.x<t.width&&t.y>=0&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case 2:t.x--;break;case 3:t.x++;break;case 1:t.y--;break;case 4:t.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(t,e=16,i=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=t,this._errorQueueSize=e,this._weights=ErrorDiffusionRiemersma$1._createWeights(i,e)}*quantize(t,e){const i=t.getPointArray(),n=t.getWidth(),r=t.getHeight(),a=[];let o=0;for(let s=0;s<this._errorQueueSize;s++)a[s]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(n,r,((t,r)=>{const s=i[t+r*n];let{r:l,g:u,b:c,a:d}=s;for(let e=0;e<this._errorQueueSize;e++){const t=this._weights[e],i=a[(e+o)%this._errorQueueSize];l+=i.r*t,u+=i.g*t,c+=i.b*t,d+=i.a*t}const h=Point$1.createByRGBA(inRange0to255Rounded$1(l),inRange0to255Rounded$1(u),inRange0to255Rounded$1(c),inRange0to255Rounded$1(d)),f=e.getNearestColor(this._distance,h);o=(o+1)%this._errorQueueSize;const p=(o+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=s.r-f.r,a[p].g=s.g-f.g,a[p].b=s.b-f.b,a[p].a=s.a-f.a,s.from(f)})),yield{pointContainer:t,progress:100}}static _createWeights(t,e){const i=[],n=Math.exp(Math.log(e)/(e-1));for(let r=0,a=1;r<e;r++)i[r]=(a+.5|0)/e*t,a*=n;return i}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error("Images have different sizes!");const i=(255*K1$1)**2,n=(255*K2$1)**2;let r=0,a=0;return iterate$1(t,e,((t,e,o,s)=>{let l=0,u=0,c=0;for(let i=0;i<t.length;i++)u+=(t[i]-o)**2,c+=(e[i]-s)**2,l+=(t[i]-o)*(e[i]-s);const d=t.length-1;u/=d,c/=d,l/=d,a+=(2*o*s+i)*(2*l+n)/((o**2+s**2+i)*(u+c+n)),r++})),a/r}function iterate$1(t,e,i){const n=t.getWidth(),r=t.getHeight();for(let a=0;a<r;a+=8)for(let o=0;o<n;o+=8){const s=Math.min(8,n-o),l=Math.min(8,r-a),u=calculateLumaValuesForWindow$1(t,o,a,s,l),c=calculateLumaValuesForWindow$1(e,o,a,s,l);i(u,c,calculateAverageLuma$1(u),calculateAverageLuma$1(c))}}function calculateLumaValuesForWindow$1(t,e,i,n,r){const a=t.getPointArray(),o=[];let s=0;for(let l=i;l<i+r;l++){const i=l*t.getWidth();for(let t=e;t<e+n;t++){const e=a[i+t];o[s]=.2126*e.r+.7152*e.g+.0722*e.b,s++}}return o}function calculateAverageLuma$1(t){let e=0;for(const i of t)e+=i;return e/t.length}var setImmediateImpl="function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)?t=>process.nextTick(t):t=>setTimeout(t,0);function buildPaletteSync$1(t,{colorDistanceFormula:e,paletteQuantization:i,colors:n}={}){const r=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(e),i,n);return t.forEach((t=>r.sample(t))),r.quantizeSync()}async function buildPalette(t,{colorDistanceFormula:e,paletteQuantization:i,colors:n,onProgress:r}={}){return new Promise(((a,o)=>{const s=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(e),i,n);let l;t.forEach((t=>s.sample(t)));const u=s.quantize(),c=()=>{try{const t=u.next();t.done?a(l):(t.value.palette&&(l=t.value.palette),r&&r(t.value.progress),setImmediateImpl(c))}catch(t){o(t)}};setImmediateImpl(c)}))}function applyPaletteSync$1(t,e,{colorDistanceFormula:i,imageQuantization:n}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(i),n).quantizeSync(t,e)}async function applyPalette(t,e,{colorDistanceFormula:i,imageQuantization:n,onProgress:r}={}){return new Promise(((a,o)=>{let s;const l=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(i),n).quantize(t,e),u=()=>{try{const t=l.next();t.done?a(s):(t.value.pointContainer&&(s=t.value.pointContainer),r&&r(t.value.progress),setImmediateImpl(u))}catch(t){o(t)}};setImmediateImpl(u)}))}function colorDistanceFormulaToColorDistance$1(t="euclidean-bt709"){switch(t){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${t}`)}}function imageQuantizationToImageQuantizer$1(t,e="floyd-steinberg"){switch(e){case"nearest":return new NearestColor$1(t);case"riemersma":return new ErrorDiffusionRiemersma$1(t);case"floyd-steinberg":return new ErrorDiffusionArray$1(t,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(t,1);case"stucki":return new ErrorDiffusionArray$1(t,2);case"atkinson":return new ErrorDiffusionArray$1(t,3);case"jarvis":return new ErrorDiffusionArray$1(t,4);case"burkes":return new ErrorDiffusionArray$1(t,5);case"sierra":return new ErrorDiffusionArray$1(t,6);case"two-sierra":return new ErrorDiffusionArray$1(t,7);case"sierra-lite":return new ErrorDiffusionArray$1(t,8);default:throw new Error(`Unknown imageQuantization ${e}`)}}function paletteQuantizationToPaletteQuantizer$1(t,e="wuquant",i=256){switch(e){case"neuquant":return new NeuQuant$1(t,i);case"rgbquant":return new RGBQuant$1(t,i);case"wuquant":return new WuQuant$1(t,i);case"neuquant-float":return new NeuQuantFloat$1(t,i);default:throw new Error(`Unknown paletteQuantization ${e}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class t extends BitmapImage$1{constructor(...e){if(super(...e),e[0]instanceof t){const t=e[0];this.xOffset=t.xOffset,this.yOffset=t.yOffset,this.disposalMethod=t.disposalMethod,this.delayCentisecs=t.delayCentisecs,this.interlaced=t.interlaced}else{const i=e[e.length-1];let n={};"object"!=typeof i||i instanceof BitmapImage$1||(n=i),this.xOffset=n.xOffset||0,this.yOffset=n.yOffset||0,this.disposalMethod=void 0!==n.disposalMethod?n.disposalMethod:t.DisposeToBackgroundColor,this.delayCentisecs=n.delayCentisecs||8,this.interlaced=n.interlaced||!1}}getPalette(){const t=new Set,e=this.bitmap.data;let i=0,n=!1;for(;i<e.length;){if(0===e[i+3])n=!0;else{const n=e.readUInt32BE(i,!0)>>8&16777215;t.add(n)}i+=4}const r=new Array(t.size),a=t.values();for(i=0;i<r.length;++i)r[i]=a.next().value;r.sort(((t,e)=>t-e));let o=r.length;return n&&++o,{colors:r,usesTransparency:n,indexCount:o}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(t){const e=require$$0,i=imageQ,n=bitmapimage,{GifFrame:r}=gifframe,{GifError:a}=gif$1,{GifCodec:o}=requireGifcodec(),s=[".jpg",".jpeg",".png",".bmp"],l=new o;function u(t,e,n,r,a){const o=Array.isArray(t)?t:[t];if(a){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(a.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${a.ditherAlgorithm}'`);void 0===a.serpentine&&(a.serpentine=!0),void 0===a.minimumColorDistanceToDither&&(a.minimumColorDistanceToDither=0),void 0===a.calculateErrorLikeGIMP&&(a.calculateErrorLikeGIMP=!1)}const s=new i.distance.Euclidean,l=new i.palette[e](s,n,r);let u;u=a?new i.image.ErrorDiffusionArray(s,i.image.ErrorDiffusionArrayKernel[a.ditherAlgorithm],a.serpentine,a.minimumColorDistanceToDither,a.calculateErrorLikeGIMP):new i.image.NearestColor(s);const c=[];o.forEach((t=>{const e=t.bitmap.data,n=new ArrayBuffer(e.length),r=new Uint32Array(n);for(let i=0,o=0;i<e.length;i+=4,++o)r[o]=e.readUInt32LE(i,!0);const a=i.utils.PointContainer.fromUint32Array(r,t.bitmap.width,t.bitmap.height);l.sample(a),c.push(a)}));const d=l.quantizeSync();for(let i=0;i<o.length;++i){const t=o[i].bitmap.data,e=u.quantizeSync(c[i],d).toUint32Array();for(let i=0,n=0;i<t.length;i+=4,++n)t.writeUInt32LE(e[n],i)}}t.cloneFrames=function(t){let e=[];return t.forEach((t=>{e.push(new r(t))})),e},t.getColorInfo=function(t,e){let i=!1;const n=[];for(let u=0;u<t.length;++u){let e=t[u].getPalette();if(e.usesTransparency&&(i=!0),e.indexCount>256)throw new a(`Frame ${u} uses more than 256 color indexes`);n.push(e)}if(0===e)return{usesTransparency:i,palettes:n};const r=new Set;n.forEach((t=>{t.colors.forEach((t=>{r.add(t)}))}));let o=r.size;if(i&&++o,e&&o>e)return{usesTransparency:i,palettes:n};const s=new Array(r.size),l=r.values();for(let a=0;a<s.length;++a)s[a]=l.next().value;return s.sort(((t,e)=>t-e)),{colors:s,indexCount:o,usesTransparency:i,palettes:n}},t.copyAsJimp=function(e,i){return t.shareAsJimp(e,new n(i))},t.getMaxDimensions=function(t){let e=0,i=0;return t.forEach((t=>{const n=t.xOffset+t.bitmap.width;n>e&&(e=n);const r=t.yOffset+t.bitmap.height;r>i&&(i=r)})),{maxWidth:e,maxHeight:i}},t.quantizeDekker=function(t,e,i){u(t,"NeuQuantFloat",e=e||256,0,i)},t.quantizeSorokin=function(t,e,i,n){let r;switch(e=e||256,i=i||"min-pop"){case"min-pop":r=2;break;case"top-pop":r=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${i}'`)}u(t,"RGBQuant",e,r,n)},t.quantizeWu=function(t,e,i,n){if(e=e||256,(i=i||5)<1||i>8)throw new Error("Invalid quantization quality");u(t,"WuQuant",e,i,n)},t.read=function(t,i){return i=i||l,Buffer.isBuffer(t)?i.decodeGif(t):function(t){return new Promise(((i,n)=>{e.readFile(t,((t,e)=>t?n(t):i(e)))}))}(t).then((t=>i.decodeGif(t)))},t.shareAsJimp=function(t,e){const i=new t(e.bitmap.width,e.bitmap.height,0);return i.bitmap.data=e.bitmap.data,i},t.write=function(t,i,n,r){r=r||l;const a=t.match(/\.[a-zA-Z]+$/);if(null!==a&&s.includes(a[0].toLowerCase()))throw new Error(`GIF '${t}' has an unexpected suffix`);return r.encodeGif(i,n).then((i=>function(t,i){return new Promise(((n,r)=>{e.writeFile(t,i,(t=>t?r(t):n()))}))}(t,i.buffer).then((()=>i))))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const t=omggif,{Gif:e,GifError:i}=gif$1;function n(){const t=requireGifutil();return n=function(){return t},t}const{GifFrame:r}=gifframe;function a(t,e){const i=t.indexOf(e);return-1===i?null:i}function o(t,e){for(var i,n=0,r=t.length-1;n<=r;)if(t[i=Math.floor((n+r)/2)]>e)r=i-1;else{if(!(t[i]<e))return i;n=i+1}return null}function s(t){const e=t.colors;t.usesTransparency&&e.push(0);const i=e.length;let n=2;for(;i>n;)n<<=1;e.length=n,e.fill(0,i)}function l(t,e){let i=t.bitmap.width*t.bitmap.height;return i=Math.ceil(i*e/8),i+=Math.ceil(i/255),100+i+768}function u(t){let e=t.indexCount,i=0;for(--e;e;)++i,e>>=1;return i>0?i:1}function c(t,e,n,r,l){if(n.interlaced)throw new i("writing interlaced GIFs is not supported");const u=function(t,e,n){const r=n.colors,s=r.length<=8?a:o,l=e.bitmap.data,u=new Buffer(l.length/4);let c=r.length,d=0,h=0;for(;d<l.length;){if(0!==l[d+3]){const t=l.readUInt32BE(d,!0)>>8&16777215;u[h]=s(r,t)}else u[h]=c;d+=4,++h}if(n.usesTransparency){if(256===c)throw new i(`Frame ${t} already has 256 colorsand so can't use transparency`)}else c=null;return{buffer:u,transparentIndex:c}}(e,n,r),c={delay:n.delayCentisecs,disposal:n.disposalMethod,transparent:u.transparentIndex};l&&(s(r),c.palette=r.colors);try{let e,i=t.getOutputBuffer(),r=t.getOutputBufferPosition(),a=!0;for(;a;)if(e=t.addFrame(n.xOffset,n.yOffset,n.bitmap.width,n.bitmap.height,u.buffer,c),a=!1,e>=i.length-1){const e=new Buffer(1.5*i.length);i.copy(e),t.setOutputBuffer(e),t.setOutputBufferPosition(r),i=e,a=!0}return i}catch(t){throw new i(t)}}return gifcodec.GifCodec=class{constructor(t={}){this._transparentRGB=null,"number"==typeof t.transparentRGB&&0!==t.transparentRGB&&(this._transparentRGBA=256*t.transparentRGB),this._testInitialBufferSize=0}decodeGif(n){try{let r;try{r=new t.GifReader(n)}catch(t){throw new i(t)}const a=r.numFrames(),o=[],s={width:r.width,height:r.height,loops:r.loopCount(),usesTransparency:!1};for(let t=0;t<a;++t){const e=this._decodeFrame(r,t,s.usesTransparency);o.push(e.frame),e.usesTransparency&&(s.usesTransparency=!0)}return Promise.resolve(new e(n,o,s))}catch(t){return Promise.reject(t)}}encodeGif(t,r={}){try{if(null===t||0===t.length)throw new i("there are no frames");const a=n().getMaxDimensions(t);return(r=Object.assign({},r)).width=a.maxWidth,r.height=a.maxHeight,void 0===r.loops&&(r.loops=0),r.colorScope=r.colorScope||e.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,r))}catch(t){return Promise.reject(t)}}_decodeFrame(t,e,n){let a,o;try{if(a=t.frameInfo(e),o=new Buffer(t.width*t.height*4),t.decodeAndBlitFrameRGBA(e,o),a.width!==t.width||a.height!==t.height){if(a.y&&(o=o.slice(a.y*t.width*4)),t.width>a.width)for(let e=0;e<a.height;++e)o.copy(o,e*a.width*4,4*(a.x+e*t.width),4*(a.x+e*t.width)+4*a.width);o=o.slice(0,a.width*a.height*4)}}catch(t){throw new i(t)}let s=!1;if(null===this._transparentRGBA){if(!n)for(let i=3;i<o.length;i+=4)0===o[i]&&(s=!0,i=o.length)}else for(let i=3;i<o.length;i+=4)0===o[i]&&(o.writeUInt32BE(this._transparentRGBA,i-3),s=!0);return{frame:new r(a.width,a.height,o,{xOffset:a.x,yOffset:a.y,disposalMethod:a.disposal,interlaced:a.interlaced,delayCentisecs:a.delay}),usesTransparency:s}}_encodeGif(r,a){let o;if(a.colorScope===e.LocalColorsOnly)o=n().getColorInfo(r,0);else if(o=n().getColorInfo(r,256),!o.colors){if(a.colorScope===e.GlobalColorsOnly)throw new i("Too many color indexes for global color table");a.colorScope=e.LocalColorsOnly}a.usesTransparency=o.usesTransparency;const l=o.palettes;return a.colorScope===e.LocalColorsOnly?function(n,r,a,o){const s={loop:r.loops};let l,u=new Buffer(a);try{l=new t.GifWriter(u,r.width,r.height,s)}catch(t){throw new i(t)}for(let t=0;t<n.length;++t)u=c(l,t,n[t],o[t],!0);return new e(u.slice(0,l.end()),n,r)}(r,a,2e3,l):function(n,r,a,o){const l={colors:o.colors.slice(),usesTransparency:o.usesTransparency};s(l);const u={palette:l.colors,loop:r.loops};let d,h=new Buffer(a);try{d=new t.GifWriter(h,r.width,r.height,u)}catch(t){throw new i(t)}for(let t=0;t<n.length;++t)h=c(d,t,n[t],o,!1);return new e(h.slice(0,d.end()),n,r)}(r,a,2e3,o)}_getSizeEstimateGlobal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let i=968;const n=u(t);return e.forEach((t=>{i+=l(t,n)})),i}_getSizeEstimateLocal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let i=200;for(let n=0;n<e.length;++n){const r=u(t[n]);i+=l(e[n],r)}return i}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif:Gif,GifError:GifError$1}=gif$1,{GifCodec:GifCodec}=requireGifcodec(),{GifFrame:GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage:BitmapImage,Gif:Gif,GifCodec:GifCodec,GifFrame:GifFrame,GifUtil:GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async t=>{const e=new src.BitmapImage(t);src.GifUtil.quantizeDekker(e,256);const i=new src.GifFrame(t),n=new src.GifCodec;return(await n.encodeGif([i],{})).buffer},decode:t=>{const e=new omggif.GifReader(t),i=Buffer.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,i),{data:i,width:e.width,height:e.height}}}}var encoder={exports:{}};!function(t){function e(t){var e,i,n,r,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],b=0,g=7,y=new Array(64),Z=new Array(64),_=new Array(64),v=new Array(256),w=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],R=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(t,e){for(var i=0,n=0,r=new Array,a=1;a<=16;a++){for(var o=1;o<=t[a];o++)r[e[n]]=[],r[e[n]][0]=i,r[e[n]][1]=a,n++,i++;i*=2}return r}function E(t){for(var e=t[0],i=t[1]-1;i>=0;)e&1<<i&&(b|=1<<g),i--,--g<0&&(255==b?(C(255),C(0)):C(b),g=7,b=0)}function C(t){m.push(t)}function M(t){C(t>>8&255),C(255&t)}function L(t,e,i,n,r){for(var a,o=r[0],s=r[240],l=function(t,e){var i,n,r,a,o,s,l,u,c,d,h=0;for(c=0;c<8;++c){i=t[h],n=t[h+1],r=t[h+2],a=t[h+3],o=t[h+4],s=t[h+5],l=t[h+6];var p=i+(u=t[h+7]),m=i-u,b=n+l,g=n-l,y=r+s,Z=r-s,_=a+o,v=a-o,w=p+_,S=p-_,x=b+y,I=b-y;t[h]=w+x,t[h+4]=w-x;var W=.707106781*(I+S);t[h+2]=S+W,t[h+6]=S-W;var V=.382683433*((w=v+Z)-(I=g+m)),X=.5411961*w+V,k=1.306562965*I+V,G=.707106781*(x=Z+g),R=m+G,T=m-G;t[h+5]=T+X,t[h+3]=T-X,t[h+1]=R+k,t[h+7]=R-k,h+=8}for(h=0,c=0;c<8;++c){i=t[h],n=t[h+8],r=t[h+16],a=t[h+24],o=t[h+32],s=t[h+40],l=t[h+48];var E=i+(u=t[h+56]),C=i-u,M=n+l,L=n-l,K=r+s,P=r-s,Y=a+o,N=a-o,F=E+Y,B=E-Y,U=M+K,z=M-K;t[h]=F+U,t[h+32]=F-U;var J=.707106781*(z+B);t[h+16]=B+J,t[h+48]=B-J;var H=.382683433*((F=N+P)-(z=L+C)),A=.5411961*F+H,j=1.306562965*z+H,O=.707106781*(U=P+L),D=C+O,Q=C-O;t[h+40]=Q+A,t[h+24]=Q-A,t[h+8]=D+j,t[h+56]=D-j,h++}for(c=0;c<64;++c)d=t[c]*e[c],f[c]=d>0?d+.5|0:d-.5|0;return f}(t,e),u=0;u<64;++u)p[S[u]]=l[u];var c=p[0]-i;i=p[0],0==c?E(n[0]):(E(n[h[a=32767+c]]),E(d[a]));for(var m=63;m>0&&0==p[m];m--);if(0==m)return E(o),i;for(var b,g=1;g<=m;){for(var y=g;0==p[g]&&g<=m;++g);var Z=g-y;if(Z>=16){b=Z>>4;for(var _=1;_<=b;++_)E(s);Z&=15}a=32767+p[g],E(r[(Z<<4)+h[a]]),E(d[a]),g++}return 63!=m&&E(o),i}function K(t){t<=0&&(t=1),t>100&&(t=100),a!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=o((e[i]*t+50)/100);n<1?n=1:n>255&&(n=255),s[S[i]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var d=o((r[a]*t+50)/100);d<1?d=1:d>255&&(d=255),l[S[a]]=d}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[f]=1/(s[S[f]]*h[p]*h[m]*8),c[f]=1/(l[S[f]]*h[p]*h[m]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t)}this.encode=function(t,a){var o;(new Date).getTime(),a&&K(a),m=new Array,b=0,g=7,M(65496),M(65504),M(16),C(74),C(70),C(73),C(70),C(0),C(1),C(1),C(0),M(1),M(1),C(0),C(0),void 0!==(o=t.comments)&&o.constructor===Array&&o.forEach((t=>{if("string"==typeof t){M(65534);var e,i=t.length;for(M(i+2),e=0;e<i;e++)C(t.charCodeAt(e))}})),function(t){if(t){M(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?M(t.length+2):(M(t.length+5+2),C(69),C(120),C(105),C(102),C(0));for(var e=0;e<t.length;e++)C(t[e])}}(t.exifBuffer),function(){M(65499),M(132),C(0);for(var t=0;t<64;t++)C(s[t]);C(1);for(var e=0;e<64;e++)C(l[e])}(),function(t,e){M(65472),M(17),C(8),M(e),M(t),C(3),C(1),C(17),C(0),C(2),C(17),C(1),C(3),C(17),C(1)}(t.width,t.height),function(){M(65476),M(418),C(0);for(var t=0;t<16;t++)C(x[t+1]);for(var e=0;e<=11;e++)C(I[e]);C(16);for(var i=0;i<16;i++)C(W[i+1]);for(var n=0;n<=161;n++)C(V[n]);C(1);for(var r=0;r<16;r++)C(X[r+1]);for(var a=0;a<=11;a++)C(k[a]);C(17);for(var o=0;o<16;o++)C(G[o+1]);for(var s=0;s<=161;s++)C(R[s])}(),M(65498),M(12),C(3),C(1),C(0),C(2),C(17),C(3),C(17),C(0),C(63),C(0);var d=0,h=0,f=0;b=0,g=7,this.encode.displayName="_encode_";for(var p,v,S,T,P,Y,N,F,B,U=t.data,z=t.width,J=t.height,H=4*z,A=0;A<J;){for(p=0;p<H;){for(Y=P=H*A+p,N=-1,F=0,B=0;B<64;B++)Y=P+(F=B>>3)*H+(N=4*(7&B)),A+F>=J&&(Y-=H*(A+1+F-J)),p+N>=H&&(Y-=p+N-H+4),v=U[Y++],S=U[Y++],T=U[Y++],y[B]=(w[v]+w[S+256|0]+w[T+512|0]>>16)-128,Z[B]=(w[v+768|0]+w[S+1024|0]+w[T+1280|0]>>16)-128,_[B]=(w[v+1280|0]+w[S+1536|0]+w[T+1792|0]>>16)-128;d=L(y,u,d,e,n),h=L(Z,c,h,i,r),f=L(_,c,f,i,r),p+=32}A+=8}if(g>=0){var j=[];j[1]=g+1,j[0]=(1<<g+1)-1,E(j)}return M(65497),Buffer.from(m)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)v[e]=t(e)}(),e=T(x,I),i=T(X,k),n=T(W,V),r=T(G,R),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)h[32767+n]=i,d[32767+n]=[],d[32767+n][1]=i,d[32767+n][0]=n;for(var r=-(e-1);r<=-t;r++)h[32767+r]=i,d[32767+r]=[],d[32767+r][1]=i,d[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)w[t]=19595*t,w[t+256|0]=38470*t,w[t+512|0]=7471*t+32768,w[t+768|0]=-11059*t,w[t+1024|0]=-21709*t,w[t+1280|0]=32768*t+8421375,w[t+1536|0]=-27439*t,w[t+1792|0]=-5329*t}(),K(t),(new Date).getTime()}encoder.exports=function(t,i){void 0===i&&(i=50);var n=new e(i),r=n.encode(t,i);return{data:r,width:t.width,height:t.height}}}();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,i=799,n=3406,r=2276,a=1567,o=3784,s=5793,l=2896;function u(){}function c(t,e){for(var i,n,r=0,a=[],o=16;o>0&&!t[o-1];)o--;a.push({children:[],index:0});var s,l=a[0];for(i=0;i<o;i++){for(n=0;n<t[i];n++){for((l=a.pop()).children[l.index]=e[r];l.index>0;){if(0===a.length)throw new Error("Could not recreate Huffman Table");l=a.pop()}for(l.index++,a.push(l);a.length<=i;)a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;r++}i+1<o&&(a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return a[0].children}function d(e,i,n,r,a,o,s,l,u,c){n.precision,n.samplesPerLine,n.scanLines;var d=n.mcusPerLine,h=n.progressive;n.maxH,n.maxV;var f=i,p=0,m=0;function b(){if(m>0)return m--,p>>m&1;if(255==(p=e[i++])){var t=e[i++];if(t)throw new Error("unexpected marker: "+(p<<8|t).toString(16))}return m=7,p>>>7}function g(t){for(var e,i=t;null!==(e=b());){if("number"==typeof(i=i[e]))return i;if("object"!=typeof i)throw new Error("invalid huffman sequence")}return null}function y(t){for(var e=0;t>0;){var i=b();if(null===i)return;e=e<<1|i,t--}return e}function Z(t){var e=y(t);return e>=1<<t-1?e:e+(-1<<t)+1}var _,v=0,w=0;function S(t,e,i,n,r){var a=i%d,o=(i/d|0)*t.v+n,s=a*t.h+r;void 0===t.blocks[o]&&c.tolerantDecoding||e(t,t.blocks[o][s])}function x(t,e,i){var n=i/t.blocksPerLine|0,r=i%t.blocksPerLine;void 0===t.blocks[n]&&c.tolerantDecoding||e(t,t.blocks[n][r])}var I,W,V,X,k,G,R=r.length;G=h?0===o?0===l?function(t,e){var i=g(t.huffmanTableDC),n=0===i?0:Z(i)<<u;e[0]=t.pred+=n}:function(t,e){e[0]|=b()<<u}:0===l?function(e,i){if(v>0)v--;else for(var n=o,r=s;n<=r;){var a=g(e.huffmanTableAC),l=15&a,c=a>>4;if(0!==l)i[t[n+=c]]=Z(l)*(1<<u),n++;else{if(c<15){v=y(c)+(1<<c)-1;break}n+=16}}}:function(e,i){for(var n=o,r=s,a=0;n<=r;){var l=t[n],c=i[l]<0?-1:1;switch(w){case 0:var d=g(e.huffmanTableAC),h=15&d;if(a=d>>4,0===h)a<15?(v=y(a)+(1<<a),w=4):(a=16,w=1);else{if(1!==h)throw new Error("invalid ACn encoding");_=Z(h),w=a?2:3}continue;case 1:case 2:i[l]?i[l]+=(b()<<u)*c:0==--a&&(w=2==w?3:0);break;case 3:i[l]?i[l]+=(b()<<u)*c:(i[l]=_<<u,w=0);break;case 4:i[l]&&(i[l]+=(b()<<u)*c)}n++}4===w&&0==--v&&(w=0)}:function(e,i){var n=g(e.huffmanTableDC),r=0===n?0:Z(n);i[0]=e.pred+=r;for(var a=1;a<64;){var o=g(e.huffmanTableAC),s=15&o,l=o>>4;if(0!==s)i[t[a+=l]]=Z(s),a++;else{if(l<15)break;a+=16}}};var T,E,C,M,L=0;for(E=1==R?r[0].blocksPerLine*r[0].blocksPerColumn:d*n.mcusPerColumn,a||(a=E);L<E;){for(W=0;W<R;W++)r[W].pred=0;if(v=0,1==R)for(I=r[0],k=0;k<a;k++)x(I,G,L),L++;else for(k=0;k<a;k++){for(W=0;W<R;W++)for(C=(I=r[W]).h,M=I.v,V=0;V<M;V++)for(X=0;X<C;X++)S(I,G,L,V,X);if(++L===E)break}if(L===E)do{if(255===e[i]&&0!==e[i+1])break;i+=1}while(i<e.length-2);if(m=0,(T=e[i]<<8|e[i+1])<65280)throw new Error("marker was not found");if(!(T>=65488&&T<=65495))break;i+=2}return i-f}function h(t,u){var c,d,h=[],f=u.blocksPerLine,p=u.blocksPerColumn,m=f<<3,g=new Int32Array(64),y=new Uint8Array(64);function Z(t,c,d){var h,f,p,m,b,g,y,Z,_,v,w=u.quantizationTable,S=d;for(v=0;v<64;v++)S[v]=t[v]*w[v];for(v=0;v<8;++v){var x=8*v;0!=S[1+x]||0!=S[2+x]||0!=S[3+x]||0!=S[4+x]||0!=S[5+x]||0!=S[6+x]||0!=S[7+x]?(h=s*S[0+x]+128>>8,f=s*S[4+x]+128>>8,p=S[2+x],m=S[6+x],b=l*(S[1+x]-S[7+x])+128>>8,Z=l*(S[1+x]+S[7+x])+128>>8,g=S[3+x]<<4,y=S[5+x]<<4,_=h-f+1>>1,h=h+f+1>>1,f=_,_=p*o+m*a+128>>8,p=p*a-m*o+128>>8,m=_,_=b-y+1>>1,b=b+y+1>>1,y=_,_=Z+g+1>>1,g=Z-g+1>>1,Z=_,_=h-m+1>>1,h=h+m+1>>1,m=_,_=f-p+1>>1,f=f+p+1>>1,p=_,_=b*r+Z*n+2048>>12,b=b*n-Z*r+2048>>12,Z=_,_=g*i+y*e+2048>>12,g=g*e-y*i+2048>>12,y=_,S[0+x]=h+Z,S[7+x]=h-Z,S[1+x]=f+y,S[6+x]=f-y,S[2+x]=p+g,S[5+x]=p-g,S[3+x]=m+b,S[4+x]=m-b):(_=s*S[0+x]+512>>10,S[0+x]=_,S[1+x]=_,S[2+x]=_,S[3+x]=_,S[4+x]=_,S[5+x]=_,S[6+x]=_,S[7+x]=_)}for(v=0;v<8;++v){var I=v;0!=S[8+I]||0!=S[16+I]||0!=S[24+I]||0!=S[32+I]||0!=S[40+I]||0!=S[48+I]||0!=S[56+I]?(h=s*S[0+I]+2048>>12,f=s*S[32+I]+2048>>12,p=S[16+I],m=S[48+I],b=l*(S[8+I]-S[56+I])+2048>>12,Z=l*(S[8+I]+S[56+I])+2048>>12,g=S[24+I],y=S[40+I],_=h-f+1>>1,h=h+f+1>>1,f=_,_=p*o+m*a+2048>>12,p=p*a-m*o+2048>>12,m=_,_=b-y+1>>1,b=b+y+1>>1,y=_,_=Z+g+1>>1,g=Z-g+1>>1,Z=_,_=h-m+1>>1,h=h+m+1>>1,m=_,_=f-p+1>>1,f=f+p+1>>1,p=_,_=b*r+Z*n+2048>>12,b=b*n-Z*r+2048>>12,Z=_,_=g*i+y*e+2048>>12,g=g*e-y*i+2048>>12,y=_,S[0+I]=h+Z,S[56+I]=h-Z,S[8+I]=f+y,S[48+I]=f-y,S[16+I]=p+g,S[40+I]=p-g,S[24+I]=m+b,S[32+I]=m-b):(_=s*d[v+0]+8192>>14,S[0+I]=_,S[8+I]=_,S[16+I]=_,S[24+I]=_,S[32+I]=_,S[40+I]=_,S[48+I]=_,S[56+I]=_)}for(v=0;v<64;++v){var W=128+(S[v]+8>>4);c[v]=W<0?0:W>255?255:W}}b(m*p*8);for(var _=0;_<p;_++){var v=_<<3;for(c=0;c<8;c++)h.push(new Uint8Array(m));for(var w=0;w<f;w++){Z(u.blocks[_][w],y,g);var S=0,x=w<<3;for(d=0;d<8;d++){var I=h[v+d];for(c=0;c<8;c++)I[x+c]=y[S++]}}}return h}function f(t){return t<0?0:t>255?255:t}u.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var i=1e3*this.opts.maxResolutionInMP*1e3,n=0;function r(){var t=e[n]<<8|e[n+1];return n+=2,t}function a(t){var e,i,n=1,r=1;for(i in t.components)t.components.hasOwnProperty(i)&&(n<(e=t.components[i]).h&&(n=e.h),r<e.v&&(r=e.v));var a=Math.ceil(t.samplesPerLine/8/n),o=Math.ceil(t.scanLines/8/r);for(i in t.components)if(t.components.hasOwnProperty(i)){e=t.components[i];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),l=Math.ceil(Math.ceil(t.scanLines/8)*e.v/r),u=a*e.h,c=o*e.v,d=[];b(c*u*256);for(var h=0;h<c;h++){for(var f=[],p=0;p<u;p++)f.push(new Int32Array(64));d.push(f)}e.blocksPerLine=s,e.blocksPerColumn=l,e.blocks=d}t.maxH=n,t.maxV=r,t.mcusPerLine=a,t.mcusPerColumn=o}e.length;var o,s,l,u,f=null,p=null,m=[],g=[],y=[],Z=[],_=r(),v=-1;if(this.comments=[],65496!=_)throw new Error("SOI not found");for(_=r();65497!=_;){switch(_){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=(l=void 0,u=void 0,l=r(),u=e.subarray(n,n+l-2),n+=u.length,u);if(65534===_){var S=String.fromCharCode.apply(null,w);this.comments.push(S)}65504===_&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(f={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===_&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===_&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(p={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var x=r()+n-2;n<x;){var I=e[n++];b(256);var W=new Int32Array(64);if(I>>4){if(I>>4!=1)throw new Error("DQT: invalid table spec");for(j=0;j<64;j++)W[t[j]]=r()}else for(j=0;j<64;j++)W[t[j]]=e[n++];m[15&I]=W}break;case 65472:case 65473:case 65474:r(),(o={}).extended=65473===_,o.progressive=65474===_,o.precision=e[n++],o.scanLines=r(),o.samplesPerLine=r(),o.components={},o.componentsOrder=[];var V=o.scanLines*o.samplesPerLine;if(V>i){var X=Math.ceil((V-i)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${X}MP`)}var k,G=e[n++];for(H=0;H<G;H++){k=e[n];var R=e[n+1]>>4,T=15&e[n+1],E=e[n+2];if(R<=0||T<=0)throw new Error("Invalid sampling factor, expected values above 0");o.componentsOrder.push(k),o.components[k]={h:R,v:T,quantizationIdx:E},n+=3}a(o),g.push(o);break;case 65476:var C=r();for(H=2;H<C;){var M=e[n++],L=new Uint8Array(16),K=0;for(j=0;j<16;j++,n++)K+=L[j]=e[n];b(16+K);var P=new Uint8Array(K);for(j=0;j<K;j++,n++)P[j]=e[n];H+=17+K,(M>>4?y:Z)[15&M]=c(L,P)}break;case 65501:r(),s=r();break;case 65500:r(),r();break;case 65498:r();var Y=e[n++],N=[];for(H=0;H<Y;H++){O=o.components[e[n++]];var F=e[n++];O.huffmanTableDC=Z[F>>4],O.huffmanTableAC=y[15&F],N.push(O)}var B=e[n++],U=e[n++],z=e[n++],J=d(e,n,o,N,s,B,U,z>>4,15&z,this.opts);n+=J;break;case 65535:255!==e[n]&&n--;break;default:if(255==e[n-3]&&e[n-2]>=192&&e[n-2]<=254){n-=3;break}if(224===_||225==_){if(-1!==v)throw new Error(`first unknown JPEG marker at offset ${v.toString(16)}, second unknown JPEG marker ${_.toString(16)} at offset ${(n-1).toString(16)}`);v=n-1;const t=r();if(255===e[n+t-2]){n+=t-2;break}}throw new Error("unknown JPEG marker "+_.toString(16))}_=r()}if(1!=g.length)throw new Error("only single frame JPEGs supported");for(var H=0;H<g.length;H++){var A=g[H].components;for(var j in A)A[j].quantizationTable=m[A[j].quantizationIdx],delete A[j].quantizationIdx}for(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=f,this.adobe=p,this.components=[],H=0;H<o.componentsOrder.length;H++){var O=o.components[o.componentsOrder[H]];this.components.push({lines:h(0,O),scaleX:O.h/o.maxH,scaleY:O.v/o.maxV})}},getData:function(t,e){var i,n,r,a,o,s,l,u,c,d,h,p,m,g,y,Z,_,v,w,S,x,I=this.width/t,W=this.height/e,V=0,X=t*e*this.components.length;b(X);var k=new Uint8Array(X);switch(this.components.length){case 1:for(i=this.components[0],d=0;d<e;d++)for(o=i.lines[0|d*i.scaleY*W],c=0;c<t;c++)h=o[0|c*i.scaleX*I],k[V++]=h;break;case 2:for(i=this.components[0],n=this.components[1],d=0;d<e;d++)for(o=i.lines[0|d*i.scaleY*W],s=n.lines[0|d*n.scaleY*W],c=0;c<t;c++)h=o[0|c*i.scaleX*I],k[V++]=h,h=s[0|c*n.scaleX*I],k[V++]=h;break;case 3:for(x=!0,this.adobe&&this.adobe.transformCode?x=!0:void 0!==this.opts.colorTransform&&(x=!!this.opts.colorTransform),i=this.components[0],n=this.components[1],r=this.components[2],d=0;d<e;d++)for(o=i.lines[0|d*i.scaleY*W],s=n.lines[0|d*n.scaleY*W],l=r.lines[0|d*r.scaleY*W],c=0;c<t;c++)x?(h=o[0|c*i.scaleX*I],p=s[0|c*n.scaleX*I],v=f(h+1.402*((m=l[0|c*r.scaleX*I])-128)),w=f(h-.3441363*(p-128)-.71413636*(m-128)),S=f(h+1.772*(p-128))):(v=o[0|c*i.scaleX*I],w=s[0|c*n.scaleX*I],S=l[0|c*r.scaleX*I]),k[V++]=v,k[V++]=w,k[V++]=S;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(x=!1,this.adobe&&this.adobe.transformCode?x=!0:void 0!==this.opts.colorTransform&&(x=!!this.opts.colorTransform),i=this.components[0],n=this.components[1],r=this.components[2],a=this.components[3],d=0;d<e;d++)for(o=i.lines[0|d*i.scaleY*W],s=n.lines[0|d*n.scaleY*W],l=r.lines[0|d*r.scaleY*W],u=a.lines[0|d*a.scaleY*W],c=0;c<t;c++)x?(h=o[0|c*i.scaleX*I],p=s[0|c*n.scaleX*I],m=l[0|c*r.scaleX*I],g=u[0|c*a.scaleX*I],y=255-f(h+1.402*(m-128)),Z=255-f(h-.3441363*(p-128)-.71413636*(m-128)),_=255-f(h+1.772*(p-128))):(y=o[0|c*i.scaleX*I],Z=s[0|c*n.scaleX*I],_=l[0|c*r.scaleX*I],g=u[0|c*a.scaleX*I]),k[V++]=255-y,k[V++]=255-Z,k[V++]=255-_,k[V++]=255-g;break;default:throw new Error("Unsupported color mode")}return k},copyToImageData:function(t,e){var i,n,r,a,o,s,l,u,c,d=t.width,h=t.height,p=t.data,m=this.getData(d,h),b=0,g=0;switch(this.components.length){case 1:for(n=0;n<h;n++)for(i=0;i<d;i++)r=m[b++],p[g++]=r,p[g++]=r,p[g++]=r,e&&(p[g++]=255);break;case 3:for(n=0;n<h;n++)for(i=0;i<d;i++)l=m[b++],u=m[b++],c=m[b++],p[g++]=l,p[g++]=u,p[g++]=c,e&&(p[g++]=255);break;case 4:for(n=0;n<h;n++)for(i=0;i<d;i++)o=m[b++],s=m[b++],r=m[b++],l=255-f(o*(1-(a=m[b++])/255)+a),u=255-f(s*(1-a/255)+a),c=255-f(r*(1-a/255)+a),p[g++]=l,p[g++]=u,p[g++]=c,e&&(p[g++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function b(t=0){var e=p+t;if(e>m){var i=Math.ceil((e-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${i}MB`)}p=e}return u.resetMaxMemoryUsage=function(t){p=0,m=t},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=b,u}(),module.exports=function(t,e={}){var i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...e},n=new Uint8Array(t),r=new JpegImage;r.opts=i,JpegImage.resetMaxMemoryUsage(1024*i.maxMemoryUsageInMB*1024),r.parse(n);var a=i.formatAsRGBA?4:3,o=r.width*r.height*a;try{JpegImage.requestMemoryAllocation(o);var s={width:r.width,height:r.height,exifBuffer:r.exifBuffer,data:i.useTArray?new Uint8Array(o):Buffer.alloc(o)};r.comments.length>0&&(s.comments=r.comments)}catch(t){if(t instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+o);if(t instanceof ReferenceError&&"Buffer is not defined"===t.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw t}return r.copyToImageData(s,i.formatAsRGBA),s};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode:encode,decode:decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(t,{quality:e=100}={})=>JPEG.encode(t,e).data,decode:(t,e)=>JPEG.decode(t,e)}}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function t(e,i,n){function r(o,s){if(!i[o]){if(!e[o]){var l="function"==typeof commonjsRequire&&commonjsRequire;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,(function(t){return r(e[o][1][t]||t)}),c,c.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof commonjsRequire&&commonjsRequire,o=0;o<n.length;o++)r(n[o]);return r}return t}()({1:[function(t,e,i){(function(e){(function(){let n=t("./interlace"),r=[function(){},function(t,e,i,n){if(n===e.length)throw new Error("Ran out of data");let r=e[n];t[i]=r,t[i+1]=r,t[i+2]=r,t[i+3]=255},function(t,e,i,n){if(n+1>=e.length)throw new Error("Ran out of data");let r=e[n];t[i]=r,t[i+1]=r,t[i+2]=r,t[i+3]=e[n+1]},function(t,e,i,n){if(n+2>=e.length)throw new Error("Ran out of data");t[i]=e[n],t[i+1]=e[n+1],t[i+2]=e[n+2],t[i+3]=255},function(t,e,i,n){if(n+3>=e.length)throw new Error("Ran out of data");t[i]=e[n],t[i+1]=e[n+1],t[i+2]=e[n+2],t[i+3]=e[n+3]}],a=[function(){},function(t,e,i,n){let r=e[0];t[i]=r,t[i+1]=r,t[i+2]=r,t[i+3]=n},function(t,e,i){let n=e[0];t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=e[1]},function(t,e,i,n){t[i]=e[0],t[i+1]=e[1],t[i+2]=e[2],t[i+3]=n},function(t,e,i){t[i]=e[0],t[i+1]=e[1],t[i+2]=e[2],t[i+3]=e[3]}];function o(t,e){let i=[],n=0;function r(){if(n===t.length)throw new Error("Ran out of data");let r,a,o,s,l,u,c,d,h=t[n];switch(n++,e){default:throw new Error("unrecognised depth");case 16:c=t[n],n++,i.push((h<<8)+c);break;case 4:c=15&h,d=h>>4,i.push(d,c);break;case 2:l=3&h,u=h>>2&3,c=h>>4&3,d=h>>6&3,i.push(d,c,u,l);break;case 1:r=1&h,a=h>>1&1,o=h>>2&1,s=h>>3&1,l=h>>4&1,u=h>>5&1,c=h>>6&1,d=h>>7&1,i.push(d,c,u,l,s,o,a,r)}}return{get:function(t){for(;i.length<t;)r();let e=i.slice(0,t);return i=i.slice(t),e},resetAfterLine:function(){i.length=0},end:function(){if(n!==t.length)throw new Error("extra data found")}}}function s(t,e,i,n,a,o){let s=t.width,l=t.height,u=t.index;for(let c=0;c<l;c++)for(let t=0;t<s;t++){let s=i(t,c,u);r[n](e,a,s,o),o+=n}return o}function l(t,e,i,n,r,o){let s=t.width,l=t.height,u=t.index;for(let c=0;c<l;c++){for(let t=0;t<s;t++){let s=r.get(n),l=i(t,c,u);a[n](e,s,l,o)}r.resetAfterLine()}}i.dataToBitMap=function(t,i){let r,a,u=i.width,c=i.height,d=i.depth,h=i.bpp,f=i.interlace;8!==d&&(r=o(t,d)),a=d<=8?e.alloc(u*c*4):new Uint16Array(u*c*4);let p,m,b=Math.pow(2,d)-1,g=0;if(f)p=n.getImagePasses(u,c),m=n.getInterlaceIterator(u,c);else{let t=0;m=function(){let e=t;return t+=4,e},p=[{width:u,height:c}]}for(let e=0;e<p.length;e++)8===d?g=s(p[e],a,m,h,t,g):l(p[e],a,m,h,r,b);if(8===d){if(g!==t.length)throw new Error("extra data found")}else r.end();return a}}).call(this)}).call(this,t("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(t,e,i){(function(i){(function(){let n=t("./constants");e.exports=function(t,e,r,a){let o=-1!==[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(a.colorType);if(a.colorType===a.inputColorType){let e=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256!==new Int16Array(t)[0]}();if(8===a.bitDepth||16===a.bitDepth&&e)return t}let s=16!==a.bitDepth?t:new Uint16Array(t.buffer),l=255,u=n.COLORTYPE_TO_BPP_MAP[a.inputColorType];4!==u||a.inputHasAlpha||(u=3);let c=n.COLORTYPE_TO_BPP_MAP[a.colorType];16===a.bitDepth&&(l=65535,c*=2);let d=i.alloc(e*r*c),h=0,f=0,p=a.bgColor||{};function m(){let t,e,i,r=l;switch(a.inputColorType){case n.COLORTYPE_COLOR_ALPHA:r=s[h+3],t=s[h],e=s[h+1],i=s[h+2];break;case n.COLORTYPE_COLOR:t=s[h],e=s[h+1],i=s[h+2];break;case n.COLORTYPE_ALPHA:r=s[h+1],t=s[h],e=t,i=t;break;case n.COLORTYPE_GRAYSCALE:t=s[h],e=t,i=t;break;default:throw new Error("input color type:"+a.inputColorType+" is not supported at present")}return a.inputHasAlpha&&(o||(r/=l,t=Math.min(Math.max(Math.round((1-r)*p.red+r*t),0),l),e=Math.min(Math.max(Math.round((1-r)*p.green+r*e),0),l),i=Math.min(Math.max(Math.round((1-r)*p.blue+r*i),0),l))),{red:t,green:e,blue:i,alpha:r}}void 0===p.red&&(p.red=l),void 0===p.green&&(p.green=l),void 0===p.blue&&(p.blue=l);for(let i=0;i<r;i++)for(let t=0;t<e;t++){let t=m();switch(a.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:8===a.bitDepth?(d[f]=t.red,d[f+1]=t.green,d[f+2]=t.blue,o&&(d[f+3]=t.alpha)):(d.writeUInt16BE(t.red,f),d.writeUInt16BE(t.green,f+2),d.writeUInt16BE(t.blue,f+4),o&&d.writeUInt16BE(t.alpha,f+6));break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:{let e=(t.red+t.green+t.blue)/3;8===a.bitDepth?(d[f]=e,o&&(d[f+1]=t.alpha)):(d.writeUInt16BE(e,f),o&&d.writeUInt16BE(t.alpha,f+2));break}default:throw new Error("unrecognised color Type "+a.colorType)}h+=u,f+=c}return d}}).call(this)}).call(this,t("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(t,e,i){(function(i,n){(function(){let r=t("util"),a=t("stream"),o=e.exports=function(){a.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};r.inherits(o,a),o.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),i.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},o.prototype.write=function(t,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let i;return i=n.isBuffer(t)?t:n.from(t,e||this._encoding),this._buffers.push(i),this._buffered+=i.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},o.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},o.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},o.prototype._processReadAllowingLess=function(t){this._reads.shift();let e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},o.prototype._processRead=function(t){this._reads.shift();let e=0,i=0,r=n.alloc(t.length);for(;e<t.length;){let n=this._buffers[i++],a=Math.min(n.length,t.length-e);n.copy(r,e,0,a),e+=a,a!==n.length&&(this._buffers[--i]=n.slice(a))}i>0&&this._buffers.splice(0,i),this._buffered-=t.length,t.func.call(this,r)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(t,e,i){e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(t,e,i){let n=[];!function(){for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;n[t]=e}}();let r=e.exports=function(){this._crc=-1};r.prototype.write=function(t){for(let e=0;e<t.length;e++)this._crc=n[255&(this._crc^t[e])]^this._crc>>>8;return!0},r.prototype.crc32=function(){return~this._crc},r.crc32=function(t){let e=-1;for(let i=0;i<t.length;i++)e=n[255&(e^t[i])]^e>>>8;return~e}},{}],6:[function(t,e,i){(function(i){(function(){let n=t("./paeth-predictor");function r(t,e,i,n,r){for(let a=0;a<i;a++)n[r+a]=t[e+a]}function a(t,e,i){let n=0,r=e+i;for(let a=e;a<r;a++)n+=Math.abs(t[a]);return n}function o(t,e,i,n,r,a){for(let o=0;o<i;o++){let i=o>=a?t[e+o-a]:0,s=t[e+o]-i;n[r+o]=s}}function s(t,e,i,n){let r=0;for(let a=0;a<i;a++){let i=a>=n?t[e+a-n]:0,o=t[e+a]-i;r+=Math.abs(o)}return r}function l(t,e,i,n,r){for(let a=0;a<i;a++){let o=e>0?t[e+a-i]:0,s=t[e+a]-o;n[r+a]=s}}function u(t,e,i){let n=0,r=e+i;for(let a=e;a<r;a++){let r=e>0?t[a-i]:0,o=t[a]-r;n+=Math.abs(o)}return n}function c(t,e,i,n,r,a){for(let o=0;o<i;o++){let s=o>=a?t[e+o-a]:0,l=e>0?t[e+o-i]:0,u=t[e+o]-(s+l>>1);n[r+o]=u}}function d(t,e,i,n){let r=0;for(let a=0;a<i;a++){let o=a>=n?t[e+a-n]:0,s=e>0?t[e+a-i]:0,l=t[e+a]-(o+s>>1);r+=Math.abs(l)}return r}function h(t,e,i,r,a,o){for(let s=0;s<i;s++){let l=s>=o?t[e+s-o]:0,u=e>0?t[e+s-i]:0,c=e>0&&s>=o?t[e+s-(i+o)]:0,d=t[e+s]-n(l,u,c);r[a+s]=d}}function f(t,e,i,r){let a=0;for(let o=0;o<i;o++){let s=o>=r?t[e+o-r]:0,l=e>0?t[e+o-i]:0,u=e>0&&o>=r?t[e+o-(i+r)]:0,c=t[e+o]-n(s,l,u);a+=Math.abs(c)}return a}let p={0:r,1:o,2:l,3:c,4:h},m={0:a,1:s,2:u,3:d,4:f};e.exports=function(t,e,n,r,a){let o;if("filterType"in r&&-1!==r.filterType){if("number"!=typeof r.filterType)throw new Error("unrecognised filter types");o=[r.filterType]}else o=[0,1,2,3,4];16===r.bitDepth&&(a*=2);let s=e*a,l=0,u=0,c=i.alloc((s+1)*n),d=o[0];for(let i=0;i<n;i++){if(o.length>1){let e=1/0;for(let i=0;i<o.length;i++){let n=m[o[i]](t,u,s,a);n<e&&(d=o[i],e=n)}}c[l]=d,l++,p[d](t,u,s,c,l,a),l+=s,u+=s}return c}}).call(this)}).call(this,t("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(t,e,i){(function(i){(function(){let n=t("util"),r=t("./chunkstream"),a=t("./filter-parse"),o=e.exports=function(t){r.call(this);let e=[],n=this;this._filter=new a(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){n.emit("complete",i.concat(e))}}),this._filter.start()};n.inherits(o,r)}).call(this)}).call(this,t("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(t,e,i){(function(e){(function(){let n=t("./sync-reader"),r=t("./filter-parse");i.process=function(t,i){let a=[],o=new n(t);return new r(i,{read:o.read.bind(o),write:function(t){a.push(t)},complete:function(){}}).start(),o.process(),e.concat(a)}}).call(this)}).call(this,t("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(t,e,i){(function(i){(function(){let n=t("./interlace"),r=t("./paeth-predictor");function a(t,e,i){let n=t*e;return 8!==i&&(n=Math.ceil(n/(8/i))),n}let o=e.exports=function(t,e){let i=t.width,r=t.height,o=t.interlace,s=t.bpp,l=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],o){let t=n.getImagePasses(i,r);for(let e=0;e<t.length;e++)this._images.push({byteWidth:a(t[e].width,s,l),height:t[e].height,lineIndex:0})}else this._images.push({byteWidth:a(i,s,l),height:r,lineIndex:0});this._xComparison=8===l?s:16===l?2*s:1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(t,e,i){let n=this._xComparison,r=n-1;for(let a=0;a<i;a++){let i=t[1+a],o=a>r?e[a-n]:0;e[a]=i+o}},o.prototype._unFilterType2=function(t,e,i){let n=this._lastLine;for(let r=0;r<i;r++){let i=t[1+r],a=n?n[r]:0;e[r]=i+a}},o.prototype._unFilterType3=function(t,e,i){let n=this._xComparison,r=n-1,a=this._lastLine;for(let o=0;o<i;o++){let i=t[1+o],s=a?a[o]:0,l=o>r?e[o-n]:0,u=Math.floor((l+s)/2);e[o]=i+u}},o.prototype._unFilterType4=function(t,e,i){let n=this._xComparison,a=n-1,o=this._lastLine;for(let s=0;s<i;s++){let i=t[1+s],l=o?o[s]:0,u=s>a?e[s-n]:0,c=s>a&&o?o[s-n]:0,d=r(u,l,c);e[s]=i+d}},o.prototype._reverseFilterLine=function(t){let e,n=t[0],r=this._images[this._imageIndex],a=r.byteWidth;if(0===n)e=t.slice(1,a+1);else switch(e=i.alloc(a),n){case 1:this._unFilterType1(t,e,a);break;case 2:this._unFilterType2(t,e,a);break;case 3:this._unFilterType3(t,e,a);break;case 4:this._unFilterType4(t,e,a);break;default:throw new Error("Unrecognised filter type - "+n)}this.write(e),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=e,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,t("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(t,e,i){(function(t){(function(){function i(t,e,i,n,r){let a=0;for(let o=0;o<n;o++)for(let n=0;n<i;n++){let i=r[t[a]];if(!i)throw new Error("index "+t[a]+" not in palette");for(let t=0;t<4;t++)e[a+t]=i[t];a+=4}}function n(t,e,i,n,r){let a=0;for(let o=0;o<n;o++)for(let n=0;n<i;n++){let i=!1;if(1===r.length?r[0]===t[a]&&(i=!0):r[0]===t[a]&&r[1]===t[a+1]&&r[2]===t[a+2]&&(i=!0),i)for(let t=0;t<4;t++)e[a+t]=0;a+=4}}function r(t,e,i,n,r){let a=255,o=Math.pow(2,r)-1,s=0;for(let l=0;l<n;l++)for(let n=0;n<i;n++){for(let i=0;i<4;i++)e[s+i]=Math.floor(t[s+i]*a/o+.5);s+=4}}e.exports=function(e,a,o=!1){let s=a.depth,l=a.width,u=a.height,c=a.colorType,d=a.transColor,h=a.palette,f=e;return 3===c?i(e,f,l,u,h):(d&&n(e,f,l,u,d),8===s||o||(16===s&&(f=t.alloc(l*u*4)),r(e,f,l,u,s))),f}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:32}],11:[function(t,e,i){let n=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];i.getImagePasses=function(t,e){let i=[],r=t%8,a=e%8,o=(t-r)/8,s=(e-a)/8;for(let l=0;l<n.length;l++){let t=n[l],e=o*t.x.length,u=s*t.y.length;for(let i=0;i<t.x.length&&t.x[i]<r;i++)e++;for(let i=0;i<t.y.length&&t.y[i]<a;i++)u++;e>0&&u>0&&i.push({width:e,height:u,index:l})}return i},i.getInterlaceIterator=function(t){return function(e,i,r){let a=e%n[r].x.length,o=(e-a)/n[r].x.length*8+n[r].x[a],s=i%n[r].y.length;return 4*o+((i-s)/n[r].y.length*8+n[r].y[s])*t*4}}},{}],12:[function(t,e,i){(function(i){(function(){let n=t("util"),r=t("stream"),a=t("./constants"),o=t("./packer"),s=e.exports=function(t){r.call(this);let e=t||{};this._packer=new o(e),this._deflate=this._packer.createDeflate(),this.readable=!0};n.inherits(s,r),s.prototype.pack=function(t,e,n,r){this.emit("data",i.from(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,n)),r&&this.emit("data",this._packer.packGAMA(r));let o=this._packer.filterData(t,e,n);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(o)}}).call(this)}).call(this,t("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(t,e,i){(function(i){(function(){let n=!0,r=t("zlib");r.deflateSync||(n=!1);let a=t("./constants"),o=t("./packer");e.exports=function(t,e){if(!n)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let s=new o(e||{}),l=[];l.push(i.from(a.PNG_SIGNATURE)),l.push(s.packIHDR(t.width,t.height)),t.gamma&&l.push(s.packGAMA(t.gamma));let u=s.filterData(t.data,t.width,t.height),c=r.deflateSync(u,s.getDeflateOptions());if(u=null,!c||!c.length)throw new Error("bad png - invalid compressed data response");return l.push(s.packIDAT(c)),l.push(s.packIEND()),i.concat(l)}}).call(this)}).call(this,t("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(t,e,i){(function(i){(function(){let n=t("./constants"),r=t("./crc"),a=t("./bitpacker"),o=t("./filter-pack"),s=t("zlib"),l=e.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:n.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:n.COLORTYPE_COLOR_ALPHA,-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(t,e,i){let r=a(t,e,i,this._options),s=n.COLORTYPE_TO_BPP_MAP[this._options.colorType];return o(r,e,i,this._options,s)},l.prototype._packChunk=function(t,e){let n=e?e.length:0,a=i.alloc(n+12);return a.writeUInt32BE(n,0),a.writeUInt32BE(t,4),e&&e.copy(a,8),a.writeInt32BE(r.crc32(a.slice(4,a.length-4)),a.length-4),a},l.prototype.packGAMA=function(t){let e=i.alloc(4);return e.writeUInt32BE(Math.floor(t*n.GAMMA_DIVISION),0),this._packChunk(n.TYPE_gAMA,e)},l.prototype.packIHDR=function(t,e){let r=i.alloc(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(n.TYPE_IHDR,r)},l.prototype.packIDAT=function(t){return this._packChunk(n.TYPE_IDAT,t)},l.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}}).call(this)}).call(this,t("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(t,e,i){e.exports=function(t,e,i){let n=t+e-i,r=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-i);return r<=a&&r<=o?t:a<=o?e:i}},{}],16:[function(t,e,i){let n=t("util"),r=t("zlib"),a=t("./chunkstream"),o=t("./filter-parse-async"),s=t("./parser"),l=t("./bitmapper"),u=t("./format-normaliser"),c=e.exports=function(t){a.call(this),this._parser=new s(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};n.inherits(c,a),c.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},c.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=r.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let t=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,e=Math.max(t,r.Z_MIN_CHUNK);this._inflate=r.createInflate({chunkSize:e});let i=t,n=this.emit.bind(this,"error");this._inflate.on("error",(function(t){i&&n(t)})),this._filter.on("complete",this._complete.bind(this));let a=this._filter.write.bind(this._filter);this._inflate.on("data",(function(t){i&&(t.length>i&&(t=t.slice(0,i)),i-=t.length,a(t))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},c.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new o(this._bitmapInfo)},c.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},c.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},c.prototype._simpleTransparency=function(){this._metaData.alpha=!0},c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},c.prototype._complete=function(t){if(this.errord)return;let e;try{let i=l.dataToBitMap(t,this._bitmapInfo);e=u(i,this._bitmapInfo,this._options.skipRescale),i=null}catch(t){return void this._handleError(t)}this.emit("parsed",e)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(t,e,i){(function(i){(function(){let n=!0,r=t("zlib"),a=t("./sync-inflate");r.deflateSync||(n=!1);let o=t("./sync-reader"),s=t("./filter-parse-sync"),l=t("./parser"),u=t("./bitmapper"),c=t("./format-normaliser");e.exports=function(t,e){if(!n)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let d,h,f;function p(t){d=t}function m(t){h=t}function b(t){h.transColor=t}function g(t){h.palette=t}function y(){h.alpha=!0}function Z(t){f=t}let _=[];function v(t){_.push(t)}let w=new o(t);if(new l(e,{read:w.read.bind(w),error:p,metadata:m,gamma:Z,palette:g,transColor:b,inflateData:v,simpleTransparency:y}).start(),w.process(),d)throw d;let S,x=i.concat(_);if(_.length=0,h.interlace)S=r.inflateSync(x);else{let t=(1+(h.width*h.bpp*h.depth+7>>3))*h.height;S=a(x,{chunkSize:t,maxLength:t})}if(x=null,!S||!S.length)throw new Error("bad png - invalid inflate data response");let I=s.process(S,h);x=null;let W=u.dataToBitMap(I,h);I=null;let V=c(W,h,e.skipRescale);return h.data=V,h.gamma=f||0,h}}).call(this)}).call(this,t("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(t,e,i){(function(i){(function(){let n=t("./constants"),r=t("./crc"),a=e.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};a.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(t){let e=n.PNG_SIGNATURE;for(let i=0;i<e.length;i++)if(t[i]!==e[i])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(t){let e=t.readUInt32BE(0),a=t.readUInt32BE(4),o="";for(let i=4;i<8;i++)o+=String.fromCharCode(t[i]);let s=Boolean(32&t[4]);if(this._hasIHDR||a===n.TYPE_IHDR){if(this._crc=new r,this._crc.write(i.from(o)),this._chunks[a])return this._chunks[a](e);s?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+o))}else this.error(new Error("Expected IHDR on beggining"))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(t){let e=t.readInt32BE(0),i=this._crc.crc32();this._options.checkCRC&&i!==e?this.error(new Error("Crc error - "+e+" - "+i)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(t){this._crc.write(t);let e=t.readUInt32BE(0),i=t.readUInt32BE(4),r=t[8],a=t[9],o=t[10],s=t[11],l=t[12];if(8!==r&&4!==r&&2!==r&&1!==r&&16!==r)return void this.error(new Error("Unsupported bit depth "+r));if(!(a in n.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==o)return void this.error(new Error("Unsupported compression method"));if(0!==s)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=a;let u=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:i,depth:r,interlace:Boolean(l),palette:Boolean(a&n.COLORTYPE_PALETTE),color:Boolean(a&n.COLORTYPE_COLOR),alpha:Boolean(a&n.COLORTYPE_ALPHA),bpp:u,colorType:a}),this._handleChunkEnd()},a.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(t){this._crc.write(t);let e=Math.floor(t.length/3);for(let i=0;i<e;i++)this._palette.push([t[3*i],t[3*i+1],t[3*i+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},a.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);let i=t-e.length;i>0?this._handleIDAT(i):this._handleChunkEnd()},a.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},a.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,t("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(t,e,i){let n=t("./parser-sync"),r=t("./packer-sync");i.read=function(t,e){return n(t,e||{})},i.write=function(t,e){return r(t,e)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(t,e,i){(function(e,n){(function(){let r=t("util"),a=t("stream"),o=t("./parser-async"),s=t("./packer-async"),l=t("./png-sync"),u=i.PNG=function(t){a.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?n.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new s(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};r.inherits(u,a),u.sync=l,u.prototype.pack=function(){return this.data&&this.data.length?(e.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},u.prototype.parse=function(t,e){if(e){let t,i;t=function(t){this.removeListener("error",i),this.data=t,e(null,this)}.bind(this),i=function(i){this.removeListener("parsed",t),e(i,null)}.bind(this),this.once("parsed",t),this.once("error",i)}return this.end(t),this},u.prototype.write=function(t){return this._parser.write(t),!0},u.prototype.end=function(t){this._parser.end(t)},u.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},u.prototype._gamma=function(t){this.gamma=t},u.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},u.bitblt=function(t,e,i,n,r,a,o,s){if(n|=0,r|=0,a|=0,o|=0,s|=0,(i|=0)>t.width||n>t.height||i+r>t.width||n+a>t.height)throw new Error("bitblt reading outside image");if(o>e.width||s>e.height||o+r>e.width||s+a>e.height)throw new Error("bitblt writing outside image");for(let l=0;l<a;l++)t.data.copy(e.data,(s+l)*e.width+o<<2,(n+l)*t.width+i<<2,(n+l)*t.width+i+r<<2)},u.prototype.bitblt=function(t,e,i,n,r,a,o){return u.bitblt(this,t,e,i,n,r,a,o),this},u.adjustGamma=function(t){if(t.gamma){for(let e=0;e<t.height;e++)for(let i=0;i<t.width;i++){let n=t.width*e+i<<2;for(let e=0;e<3;e++){let i=t.data[n+e]/255;i=Math.pow(i,1/2.2/t.gamma),t.data[n+e]=Math.round(255*i)}}t.gamma=0}},u.prototype.adjustGamma=function(){u.adjustGamma(this)}}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(t,e,i){(function(n,r){(function(){let n=t("assert").ok,a=t("zlib"),o=t("util"),s=t("buffer").kMaxLength;function l(t){if(!(this instanceof l))return new l(t);t&&t.chunkSize<a.Z_MIN_CHUNK&&(t.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function u(t){return new l(t)}function c(t,e){t._handle&&(t._handle.close(),t._handle=null)}function d(t,e){if("string"==typeof e&&(e=r.from(e)),!(e instanceof r))throw new TypeError("Not a string or buffer");let i=t._finishFlushFlag;return null==i&&(i=a.Z_FINISH),t._processChunk(e,i)}function h(t,e){return d(new l(e),t)}l.prototype._processChunk=function(t,e,i){if("function"==typeof i)return a.Inflate._processChunk.call(this,t,e,i);let o,l,u=this,d=t&&t.length,h=this._chunkSize-this._offset,f=this._maxLength,p=0,m=[],b=0;function g(t,e){if(u._hadError)return;let i=h-e;if(n(i>=0,"have should not go down"),i>0){let t=u._buffer.slice(u._offset,u._offset+i);if(u._offset+=i,t.length>f&&(t=t.slice(0,f)),m.push(t),b+=t.length,f-=t.length,0===f)return!1}return(0===e||u._offset>=u._chunkSize)&&(h=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===e&&(p+=d-t,d=t,!0)}this.on("error",(function(t){o=t})),n(this._handle,"zlib binding closed");do{l=this._handle.writeSync(e,t,p,d,this._buffer,this._offset,h),l=l||this._writeState}while(!this._hadError&&g(l[0],l[1]));if(this._hadError)throw o;if(b>=s)throw c(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let y=r.concat(m,b);return c(this),y},o.inherits(l,a.Inflate),e.exports=i=h,i.Inflate=l,i.createInflate=u,i.inflateSync=h}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(t,e,i){let n=e.exports=function(t){this._buffer=t,this._reads=[]};n.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},n.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;{this._reads.shift();let e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(t,e,i){(function(i){(function(){var n=t("object-assign");function r(t,e){if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0}function a(t){return i.Buffer&&"function"==typeof i.Buffer.isBuffer?i.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=t("util/"),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function d(t){return!a(t)&&"function"==typeof i.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var h=e.exports=Z,f=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(f);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function b(t){if(u||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t){return m(b(t.actual),128)+" "+t.operator+" "+m(b(t.expected),128)}function y(t,e,i,n,r){throw new h.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:r})}function Z(t,e){t||y(t,!0,e,"==",h.ok)}function _(t,e,i,n){if(t===e)return!0;if(a(t)&&a(e))return 0===r(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(d(t)&&d(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),w(t,e,i,n))}return i?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e,i,n){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(i&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=v(t),a=v(e);if(r&&!a||!r&&a)return!1;if(r)return _(t=l.call(t),e=l.call(e),i);var s,u,c=X(t),d=X(e);if(c.length!==d.length)return!1;for(c.sort(),d.sort(),u=c.length-1;u>=0;u--)if(c[u]!==d[u])return!1;for(u=c.length-1;u>=0;u--)if(!_(t[s=c[u]],e[s],i,n))return!1;return!0}function S(t,e,i){_(t,e,!0)&&y(t,e,i,"notDeepStrictEqual",S)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function I(t){var e;try{t()}catch(t){e=t}return e}function W(t,e,i,n){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),r=I(e),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!r&&y(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!t&&r&&!i;if((!t&&o.isError(r)&&a&&x(r,i)||s)&&y(r,i,"Got unwanted exception"+n),t&&r&&i&&!x(r,i)||!t&&r)throw r}function V(t,e){t||y(t,!0,e,"==",V)}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=g(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var i=new Error;if(i.stack){var n=i.stack,r=p(e),a=n.indexOf("\n"+r);if(a>=0){var o=n.indexOf("\n",a+1);n=n.substring(o+1)}this.stack=n}}},o.inherits(h.AssertionError,Error),h.fail=y,h.ok=Z,h.equal=function(t,e,i){t!=e&&y(t,e,i,"==",h.equal)},h.notEqual=function(t,e,i){t==e&&y(t,e,i,"!=",h.notEqual)},h.deepEqual=function(t,e,i){_(t,e,!1)||y(t,e,i,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,i){_(t,e,!0)||y(t,e,i,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,i){_(t,e,!1)&&y(t,e,i,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=S,h.strictEqual=function(t,e,i){t!==e&&y(t,e,i,"===",h.strictEqual)},h.notStrictEqual=function(t,e,i){t===e&&y(t,e,i,"!==",h.notStrictEqual)},h.throws=function(t,e,i){W(!0,t,e,i)},h.doesNotThrow=function(t,e,i){W(!1,t,e,i)},h.ifError=function(t){if(t)throw t},h.strict=n(V,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var X=Object.keys||function(t){var e=[];for(var i in t)s.call(t,i)&&e.push(i);return e}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":51,"util/":26}],24:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],25:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],26:[function(t,e,i){(function(e,n){(function(){var r=/%[sdj%]/g;i.format=function(t){if(!w(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(s(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,a=n.length,o=String(t).replace(r,(function(t){if("%%"===t)return"%";if(i>=a)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}})),l=n[i];i<a;l=n[++i])Z(l)||!W(l)?o+=" "+l:o+=" "+s(l);return o},i.deprecate=function(t,r){if(x(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;function o(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation,a=!0}return t.apply(this,arguments)}return o};var a,o={};function s(t,e){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(e)?n.showHidden=e:e&&i._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),d(n,t,n.depth)}function l(t,e){var i=s.styles[e];return i?"["+s.colors[i][0]+"m"+t+"["+s.colors[i][1]+"m":t}function u(t,e){return t}function c(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}function d(t,e,n){if(t.customInspect&&e&&k(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return w(r)||(r=d(t,r,n)),r}var a=h(t,e);if(a)return a;var o=Object.keys(e),s=c(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),X(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(e);if(0===o.length){if(k(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(I(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(V(e))return t.stylize(Date.prototype.toString.call(e),"date");if(X(e))return f(e)}var u,y="",Z=!1,_=["{","}"];return g(e)&&(Z=!0,_=["[","]"]),k(e)&&(y=" [Function"+(e.name?": "+e.name:"")+"]"),I(e)&&(y=" "+RegExp.prototype.toString.call(e)),V(e)&&(y=" "+Date.prototype.toUTCString.call(e)),X(e)&&(y=" "+f(e)),0!==o.length||Z&&0!=e.length?n<0?I(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=Z?p(t,e,n,s,o):o.map((function(i){return m(t,e,n,s,i,Z)})),t.seen.pop(),b(u,y,_)):_[0]+y+_[1]}function h(t,e){if(x(e))return t.stylize("undefined","undefined");if(w(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return v(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):Z(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,i,n,r){for(var a=[],o=0,s=e.length;o<s;++o)T(e,String(o))?a.push(m(t,e,i,n,String(o),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(m(t,e,i,n,r,!0))})),a}function m(t,e,i,n,r,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),T(n,r)||(o="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=Z(i)?d(t,l.value,null):d(t,l.value,i-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),x(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function b(t,e,i){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function g(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function Z(t){return null===t}function _(t){return null==t}function v(t){return"number"==typeof t}function w(t){return"string"==typeof t}function S(t){return"symbol"==typeof t}function x(t){return void 0===t}function I(t){return W(t)&&"[object RegExp]"===R(t)}function W(t){return"object"==typeof t&&null!==t}function V(t){return W(t)&&"[object Date]"===R(t)}function X(t){return W(t)&&("[object Error]"===R(t)||t instanceof Error)}function k(t){return"function"==typeof t}function G(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function R(t){return Object.prototype.toString.call(t)}i.debuglog=function(t){if(x(a)&&(a=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(a)){e.pid;o[t]=function(){i.format.apply(i,arguments)}}else o[t]=function(){};return o[t]},i.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=g,i.isBoolean=y,i.isNull=Z,i.isNullOrUndefined=_,i.isNumber=v,i.isString=w,i.isSymbol=S,i.isUndefined=x,i.isRegExp=I,i.isObject=W,i.isDate=V,i.isError=X,i.isFunction=k,i.isPrimitive=G,i.isBuffer=t("./support/isBuffer");function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.log=function(){},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!W(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this)}).call(this,t("_process"),void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(t,e,i){(function(t){(function(){var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?t:globalThis;e.exports=function(){for(var t=[],e=0;e<i.length;e++)"function"==typeof n[i[e]]&&(t[t.length]=i[e]);return t}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){i.byteLength=c,i.toByteArray=h,i.fromByteArray=m;for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function d(t,e,i){return 3*(e+i)/4-i}function h(t){var e,i,n=u(t),o=n[0],s=n[1],l=new a(d(t,o,s)),c=0,h=s>0?o-4:o;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;return 2===s&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[c++]=255&e),1===s&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e),l}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,i){for(var n,r=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),r.push(f(n));return r.join("")}function m(t){for(var e,i=t.length,r=i%3,a=[],o=16383,s=0,l=i-r;s<l;s+=o)a.push(p(t,s,s+o>l?l:s+o));return 1===r?(e=t[i-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],29:[function(t,e,i){},{}],30:[function(t,e,i){(function(e,n){(function(){var r=t("assert"),a=t("pako/lib/zlib/zstream"),o=t("pako/lib/zlib/deflate.js"),s=t("pako/lib/zlib/inflate.js"),l=t("pako/lib/zlib/constants");for(var u in l)i[u]=l[u];i.NONE=0,i.DEFLATE=1,i.INFLATE=2,i.GZIP=3,i.GUNZIP=4,i.DEFLATERAW=5,i.INFLATERAW=6,i.UNZIP=7;var c=31,d=139;function h(t){if("number"!=typeof t||t<i.DEFLATE||t>i.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=i.UNZIP),this.mode===i.DEFLATE||this.mode===i.GZIP||this.mode===i.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==i.INFLATE&&this.mode!==i.GUNZIP&&this.mode!==i.INFLATERAW&&this.mode!==i.UNZIP||s.inflateEnd(this.strm),this.mode=i.NONE,this.dictionary=null)},h.prototype.write=function(t,e,i,n,r,a,o){return this._write(!0,t,e,i,n,r,a,o)},h.prototype.writeSync=function(t,e,i,n,r,a,o){return this._write(!1,t,e,i,n,r,a,o)},h.prototype._write=function(t,a,o,s,l,u,c,d){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==i.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==i.Z_NO_FLUSH&&a!==i.Z_PARTIAL_FLUSH&&a!==i.Z_SYNC_FLUSH&&a!==i.Z_FULL_FLUSH&&a!==i.Z_FINISH&&a!==i.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=n.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=d,this.strm.output=u,this.strm.next_out=c,this.flush=a,!t)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return e.nextTick((function(){h._process(),h._after()})),this},h.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},h.prototype._process=function(){var t=null;switch(this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case i.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==c){this.mode=i.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===d?(this.gzip_id_bytes_read=2,this.mode=i.GUNZIP):this.mode=i.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===i.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===i.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===i.Z_DATA_ERROR&&(this.err=i.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===i.GUNZIP&&this.err===i.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case i.Z_OK:case i.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===i.Z_FINISH)return this._error("unexpected end of file"),!1;break;case i.Z_STREAM_END:break;case i.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},h.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(t,e,n,a,o){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(t>=8&&t<=15,"invalid windowBits"),r(e>=-1&&e<=9,"invalid compression level"),r(n>=1&&n<=9,"invalid memlevel"),r(a===i.Z_FILTERED||a===i.Z_HUFFMAN_ONLY||a===i.Z_RLE||a===i.Z_FIXED||a===i.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,n,a,o),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(t,e,n,r,l){switch(this.level=t,this.windowBits=e,this.memLevel=n,this.strategy=r,this.flush=i.Z_NO_FLUSH,this.err=i.Z_OK,this.mode!==i.GZIP&&this.mode!==i.GUNZIP||(this.windowBits+=16),this.mode===i.UNZIP&&(this.windowBits+=32),this.mode!==i.DEFLATERAW&&this.mode!==i.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,i.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:case i.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==i.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==i.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:case i.GZIP:this.err=o.deflateReset(this.strm);break;case i.INFLATE:case i.INFLATERAW:case i.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==i.Z_OK&&this._error("Failed to reset stream")},i.Zlib=h}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(t,e,i){(function(e){(function(){var n=t("buffer").Buffer,r=t("stream").Transform,a=t("./binding"),o=t("util"),s=t("assert").ok,l=t("buffer").kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(a),d=0;d<c.length;d++){var h=c[d];h.match(/^Z/)&&Object.defineProperty(i,h,{enumerable:!0,value:a[h],writable:!1})}for(var f={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(f),m=0;m<p.length;m++){var b=p[m];f[f[b]]=b}function g(t,e,i){var r=[],a=0;function o(){for(var e;null!==(e=t.read());)r.push(e),a+=e.length;t.once("readable",o)}function s(e){t.removeListener("end",c),t.removeListener("readable",o),i(e)}function c(){var e,o=null;a>=l?o=new RangeError(u):e=n.concat(r,a),r=[],t.close(),i(o,e)}t.on("error",s),t.on("end",c),t.end(e),o()}function y(t,e){if("string"==typeof e&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Not a string or buffer");var i=t._finishFlushFlag;return t._processChunk(e,i)}function Z(t){if(!(this instanceof Z))return new Z(t);V.call(this,t,a.DEFLATE)}function _(t){if(!(this instanceof _))return new _(t);V.call(this,t,a.INFLATE)}function v(t){if(!(this instanceof v))return new v(t);V.call(this,t,a.GZIP)}function w(t){if(!(this instanceof w))return new w(t);V.call(this,t,a.GUNZIP)}function S(t){if(!(this instanceof S))return new S(t);V.call(this,t,a.DEFLATERAW)}function x(t){if(!(this instanceof x))return new x(t);V.call(this,t,a.INFLATERAW)}function I(t){if(!(this instanceof I))return new I(t);V.call(this,t,a.UNZIP)}function W(t){return t===a.Z_NO_FLUSH||t===a.Z_PARTIAL_FLUSH||t===a.Z_SYNC_FLUSH||t===a.Z_FULL_FLUSH||t===a.Z_FINISH||t===a.Z_BLOCK}function V(t,e){var o=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||i.Z_DEFAULT_CHUNK,r.call(this,t),t.flush&&!W(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!W(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:a.Z_FINISH,t.chunkSize&&(t.chunkSize<i.Z_MIN_CHUNK||t.chunkSize>i.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<i.Z_MIN_WINDOWBITS||t.windowBits>i.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<i.Z_MIN_LEVEL||t.level>i.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<i.Z_MIN_MEMLEVEL||t.memLevel>i.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=i.Z_FILTERED&&t.strategy!=i.Z_HUFFMAN_ONLY&&t.strategy!=i.Z_RLE&&t.strategy!=i.Z_FIXED&&t.strategy!=i.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!n.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(e);var s=this;this._hadError=!1,this._handle.onerror=function(t,e){X(s),s._hadError=!0;var n=new Error(t);n.errno=e,n.code=i.codes[e],s.emit("error",n)};var l=i.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(l=t.level);var u=i.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(u=t.strategy),this._handle.init(t.windowBits||i.Z_DEFAULT_WINDOWBITS,l,t.memLevel||i.Z_DEFAULT_MEMLEVEL,u,t.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function X(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function k(t){t.emit("close")}Object.defineProperty(i,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),i.Deflate=Z,i.Inflate=_,i.Gzip=v,i.Gunzip=w,i.DeflateRaw=S,i.InflateRaw=x,i.Unzip=I,i.createDeflate=function(t){return new Z(t)},i.createInflate=function(t){return new _(t)},i.createDeflateRaw=function(t){return new S(t)},i.createInflateRaw=function(t){return new x(t)},i.createGzip=function(t){return new v(t)},i.createGunzip=function(t){return new w(t)},i.createUnzip=function(t){return new I(t)},i.deflate=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new Z(e),t,i)},i.deflateSync=function(t,e){return y(new Z(e),t)},i.gzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new v(e),t,i)},i.gzipSync=function(t,e){return y(new v(e),t)},i.deflateRaw=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new S(e),t,i)},i.deflateRawSync=function(t,e){return y(new S(e),t)},i.unzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new I(e),t,i)},i.unzipSync=function(t,e){return y(new I(e),t)},i.inflate=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new _(e),t,i)},i.inflateSync=function(t,e){return y(new _(e),t)},i.gunzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new w(e),t,i)},i.gunzipSync=function(t,e){return y(new w(e),t)},i.inflateRaw=function(t,e,i){return"function"==typeof e&&(i=e,e={}),g(new x(e),t,i)},i.inflateRawSync=function(t,e){return y(new x(e),t)},o.inherits(V,r),V.prototype.params=function(t,n,r){if(t<i.Z_MIN_LEVEL||t>i.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=i.Z_FILTERED&&n!=i.Z_HUFFMAN_ONLY&&n!=i.Z_RLE&&n!=i.Z_FIXED&&n!=i.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(t,n),o._hadError||(o._level=t,o._strategy=n,r&&r())}))}else e.nextTick(r)},V.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},V.prototype._flush=function(t){this._transform(n.alloc(0),"",t)},V.prototype.flush=function(t,i){var r=this,o=this._writableState;("function"==typeof t||void 0===t&&!i)&&(i=t,t=a.Z_FULL_FLUSH),o.ended?i&&e.nextTick(i):o.ending?i&&this.once("end",i):o.needDrain?i&&this.once("drain",(function(){return r.flush(t,i)})):(this._flushFlag=t,this.write(n.alloc(0),"",i))},V.prototype.close=function(t){X(this,t),e.nextTick(k,this)},V.prototype._transform=function(t,e,i){var r,o=this._writableState,s=(o.ending||o.ended)&&(!t||o.length===t.length);return null===t||n.isBuffer(t)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,t.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(t,r,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},V.prototype._processChunk=function(t,e,i){var r=t&&t.length,a=this._chunkSize-this._offset,o=0,c=this,d="function"==typeof i;if(!d){var h,f=[],p=0;this.on("error",(function(t){h=t})),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(e,t,o,r,this._buffer,this._offset,a)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw h;if(p>=l)throw X(this),new RangeError(u);var b=n.concat(f,p);return X(this),b}s(this._handle,"zlib binding closed");var g=this._handle.write(e,t,o,r,this._buffer,this._offset,a);function y(l,u){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=a-u;if(s(h>=0,"have should not go down"),h>0){var m=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,d?c.push(m):(f.push(m),p+=m.length)}if((0===u||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=n.allocUnsafe(c._chunkSize)),0===u){if(o+=r-l,r=l,!d)return!0;var b=c._handle.write(e,t,o,r,c._buffer,c._offset,c._chunkSize);return b.callback=y,void(b.buffer=t)}if(!d)return!1;i()}}g.buffer=t,g.callback=y},o.inherits(Z,V),o.inherits(_,V),o.inherits(v,V),o.inherits(w,V),o.inherits(S,V),o.inherits(x,V),o.inherits(I,V)}).call(this)}).call(this,t("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(t,e,i){(function(e){(function(){var e=t("base64-js"),n=t("ieee754");i.Buffer=s,i.SlowBuffer=g,i.INSPECT_MAX_BYTES=50;var r=2147483647;function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}function o(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=s.prototype,e}function s(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return l(t,e,i)}function l(t,e,i){if("string"==typeof t)return h(t,e);if(ArrayBuffer.isView(t))return f(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(D(t,ArrayBuffer)||t&&D(t.buffer,ArrayBuffer))return p(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,i);var r=m(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t,e,i){return u(t),t<=0?o(t):void 0!==e?"string"==typeof i?o(t).fill(e,i):o(t).fill(e):o(t)}function d(t){return u(t),o(t<0?0:0|b(t))}function h(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|y(t,e),n=o(i),r=n.write(t,e);return r!==i&&(n=n.slice(0,r)),n}function f(t){for(var e=t.length<0?0:0|b(t.length),i=o(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function p(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i)).__proto__=s.prototype,n}function m(t){if(s.isBuffer(t)){var e=0|b(t.length),i=o(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||Q(t.length)?o(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}function b(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function y(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||D(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return j(t).length;default:if(r)return n?-1:J(t).length;e=(""+e).toLowerCase(),r=!0}}function Z(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,i);case"utf8":case"utf-8":return G(this,e,i);case"ascii":return E(this,e,i);case"latin1":case"binary":return C(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function v(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Q(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,r){var a,o=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(a=i;a<s;a++)if(u(t,a)===u(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(i+l>s&&(i=s-l),a=i;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(u(t,a+h)!==u(e,h)){d=!1;break}if(d)return a}return-1}function S(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var a=e.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(Q(s))return o;t[i+o]=s}return o}function x(t,e,i,n){return O(J(e,t.length-i),t,i,n)}function I(t,e,i,n){return O(H(e),t,i,n)}function W(t,e,i,n){return I(t,e,i,n)}function V(t,e,i,n){return O(j(e),t,i,n)}function X(t,e,i,n){return O(A(e,t.length-i),t,i,n)}function k(t,i,n){return 0===i&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(i,n))}function G(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var a,o,s,l,u=t[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(a=t[r+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=t[r+1],o=t[r+2],128==(192&a)&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=t[r+1],o=t[r+2],s=t[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return T(n)}i.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=a(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||console.error,Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,e,i){return l(t,e,i)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,e,i){return c(t,e,i)},s.allocUnsafe=function(t){return d(t)},s.allocUnsafeSlow=function(t){return d(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=s.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(D(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?G(this,0,t):Z.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},s.prototype.compare=function(t,e,i,n,r){if(D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),l=Math.min(a,o),u=this.slice(n,r),c=t.slice(e,i),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],o=c[d];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},s.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},s.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},s.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return S(this,t,e,i);case"utf8":case"utf-8":return x(this,t,e,i);case"ascii":return I(this,t,e,i);case"latin1":case"binary":return W(this,t,e,i);case"base64":return V(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function T(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=R));return i}function E(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function C(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function M(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=e;a<i;++a)r+=z(t[a]);return r}function L(t,e,i){for(var n=t.slice(e,i),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function K(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,n,r,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function Y(t,e,i,n,r,a){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(t,e,i,r,a){return e=+e,i>>>=0,a||Y(t,e,i,4),n.write(t,e,i,r,23,4),i+4}function F(t,e,i,r,a){return e=+e,i>>>=0,a||Y(t,e,i,8),n.write(t,e,i,r,52,8),i+8}s.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||K(t,e,this.length);for(var n=this[t],r=1,a=0;++a<e&&(r*=256);)n+=this[t+a]*r;return n},s.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||K(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},s.prototype.readUInt8=function(t,e){return t>>>=0,e||K(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||K(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||K(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||K(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||K(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||K(t,e,this.length);for(var n=this[t],r=1,a=0;++a<e&&(r*=256);)n+=this[t+a]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||K(t,e,this.length);for(var n=e,r=1,a=this[t+--n];n>0&&(r*=256);)a+=this[t+--n]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*e)),a},s.prototype.readInt8=function(t,e){return t>>>=0,e||K(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||K(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(t,e){t>>>=0,e||K(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||K(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||K(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||K(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||K(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||K(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||K(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,a=0;for(this[e]=255&t;++a<i&&(r*=256);)this[e+a]=t/r&255;return e+i},s.prototype.writeUIntBE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,a=1;for(this[e+r]=255&t;--r>=0&&(a*=256);)this[e+r]=t/a&255;return e+i},s.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var a=0,o=1,s=0;for(this[e]=255&t;++a<i&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o|0)-s&255;return e+i},s.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var a=i-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o|0)-s&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},s.prototype.writeDoubleLE=function(t,e,i){return F(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return F(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r=n-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,n);else if(this===t&&i<e&&e<n)for(var a=r-1;a>=0;--a)t[a+e]=this[a+i];else Uint8Array.prototype.set.call(t,this.subarray(i,n),e);return r},s.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var r=t.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var a;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(a=e;a<i;++a)this[a]=t;else{var o=s.isBuffer(t)?t:s.from(t,n),l=o.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<i-e;++a)this[a+e]=o[a%l]}return this};var B=/[^+/0-9A-Za-z-_]/g;function U(t){if((t=(t=t.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){var i;e=e||1/0;for(var n=t.length,r=null,a=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;a.push(i)}else if(i<2048){if((e-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function H(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function A(t,e){for(var i,n,r,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(i=t.charCodeAt(o))>>8,r=i%256,a.push(r),a.push(n);return a}function j(t){return e.toByteArray(U(t))}function O(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function D(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Q(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(t,e,i){var n=t("get-intrinsic"),r=t("./"),a=r(n("String.prototype.indexOf"));e.exports=function(t,e){var i=n(t,!!e);return"function"==typeof i&&a(t,".prototype.")>-1?r(i):i}},{"./":34,"get-intrinsic":39}],34:[function(t,e,i){var n=t("function-bind"),r=t("get-intrinsic"),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||n.call(o,a),l=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}e.exports=function(t){var e=s(n,o,arguments);return l&&u&&l(e,"length").configurable&&u(e,"length",{value:1+c(0,t.length-(arguments.length-1))}),e};var d=function(){return s(n,a,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},{"function-bind":38,"get-intrinsic":39}],35:[function(t,e,i){var n,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};function o(t){console&&console.warn}n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}e.exports=l,e.exports.once=_,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function d(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function h(t,e,i,n){var r,a,s;if(c(i),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),a=t._events),s=a[e]),void 0===s)s=a[e]=i,++t._eventsCount;else if("function"==typeof s?s=a[e]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),(r=d(t))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,o(l)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=f.bind(n);return r.listener=i,n.wrapFn=r,r}function m(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?Z(r):g(r,r.length)}function b(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function g(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function y(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Z(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function _(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,a),n(i)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}w(t,e,a,{once:!0}),"error"!==e&&v(t,r,{once:!0})}))}function v(t,e,i){"function"==typeof t.on&&w(t,"error",e,i)}function w(t,e,i,n){if("function"==typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(a){n.once&&t.removeEventListener(e,r),i(a)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)a(l,this,e);else{var u=l.length,c=g(l,u);for(i=0;i<u;++i)a(c[i],this,e)}return!0},l.prototype.addListener=function(t,e){return h(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return h(this,t,e,!0)},l.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},l.prototype.removeListener=function(t,e){var i,n,r,a,o;if(c(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,a=i.length-1;a>=0;a--)if(i[a]===e||i[a].listener===e){o=i[a].listener,r=a;break}if(r<0)return this;0===r?i.shift():y(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,a=Object.keys(i);for(n=0;n<a.length;++n)"removeListener"!==(r=a[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},l.prototype.listeners=function(t){return m(this,t,!0)},l.prototype.rawListeners=function(t){return m(this,t,!1)},l.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},l.prototype.listenerCount=b,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],36:[function(t,e,i){var n=t("is-callable"),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o=function(t,e,i){for(var n=0,r=t.length;n<r;n++)a.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))},s=function(t,e,i){for(var n=0,r=t.length;n<r;n++)null==i?e(t.charAt(n),n,t):e.call(i,t.charAt(n),n,t)},l=function(t,e,i){for(var n in t)a.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))},u=function(t,e,i){if(!n(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=i),"[object Array]"===r.call(t)?o(t,e,a):"string"==typeof t?s(t,e,a):l(t,e,a)};e.exports=u},{"is-callable":48}],37:[function(t,e,i){var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,a=Object.prototype.toString,o="[object Function]";e.exports=function(t){var e=this;if("function"!=typeof e||a.call(e)!==o)throw new TypeError(n+e);for(var i,s=r.call(arguments,1),l=function(){if(this instanceof i){var n=e.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return e.apply(t,s.concat(r.call(arguments)))},u=Math.max(0,e.length-s.length),c=[],d=0;d<u;d++)c.push("$"+d);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var h=function(){};h.prototype=e.prototype,i.prototype=new h,h.prototype=null}return i}},{}],38:[function(t,e,i){var n=t("./implementation");e.exports=Function.prototype.bind||n},{"./implementation":37}],39:[function(t,e,i){var n,r=SyntaxError,a=Function,o=TypeError,s=function(t){try{return a('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(t){try{return l(arguments,"callee").get}catch(t){return u}}}():u,d=t("has-symbols")(),h=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"==typeof Uint8Array?n:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(t){var b=h(h(t));m["%Error.prototype%"]=b}var g=function t(e){var i;if("%AsyncFunction%"===e)i=s("async function () {}");else if("%GeneratorFunction%"===e)i=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)i=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(i=h(r.prototype))}return m[e]=i,i},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Z=t("function-bind"),_=t("has"),v=Z.call(Function.call,Array.prototype.concat),w=Z.call(Function.apply,Array.prototype.splice),S=Z.call(Function.call,String.prototype.replace),x=Z.call(Function.call,String.prototype.slice),I=Z.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,X=function(t){var e=x(t,0,1),i=x(t,-1);if("%"===e&&"%"!==i)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var n=[];return S(t,W,(function(t,e,i,r){n[n.length]=i?S(r,V,"$1"):e||t})),n},k=function(t,e){var i,n=t;if(_(y,n)&&(n="%"+(i=y[n])[0]+"%"),_(m,n)){var a=m[n];if(a===f&&(a=g(n)),void 0===a&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new r("intrinsic "+t+" does not exist!")};e.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,t))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=X(t),n=i.length>0?i[0]:"",a=k("%"+n+"%",e),s=a.name,u=a.value,c=!1,d=a.alias;d&&(n=d[0],w(i,v([0,1],d)));for(var h=1,f=!0;h<i.length;h+=1){var p=i[h],b=x(p,0,1),g=x(p,-1);if(('"'===b||"'"===b||"`"===b||'"'===g||"'"===g||"`"===g)&&b!==g)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),_(m,s="%"+(n+="."+p)+"%"))u=m[s];else if(null!=u){if(!(p in u)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&h+1>=i.length){var y=l(u,p);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else f=_(u,p),u=u[p];f&&!c&&(m[s]=u)}}return u}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(t,e,i){var n=t("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}e.exports=n},{"get-intrinsic":39}],41:[function(t,e,i){var n="undefined"!=typeof Symbol&&Symbol,r=t("./shams");e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&r()}},{"./shams":42}],42:[function(t,e,i){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),i=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;var n=42;for(e in t[e]=n,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==n||!0!==a.enumerable)return!1}return!0}},{}],43:[function(t,e,i){var n=t("has-symbols/shams");e.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(t,e,i){var n=t("function-bind");e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(t,e,i){i.read=function(t,e,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=t[e+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=u}return(f?-1:1)*o*Math.pow(2,a-n)},i.write=function(t,e,i,n,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*l-1)*Math.pow(2,r),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}},{}],46:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},{}],47:[function(t,e,i){var n=t("has-tostringtag/shams")(),r=t("call-bind/callBound")("Object.prototype.toString"),a=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===r(t)},o=function(t){return!!a(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==r(t)&&"[object Function]"===r(t.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(t,e,i){var n,r,a=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,n)}catch(t){t!==r&&(o=null)}else o=null;var s=/^\s*class\b/,l=function(t){try{var e=a.call(t);return s.test(e)}catch(t){return!1}},u=function(t){try{return!l(t)&&(a.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",f="[object GeneratorFunction]",p="[object HTMLAllCollection]",m="[object HTML document.all class]",b="[object HTMLCollection]",g="function"==typeof Symbol&&!!Symbol.toStringTag,y=!(0 in[,]),Z=function(){return!1};if("object"==typeof document){var _=document.all;c.call(_)===c.call(document.all)&&(Z=function(t){if((y||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return(e===p||e===m||e===b||e===d)&&null==t("")}catch(t){}return!1})}e.exports=o?function(t){if(Z(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{o(t,null,n)}catch(t){if(t!==r)return!1}return!l(t)&&u(t)}:function(t){if(Z(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(g)return u(t);if(l(t))return!1;var e=c.call(t);return!(e!==h&&e!==f&&!/^\[object HTML/.test(e))&&u(t)}},{}],49:[function(t,e,i){var n,r=Object.prototype.toString,a=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=t("has-tostringtag/shams")(),l=Object.getPrototypeOf,u=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}};e.exports=function(t){if("function"!=typeof t)return!1;if(o.test(a.call(t)))return!0;if(!s)return"[object GeneratorFunction]"===r.call(t);if(!l)return!1;if(void 0===n){var e=u();n=!!e&&l(e)}return l(t)===n}},{"has-tostringtag/shams":43}],50:[function(t,e,i){(function(i){(function(){var n=t("for-each"),r=t("available-typed-arrays"),a=t("call-bind/callBound"),o=a("Object.prototype.toString"),s=t("has-tostringtag/shams")(),l=t("gopd"),u="undefined"==typeof globalThis?i:globalThis,c=r(),d=a("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},h=a("String.prototype.slice"),f={},p=Object.getPrototypeOf;s&&l&&p&&n(c,(function(t){var e=new u[t];if(Symbol.toStringTag in e){var i=p(e),n=l(i,Symbol.toStringTag);if(!n){var r=p(i);n=l(r,Symbol.toStringTag)}f[t]=n.get}}));var m=function(t){var e=!1;return n(f,(function(i,n){if(!e)try{e=i.call(t)===n}catch(t){}})),e};e.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s||!(Symbol.toStringTag in t)){var e=h(o(t),8,-1);return d(c,e)>-1}return!!l&&m(t)}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(t,e,i){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}e.exports=s()?Object.assign:function(t,e){for(var i,s,l=o(t),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))r.call(i,c)&&(l[c]=i[c]);if(n){s=n(i);for(var d=0;d<s.length;d++)a.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}},{}],52:[function(t,e,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var a=0;a<n;a++)t[r+a]=e[i+a]},flattenChunks:function(t){var e,i,n,r,a,o;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)a=t[e],o.set(a,r),r+=a.length;return o}},o={arraySet:function(t,e,i,n,r){for(var a=0;a<n;a++)t[r+a]=e[i+a]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],53:[function(t,e,i){function n(t,e,i,n){for(var r=65535&t,a=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+e[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16}e.exports=n},{}],54:[function(t,e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(t,e,i){function n(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}var r=n();function a(t,e,i,n){var a=r,o=n+i;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[255&(t^e[s])];return~t}e.exports=a},{}],56:[function(t,e,i){var n,r=t("../utils/common"),a=t("./trees"),o=t("./adler32"),s=t("./crc32"),l=t("./messages"),u=0,c=1,d=3,h=4,f=5,p=0,m=1,b=-2,g=-3,y=-5,Z=-1,_=1,v=2,w=3,S=4,x=0,I=2,W=8,V=9,X=15,k=8,G=286,R=30,T=19,E=2*G+1,C=15,M=3,L=258,K=L+M+1,P=32,Y=42,N=69,F=73,B=91,U=103,z=113,J=666,H=1,A=2,j=3,O=4,D=3;function Q(t,e){return t.msg=l[e],e}function $(t){return(t<<1)-(t>4?9:0)}function q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(r.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function et(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function nt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e,i,n){var a=t.avail_in;return a>n&&(a=n),0===a?0:(t.avail_in-=a,r.arraySet(e,t.input,t.next_in,a,i),1===t.state.wrap?t.adler=o(t.adler,e,a,i):2===t.state.wrap&&(t.adler=s(t.adler,e,a,i)),t.next_in+=a,t.total_in+=a,a)}function at(t,e){var i,n,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+L,f=u[a+o-1],p=u[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(i=e)+o]===p&&u[i+o-1]===f&&u[i]===u[a]&&u[++i]===u[a+1]){a+=2,i++;do{}while(u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&a<h);if(n=L-(h-a),a=h-L,n>o){if(t.match_start=e,o=n,n>=s)break;f=u[a+o-1],p=u[a+o]}}}while((e=d[e&c])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function ot(t){var e,i,n,a,o,s=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-K)){r.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--i);e=i=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--i);a+=s}if(0===t.strm.avail_in)break;if(i=rt(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=i,t.lookahead+t.insert>=M)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+M-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<M)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function st(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===u)return H;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,et(t,!1),0===t.strm.avail_out))return H;if(t.strstart-t.block_start>=t.w_size-K&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===h?(et(t,!0),0===t.strm.avail_out?j:O):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),H)}function lt(t,e){for(var i,n;;){if(t.lookahead<K){if(ot(t),t.lookahead<K&&e===u)return H;if(0===t.lookahead)break}if(i=0,t.lookahead>=M&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+M-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-K&&(t.match_length=at(t,i)),t.match_length>=M)if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-M),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=M){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+M-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=t.strstart<M-1?t.strstart:M-1,e===h?(et(t,!0),0===t.strm.avail_out?j:O):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:A}function ut(t,e){for(var i,n,r;;){if(t.lookahead<K){if(ot(t),t.lookahead<K&&e===u)return H;if(0===t.lookahead)break}if(i=0,t.lookahead>=M&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+M-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=M-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-K&&(t.match_length=at(t,i),t.match_length<=5&&(t.strategy===_||t.match_length===M&&t.strstart-t.match_start>4096)&&(t.match_length=M-1)),t.prev_length>=M&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-M,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-M),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+M-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=M-1,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return H}else if(t.match_available){if((n=a._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return H}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<M-1?t.strstart:M-1,e===h?(et(t,!0),0===t.strm.avail_out?j:O):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:A}function ct(t,e){for(var i,n,r,o,s=t.window;;){if(t.lookahead<=L){if(ot(t),t.lookahead<=L&&e===u)return H;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=M&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){o=t.strstart+L;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);t.match_length=L-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=M?(i=a._tr_tally(t,1,t.match_length-M),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===h?(et(t,!0),0===t.strm.avail_out?j:O):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:A}function dt(t,e){for(var i;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===u)return H;break}if(t.match_length=0,i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===h?(et(t,!0),0===t.strm.avail_out?j:O):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:A}function ht(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function ft(t){t.window_size=2*t.w_size,q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=M-1,t.match_available=0,t.ins_h=0}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*E),this.dyn_dtree=new r.Buf16(2*(2*R+1)),this.bl_tree=new r.Buf16(2*(2*T+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(C+1),this.heap=new r.Buf16(2*G+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*G+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function mt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=I,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Y:z,t.adler=2===e.wrap?0:1,e.last_flush=u,a._tr_init(e),p):Q(t,b)}function bt(t){var e=mt(t);return e===p&&ft(t.state),e}function gt(t,e){return t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,p):b}function yt(t,e,i,n,a,o){if(!t)return b;var s=1;if(e===Z&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>V||i!==W||n<8||n>15||e<0||e>9||o<0||o>S)return Q(t,b);8===n&&(n=9);var l=new pt;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+M-1)/M),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=i,bt(t)}function Zt(t,e){return yt(t,e,W,X,k,x)}function _t(t,e){var i,r,o,l;if(!t||!t.state||e>f||e<0)return t?Q(t,b):b;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===J&&e!==h)return Q(t,0===t.avail_out?y:b);if(r.strm=t,i=r.last_flush,r.last_flush=e,r.status===Y)if(2===r.wrap)t.adler=0,it(r,31),it(r,139),it(r,8),r.gzhead?(it(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),it(r,255&r.gzhead.time),it(r,r.gzhead.time>>8&255),it(r,r.gzhead.time>>16&255),it(r,r.gzhead.time>>24&255),it(r,9===r.level?2:r.strategy>=v||r.level<2?4:0),it(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(it(r,255&r.gzhead.extra.length),it(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=N):(it(r,0),it(r,0),it(r,0),it(r,0),it(r,0),it(r,9===r.level?2:r.strategy>=v||r.level<2?4:0),it(r,D),r.status=z);else{var g=W+(r.w_bits-8<<4)<<8;g|=(r.strategy>=v||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=P),g+=31-g%31,r.status=z,nt(r,g),0!==r.strstart&&(nt(r,t.adler>>>16),nt(r,65535&t.adler)),t.adler=1}if(r.status===N)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending!==r.pending_buf_size));)it(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=F)}else r.status=F;if(r.status===F)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,it(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=B)}else r.status=B;if(r.status===B)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,it(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=U)}else r.status=U;if(r.status===U&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(it(r,255&t.adler),it(r,t.adler>>8&255),t.adler=0,r.status=z)):r.status=z),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,p}else if(0===t.avail_in&&$(e)<=$(i)&&e!==h)return Q(t,y);if(r.status===J&&0!==t.avail_in)return Q(t,y);if(0!==t.avail_in||0!==r.lookahead||e!==u&&r.status!==J){var Z=r.strategy===v?dt(r,e):r.strategy===w?ct(r,e):n[r.level].func(r,e);if(Z!==j&&Z!==O||(r.status=J),Z===H||Z===j)return 0===t.avail_out&&(r.last_flush=-1),p;if(Z===A&&(e===c?a._tr_align(r):e!==f&&(a._tr_stored_block(r,0,0,!1),e===d&&(q(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,p}return e!==h?p:r.wrap<=0?m:(2===r.wrap?(it(r,255&t.adler),it(r,t.adler>>8&255),it(r,t.adler>>16&255),it(r,t.adler>>24&255),it(r,255&t.total_in),it(r,t.total_in>>8&255),it(r,t.total_in>>16&255),it(r,t.total_in>>24&255)):(nt(r,t.adler>>>16),nt(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:m)}function vt(t){var e;return t&&t.state?(e=t.state.status)!==Y&&e!==N&&e!==F&&e!==B&&e!==U&&e!==z&&e!==J?Q(t,b):(t.state=null,e===z?Q(t,g):p):b}function wt(t,e){var i,n,a,s,l,u,c,d,h=e.length;if(!t||!t.state)return b;if(2===(s=(i=t.state).wrap)||1===s&&i.status!==Y||i.lookahead)return b;for(1===s&&(t.adler=o(t.adler,e,h,0)),i.wrap=0,h>=i.w_size&&(0===s&&(q(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,e,h-i.w_size,i.w_size,0),e=d,h=i.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=h,t.next_in=0,t.input=e,ot(i);i.lookahead>=M;){n=i.strstart,a=i.lookahead-(M-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+M-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--a);i.strstart=n,i.lookahead=M-1,ot(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=M-1,i.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,i.wrap=s,p}n=[new ht(0,0,0,0,st),new ht(4,4,8,4,lt),new ht(4,5,16,8,lt),new ht(4,6,32,32,lt),new ht(4,4,16,16,ut),new ht(8,16,32,32,ut),new ht(8,16,128,128,ut),new ht(8,32,128,256,ut),new ht(32,128,258,1024,ut),new ht(32,258,258,4096,ut)],i.deflateInit=Zt,i.deflateInit2=yt,i.deflateReset=bt,i.deflateResetKeep=mt,i.deflateSetHeader=gt,i.deflate=_t,i.deflateEnd=vt,i.deflateSetDictionary=wt,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(t,e,i){var n=30,r=12;e.exports=function(t,e){var i,a,o,s,l,u,c,d,h,f,p,m,b,g,y,Z,_,v,w,S,x,I,W,V,X;i=t.state,a=t.next_in,V=t.input,o=a+(t.avail_in-5),s=t.next_out,X=t.output,l=s-(e-t.avail_out),u=s+(t.avail_out-257),c=i.dmax,d=i.wsize,h=i.whave,f=i.wnext,p=i.window,m=i.hold,b=i.bits,g=i.lencode,y=i.distcode,Z=(1<<i.lenbits)-1,_=(1<<i.distbits)-1;t:do{b<15&&(m+=V[a++]<<b,b+=8,m+=V[a++]<<b,b+=8),v=g[m&Z];e:for(;;){if(m>>>=w=v>>>24,b-=w,0==(w=v>>>16&255))X[s++]=65535&v;else{if(!(16&w)){if(64&w){if(32&w){i.mode=r;break t}t.msg="invalid literal/length code",i.mode=n;break t}v=g[(65535&v)+(m&(1<<w)-1)];continue e}for(S=65535&v,(w&=15)&&(b<w&&(m+=V[a++]<<b,b+=8),S+=m&(1<<w)-1,m>>>=w,b-=w),b<15&&(m+=V[a++]<<b,b+=8,m+=V[a++]<<b,b+=8),v=y[m&_];;){if(m>>>=w=v>>>24,b-=w,16&(w=v>>>16&255)){if(x=65535&v,b<(w&=15)&&(m+=V[a++]<<b,(b+=8)<w&&(m+=V[a++]<<b,b+=8)),(x+=m&(1<<w)-1)>c){t.msg="invalid distance too far back",i.mode=n;break t}if(m>>>=w,b-=w,x>(w=s-l)){if((w=x-w)>h&&i.sane){t.msg="invalid distance too far back",i.mode=n;break t}if(I=0,W=p,0===f){if(I+=d-w,w<S){S-=w;do{X[s++]=p[I++]}while(--w);I=s-x,W=X}}else if(f<w){if(I+=d+f-w,(w-=f)<S){S-=w;do{X[s++]=p[I++]}while(--w);if(I=0,f<S){S-=w=f;do{X[s++]=p[I++]}while(--w);I=s-x,W=X}}}else if(I+=f-w,w<S){S-=w;do{X[s++]=p[I++]}while(--w);I=s-x,W=X}for(;S>2;)X[s++]=W[I++],X[s++]=W[I++],X[s++]=W[I++],S-=3;S&&(X[s++]=W[I++],S>1&&(X[s++]=W[I++]))}else{I=s-x;do{X[s++]=X[I++],X[s++]=X[I++],X[s++]=X[I++],S-=3}while(S>2);S&&(X[s++]=X[I++],S>1&&(X[s++]=X[I++]))}break}if(64&w){t.msg="invalid distance code",i.mode=n;break t}v=y[(65535&v)+(m&(1<<w)-1)]}}break}}while(a<o&&s<u);a-=S=b>>3,m&=(1<<(b-=S<<3))-1,t.next_in=a,t.next_out=s,t.avail_in=a<o?o-a+5:5-(a-o),t.avail_out=s<u?u-s+257:257-(s-u),i.hold=m,i.bits=b}},{}],58:[function(t,e,i){var n=t("../utils/common"),r=t("./adler32"),a=t("./crc32"),o=t("./inffast"),s=t("./inftrees"),l=0,u=1,c=2,d=4,h=5,f=6,p=0,m=1,b=2,g=-2,y=-3,Z=-4,_=-5,v=8,w=1,S=2,x=3,I=4,W=5,V=6,X=7,k=8,G=9,R=10,T=11,E=12,C=13,M=14,L=15,K=16,P=17,Y=18,N=19,F=20,B=21,U=22,z=23,J=24,H=25,A=26,j=27,O=28,D=29,Q=30,$=31,q=852,tt=592,et=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function nt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=w,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(q),e.distcode=e.distdyn=new n.Buf32(tt),e.sane=1,e.back=-1,p):g}function at(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):g}function ot(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?g:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,at(t))):g}function st(t,e){var i,n;return t?(n=new nt,t.state=n,n.window=null,(i=ot(t,e))!==p&&(t.state=null),i):g}function lt(t){return st(t,et)}var ut,ct,dt=!0;function ht(t){if(dt){var e;for(ut=new n.Buf32(512),ct=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(c,t.lens,0,32,ct,0,t.work,{bits:5}),dt=!1}t.lencode=ut,t.lenbits=9,t.distcode=ct,t.distbits=5}function ft(t,e,i,r){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),r>=o.wsize?(n.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),n.arraySet(o.window,e,i-r,a,o.wnext),(r-=a)?(n.arraySet(o.window,e,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function pt(t,e){var i,q,tt,et,nt,rt,at,ot,st,lt,ut,ct,dt,pt,mt,bt,gt,yt,Zt,_t,vt,wt,St,xt,It=0,Wt=new n.Buf8(4),Vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return g;(i=t.state).mode===E&&(i.mode=C),nt=t.next_out,tt=t.output,at=t.avail_out,et=t.next_in,q=t.input,rt=t.avail_in,ot=i.hold,st=i.bits,lt=rt,ut=at,wt=p;t:for(;;)switch(i.mode){case w:if(0===i.wrap){i.mode=C;break}for(;st<16;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(2&i.wrap&&35615===ot){i.check=0,Wt[0]=255&ot,Wt[1]=ot>>>8&255,i.check=a(i.check,Wt,2,0),ot=0,st=0,i.mode=S;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&ot)<<8)+(ot>>8))%31){t.msg="incorrect header check",i.mode=Q;break}if((15&ot)!==v){t.msg="unknown compression method",i.mode=Q;break}if(st-=4,vt=8+(15&(ot>>>=4)),0===i.wbits)i.wbits=vt;else if(vt>i.wbits){t.msg="invalid window size",i.mode=Q;break}i.dmax=1<<vt,t.adler=i.check=1,i.mode=512&ot?R:E,ot=0,st=0;break;case S:for(;st<16;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(i.flags=ot,(255&i.flags)!==v){t.msg="unknown compression method",i.mode=Q;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Q;break}i.head&&(i.head.text=ot>>8&1),512&i.flags&&(Wt[0]=255&ot,Wt[1]=ot>>>8&255,i.check=a(i.check,Wt,2,0)),ot=0,st=0,i.mode=x;case x:for(;st<32;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.head&&(i.head.time=ot),512&i.flags&&(Wt[0]=255&ot,Wt[1]=ot>>>8&255,Wt[2]=ot>>>16&255,Wt[3]=ot>>>24&255,i.check=a(i.check,Wt,4,0)),ot=0,st=0,i.mode=I;case I:for(;st<16;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.head&&(i.head.xflags=255&ot,i.head.os=ot>>8),512&i.flags&&(Wt[0]=255&ot,Wt[1]=ot>>>8&255,i.check=a(i.check,Wt,2,0)),ot=0,st=0,i.mode=W;case W:if(1024&i.flags){for(;st<16;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.length=ot,i.head&&(i.head.extra_len=ot),512&i.flags&&(Wt[0]=255&ot,Wt[1]=ot>>>8&255,i.check=a(i.check,Wt,2,0)),ot=0,st=0}else i.head&&(i.head.extra=null);i.mode=V;case V:if(1024&i.flags&&((ct=i.length)>rt&&(ct=rt),ct&&(i.head&&(vt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,q,et,ct,vt)),512&i.flags&&(i.check=a(i.check,q,ct,et)),rt-=ct,et+=ct,i.length-=ct),i.length))break t;i.length=0,i.mode=X;case X:if(2048&i.flags){if(0===rt)break t;ct=0;do{vt=q[et+ct++],i.head&&vt&&i.length<65536&&(i.head.name+=String.fromCharCode(vt))}while(vt&&ct<rt);if(512&i.flags&&(i.check=a(i.check,q,ct,et)),rt-=ct,et+=ct,vt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=k;case k:if(4096&i.flags){if(0===rt)break t;ct=0;do{vt=q[et+ct++],i.head&&vt&&i.length<65536&&(i.head.comment+=String.fromCharCode(vt))}while(vt&&ct<rt);if(512&i.flags&&(i.check=a(i.check,q,ct,et)),rt-=ct,et+=ct,vt)break t}else i.head&&(i.head.comment=null);i.mode=G;case G:if(512&i.flags){for(;st<16;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(ot!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Q;break}ot=0,st=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=E;break;case R:for(;st<32;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}t.adler=i.check=it(ot),ot=0,st=0,i.mode=T;case T:if(0===i.havedict)return t.next_out=nt,t.avail_out=at,t.next_in=et,t.avail_in=rt,i.hold=ot,i.bits=st,b;t.adler=i.check=1,i.mode=E;case E:if(e===h||e===f)break t;case C:if(i.last){ot>>>=7&st,st-=7&st,i.mode=j;break}for(;st<3;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}switch(i.last=1&ot,st-=1,3&(ot>>>=1)){case 0:i.mode=M;break;case 1:if(ht(i),i.mode=F,e===f){ot>>>=2,st-=2;break t}break;case 2:i.mode=P;break;case 3:t.msg="invalid block type",i.mode=Q}ot>>>=2,st-=2;break;case M:for(ot>>>=7&st,st-=7&st;st<32;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if((65535&ot)!=(ot>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Q;break}if(i.length=65535&ot,ot=0,st=0,i.mode=L,e===f)break t;case L:i.mode=K;case K:if(ct=i.length){if(ct>rt&&(ct=rt),ct>at&&(ct=at),0===ct)break t;n.arraySet(tt,q,et,ct,nt),rt-=ct,et+=ct,at-=ct,nt+=ct,i.length-=ct;break}i.mode=E;break;case P:for(;st<14;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(i.nlen=257+(31&ot),ot>>>=5,st-=5,i.ndist=1+(31&ot),ot>>>=5,st-=5,i.ncode=4+(15&ot),ot>>>=4,st-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Q;break}i.have=0,i.mode=Y;case Y:for(;i.have<i.ncode;){for(;st<3;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.lens[Vt[i.have++]]=7&ot,ot>>>=3,st-=3}for(;i.have<19;)i.lens[Vt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,St={bits:i.lenbits},wt=s(l,i.lens,0,19,i.lencode,0,i.work,St),i.lenbits=St.bits,wt){t.msg="invalid code lengths set",i.mode=Q;break}i.have=0,i.mode=N;case N:for(;i.have<i.nlen+i.ndist;){for(;bt=(It=i.lencode[ot&(1<<i.lenbits)-1])>>>16&255,gt=65535&It,!((mt=It>>>24)<=st);){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(gt<16)ot>>>=mt,st-=mt,i.lens[i.have++]=gt;else{if(16===gt){for(xt=mt+2;st<xt;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(ot>>>=mt,st-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=Q;break}vt=i.lens[i.have-1],ct=3+(3&ot),ot>>>=2,st-=2}else if(17===gt){for(xt=mt+3;st<xt;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}st-=mt,vt=0,ct=3+(7&(ot>>>=mt)),ot>>>=3,st-=3}else{for(xt=mt+7;st<xt;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}st-=mt,vt=0,ct=11+(127&(ot>>>=mt)),ot>>>=7,st-=7}if(i.have+ct>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Q;break}for(;ct--;)i.lens[i.have++]=vt}}if(i.mode===Q)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Q;break}if(i.lenbits=9,St={bits:i.lenbits},wt=s(u,i.lens,0,i.nlen,i.lencode,0,i.work,St),i.lenbits=St.bits,wt){t.msg="invalid literal/lengths set",i.mode=Q;break}if(i.distbits=6,i.distcode=i.distdyn,St={bits:i.distbits},wt=s(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,St),i.distbits=St.bits,wt){t.msg="invalid distances set",i.mode=Q;break}if(i.mode=F,e===f)break t;case F:i.mode=B;case B:if(rt>=6&&at>=258){t.next_out=nt,t.avail_out=at,t.next_in=et,t.avail_in=rt,i.hold=ot,i.bits=st,o(t,ut),nt=t.next_out,tt=t.output,at=t.avail_out,et=t.next_in,q=t.input,rt=t.avail_in,ot=i.hold,st=i.bits,i.mode===E&&(i.back=-1);break}for(i.back=0;bt=(It=i.lencode[ot&(1<<i.lenbits)-1])>>>16&255,gt=65535&It,!((mt=It>>>24)<=st);){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(bt&&!(240&bt)){for(yt=mt,Zt=bt,_t=gt;bt=(It=i.lencode[_t+((ot&(1<<yt+Zt)-1)>>yt)])>>>16&255,gt=65535&It,!(yt+(mt=It>>>24)<=st);){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}ot>>>=yt,st-=yt,i.back+=yt}if(ot>>>=mt,st-=mt,i.back+=mt,i.length=gt,0===bt){i.mode=A;break}if(32&bt){i.back=-1,i.mode=E;break}if(64&bt){t.msg="invalid literal/length code",i.mode=Q;break}i.extra=15&bt,i.mode=U;case U:if(i.extra){for(xt=i.extra;st<xt;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.length+=ot&(1<<i.extra)-1,ot>>>=i.extra,st-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=z;case z:for(;bt=(It=i.distcode[ot&(1<<i.distbits)-1])>>>16&255,gt=65535&It,!((mt=It>>>24)<=st);){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(!(240&bt)){for(yt=mt,Zt=bt,_t=gt;bt=(It=i.distcode[_t+((ot&(1<<yt+Zt)-1)>>yt)])>>>16&255,gt=65535&It,!(yt+(mt=It>>>24)<=st);){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}ot>>>=yt,st-=yt,i.back+=yt}if(ot>>>=mt,st-=mt,i.back+=mt,64&bt){t.msg="invalid distance code",i.mode=Q;break}i.offset=gt,i.extra=15&bt,i.mode=J;case J:if(i.extra){for(xt=i.extra;st<xt;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}i.offset+=ot&(1<<i.extra)-1,ot>>>=i.extra,st-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Q;break}i.mode=H;case H:if(0===at)break t;if(ct=ut-at,i.offset>ct){if((ct=i.offset-ct)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Q;break}ct>i.wnext?(ct-=i.wnext,dt=i.wsize-ct):dt=i.wnext-ct,ct>i.length&&(ct=i.length),pt=i.window}else pt=tt,dt=nt-i.offset,ct=i.length;ct>at&&(ct=at),at-=ct,i.length-=ct;do{tt[nt++]=pt[dt++]}while(--ct);0===i.length&&(i.mode=B);break;case A:if(0===at)break t;tt[nt++]=i.length,at--,i.mode=B;break;case j:if(i.wrap){for(;st<32;){if(0===rt)break t;rt--,ot|=q[et++]<<st,st+=8}if(ut-=at,t.total_out+=ut,i.total+=ut,ut&&(t.adler=i.check=i.flags?a(i.check,tt,ut,nt-ut):r(i.check,tt,ut,nt-ut)),ut=at,(i.flags?ot:it(ot))!==i.check){t.msg="incorrect data check",i.mode=Q;break}ot=0,st=0}i.mode=O;case O:if(i.wrap&&i.flags){for(;st<32;){if(0===rt)break t;rt--,ot+=q[et++]<<st,st+=8}if(ot!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Q;break}ot=0,st=0}i.mode=D;case D:wt=m;break t;case Q:wt=y;break t;case $:return Z;default:return g}return t.next_out=nt,t.avail_out=at,t.next_in=et,t.avail_in=rt,i.hold=ot,i.bits=st,(i.wsize||ut!==t.avail_out&&i.mode<Q&&(i.mode<j||e!==d))&&ft(t,t.output,t.next_out,ut-t.avail_out),lt-=t.avail_in,ut-=t.avail_out,t.total_in+=lt,t.total_out+=ut,i.total+=ut,i.wrap&&ut&&(t.adler=i.check=i.flags?a(i.check,tt,ut,t.next_out-ut):r(i.check,tt,ut,t.next_out-ut)),t.data_type=i.bits+(i.last?64:0)+(i.mode===E?128:0)+(i.mode===F||i.mode===L?256:0),(0===lt&&0===ut||e===d)&&wt===p&&(wt=_),wt}function mt(t){if(!t||!t.state)return g;var e=t.state;return e.window&&(e.window=null),t.state=null,p}function bt(t,e){var i;return t&&t.state&&2&(i=t.state).wrap?(i.head=e,e.done=!1,p):g}function gt(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==T?g:i.mode===T&&r(1,e,n,0)!==i.check?y:ft(t,e,n,n)?(i.mode=$,Z):(i.havedict=1,p):g}i.inflateReset=at,i.inflateReset2=ot,i.inflateResetKeep=rt,i.inflateInit=lt,i.inflateInit2=st,i.inflate=pt,i.inflateEnd=mt,i.inflateGetHeader=bt,i.inflateSetDictionary=gt,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(t,e,i){var n=t("../utils/common"),r=15,a=852,o=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,p,m,b,g,y){var Z,_,v,w,S,x,I,W,V,X=y.bits,k=0,G=0,R=0,T=0,E=0,C=0,M=0,L=0,K=0,P=0,Y=null,N=0,F=new n.Buf16(r+1),B=new n.Buf16(r+1),U=null,z=0;for(k=0;k<=r;k++)F[k]=0;for(G=0;G<p;G++)F[e[i+G]]++;for(E=X,T=r;T>=1&&0===F[T];T--);if(E>T&&(E=T),0===T)return m[b++]=20971520,m[b++]=20971520,y.bits=1,0;for(R=1;R<T&&0===F[R];R++);for(E<R&&(E=R),L=1,k=1;k<=r;k++)if(L<<=1,(L-=F[k])<0)return-1;if(L>0&&(t===s||1!==T))return-1;for(B[1]=0,k=1;k<r;k++)B[k+1]=B[k]+F[k];for(G=0;G<p;G++)0!==e[i+G]&&(g[B[e[i+G]]++]=G);if(t===s?(Y=U=g,x=19):t===l?(Y=c,N-=257,U=d,z-=257,x=256):(Y=h,U=f,x=-1),P=0,G=0,k=R,S=b,C=E,M=0,v=-1,w=(K=1<<E)-1,t===l&&K>a||t===u&&K>o)return 1;for(;;){I=k-M,g[G]<x?(W=0,V=g[G]):g[G]>x?(W=U[z+g[G]],V=Y[N+g[G]]):(W=96,V=0),Z=1<<k-M,R=_=1<<C;do{m[S+(P>>M)+(_-=Z)]=I<<24|W<<16|V}while(0!==_);for(Z=1<<k-1;P&Z;)Z>>=1;if(0!==Z?(P&=Z-1,P+=Z):P=0,G++,0==--F[k]){if(k===T)break;k=e[i+g[G]]}if(k>E&&(P&w)!==v){for(0===M&&(M=E),S+=R,L=1<<(C=k-M);C+M<T&&!((L-=F[C+M])<=0);)C++,L<<=1;if(K+=1<<C,t===l&&K>a||t===u&&K>o)return 1;m[v=P&w]=E<<24|C<<16|S-b}}return 0!==P&&(m[S+P]=k-M<<24|64<<16),y.bits=E,0}},{"../utils/common":52}],60:[function(t,e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(t,e,i){var n=t("../utils/common"),r=4,a=0,o=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var u=0,c=1,d=2,h=3,f=258,p=29,m=256,b=m+1+p,g=30,y=19,Z=2*b+1,_=15,v=16,w=7,S=256,x=16,I=17,W=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,T=new Array(2*(b+2));l(T);var E=new Array(2*g);l(E);var C=new Array(R);l(C);var M=new Array(f-h+1);l(M);var L=new Array(p);l(L);var K,P,Y,N=new Array(g);function F(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function B(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?C[t]:C[256+(t>>>7)]}function z(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function J(t,e,i){t.bi_valid>v-i?(t.bi_buf|=e<<t.bi_valid&65535,z(t,t.bi_buf),t.bi_buf=e>>v-t.bi_valid,t.bi_valid+=i-v):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function H(t,e,i){J(t,i[2*e],i[2*e+1])}function A(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function j(t){16===t.bi_valid?(z(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function O(t,e){var i,n,r,a,o,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=_;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<Z;i++)(a=l[2*l[2*(n=t.heap[i])+1]+1]+1)>p&&(a=p,m++),l[2*n+1]=a,n>u||(t.bl_count[a]++,o=0,n>=f&&(o=h[n-f]),s=l[2*n],t.opt_len+=s*(a+o),d&&(t.static_len+=s*(c[2*n+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(n=t.bl_count[a];0!==n;)(r=t.heap[--i])>u||(l[2*r+1]!==a&&(t.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),n--)}}function D(t,e,i){var n,r,a=new Array(_+1),o=0;for(n=1;n<=_;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=A(a[s]++,s))}}function Q(){var t,e,i,n,r,a=new Array(_+1);for(i=0,n=0;n<p-1;n++)for(L[n]=i,t=0;t<1<<V[n];t++)M[i++]=n;for(M[i-1]=n,r=0,n=0;n<16;n++)for(N[n]=r,t=0;t<1<<X[n];t++)C[r++]=n;for(r>>=7;n<g;n++)for(N[n]=r<<7,t=0;t<1<<X[n]-7;t++)C[256+r++]=n;for(e=0;e<=_;e++)a[e]=0;for(t=0;t<=143;)T[2*t+1]=8,t++,a[8]++;for(;t<=255;)T[2*t+1]=9,t++,a[9]++;for(;t<=279;)T[2*t+1]=7,t++,a[7]++;for(;t<=287;)T[2*t+1]=8,t++,a[8]++;for(D(T,b+1,a),t=0;t<g;t++)E[2*t+1]=5,E[2*t]=A(t,5);K=new F(T,V,m+1,b,_),P=new F(E,X,0,g,_),Y=new F(new Array(0),k,0,y,w)}function $(t){var e;for(e=0;e<b;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*S]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function q(t){t.bi_valid>8?z(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,i,r){q(t),z(t,i),z(t,~i),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}function et(t,e,i,n){var r=2*e,a=2*i;return t[r]<t[a]||t[r]===t[a]&&n[e]<=n[i]}function it(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&et(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!et(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function nt(t,e,i){var n,r,a,o,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===n?H(t,r,e):(H(t,(a=M[r])+m+1,e),0!==(o=V[a])&&J(t,r-=L[a],o),H(t,a=U(--n),i),0!==(o=X[a])&&J(t,n-=N[a],o))}while(s<t.last_lit);H(t,S,e)}function rt(t,e){var i,n,r,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=Z,i=0;i<l;i++)0!==a[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):a[2*i+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)it(t,a,i);r=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],it(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,a[2*r]=a[2*i]+a[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,a[2*i+1]=a[2*n+1]=r,t.heap[1]=r++,it(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],O(t,e),D(a,u,t.bl_count)}function at(t,e,i){var n,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++s<l&&r===o||(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*I]++:t.bl_tree[2*W]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))}function ot(t,e,i){var n,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++s<l&&r===o)){if(s<u)do{H(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(H(t,r,t.bl_tree),s--),H(t,x,t.bl_tree),J(t,s-3,2)):s<=10?(H(t,I,t.bl_tree),J(t,s-3,3)):(H(t,W,t.bl_tree),J(t,s-11,7));s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}}function st(t){var e;for(at(t,t.dyn_ltree,t.l_desc.max_code),at(t,t.dyn_dtree,t.d_desc.max_code),rt(t,t.bl_desc),e=y-1;e>=3&&0===t.bl_tree[2*G[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function lt(t,e,i,n){var r;for(J(t,e-257,5),J(t,i-1,5),J(t,n-4,4),r=0;r<n;r++)J(t,t.bl_tree[2*G[r]+1],3);ot(t,t.dyn_ltree,e-1),ot(t,t.dyn_dtree,i-1)}function ut(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return o;return a}l(N);var ct=!1;function dt(t){ct||(Q(),ct=!0),t.l_desc=new B(t.dyn_ltree,K),t.d_desc=new B(t.dyn_dtree,P),t.bl_desc=new B(t.bl_tree,Y),t.bi_buf=0,t.bi_valid=0,$(t)}function ht(t,e,i,n){J(t,(u<<1)+(n?1:0),3),tt(t,e,i)}function ft(t){J(t,c<<1,3),H(t,S,T),j(t)}function pt(t,e,i,n){var a,o,l=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=ut(t)),rt(t,t.l_desc),rt(t,t.d_desc),l=st(t),a=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=a&&(a=o)):a=o=i+5,i+4<=a&&-1!==e?ht(t,e,i,n):t.strategy===r||o===a?(J(t,(c<<1)+(n?1:0),3),nt(t,T,E)):(J(t,(d<<1)+(n?1:0),3),lt(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),nt(t,t.dyn_ltree,t.dyn_dtree)),$(t),n&&q(t)}function mt(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(M[i]+m+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1}i._tr_init=dt,i._tr_stored_block=ht,i._tr_flush_block=pt,i._tr_tally=mt,i._tr_align=ft},{"../utils/common":52}],62:[function(t,e,i){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],63:[function(t,e,i){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,d=[],h=!1,f=-1;function p(){h&&c&&(h=!1,c.length?d=c.concat(d):f=-1,d.length&&m())}function m(){if(!h){var t=l(p);h=!0;for(var e=d.length;e;){for(c=d,d=[];++f<e;)c&&c[f].run();f=-1,e=d.length}c=null,h=!1,u(t)}}function b(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new b(t,e)),1!==d.length||h||l(m)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],64:[function(t,e,i){var n=t("buffer"),r=n.Buffer;function a(t,e){for(var i in t)e[i]=t[i]}function o(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,i),i.Buffer=o),o.prototype=Object.create(r.prototype),a(r,o),o.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,i)},o.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=r(t);return void 0!==e?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:32}],65:[function(t,e,i){e.exports=r;var n=t("events").EventEmitter;function r(){n.call(this)}t("inherits")(r,n),r.Readable=t("readable-stream/lib/_stream_readable.js"),r.Writable=t("readable-stream/lib/_stream_writable.js"),r.Duplex=t("readable-stream/lib/_stream_duplex.js"),r.Transform=t("readable-stream/lib/_stream_transform.js"),r.PassThrough=t("readable-stream/lib/_stream_passthrough.js"),r.finished=t("readable-stream/lib/internal/streams/end-of-stream.js"),r.pipeline=t("readable-stream/lib/internal/streams/pipeline.js"),r.Stream=r,r.prototype.pipe=function(t,e){var i=this;function r(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function a(){i.readable&&i.resume&&i.resume()}i.on("data",r),t.on("drain",a),t._isStdio||e&&!1===e.end||(i.on("end",s),i.on("close",l));var o=!1;function s(){o||(o=!0,t.end())}function l(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===n.listenerCount(this,"error"))throw t}function c(){i.removeListener("data",r),t.removeListener("drain",a),i.removeListener("end",s),i.removeListener("close",l),i.removeListener("error",u),t.removeListener("error",u),i.removeListener("end",c),i.removeListener("close",c),t.removeListener("close",c)}return i.on("error",u),t.on("error",u),i.on("end",c),i.on("close",c),t.on("close",c),t.emit("pipe",i),t}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(t,e,i){function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r={};function a(t,e,i){function a(t,i,n){return"string"==typeof e?e:e(t,i,n)}i||(i=Error);var o=function(t){function e(e,i,n){return t.call(this,a(e,i,n))||this}return n(e,t),e}(i);o.prototype.name=i.name,o.prototype.code=t,r[t]=o}function o(t,e){if(Array.isArray(t)){var i=t.length;return t=t.map((function(t){return String(t)})),i>2?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function s(t,e,i){return t.substr(0,e.length)===e}function l(t,e,i){return(void 0===i||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}function u(t,e,i){return"number"!=typeof i&&(i=0),!(i+e.length>t.length)&&-1!==t.indexOf(e,i)}a("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(t,e,i){var n,r;if("string"==typeof e&&s(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be",l(t," argument"))r="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var a=u(t,".")?"property":"argument";r='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(o(e,"type"))}return r+". Received type ".concat(typeof i)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],67:[function(t,e,i){(function(i){(function(){var n=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};e.exports=u;var r=t("./_stream_readable"),a=t("./_stream_writable");t("inherits")(u,r);for(var o=n(a.prototype),s=0;s<o.length;s++){var l=o[s];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(t){if(!(this instanceof u))return new u(t);r.call(this,t),a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(t,e,i){e.exports=r;var n=t("./_stream_transform");function r(t){if(!(this instanceof r))return new r(t);n.call(this,t)}t("inherits")(r,n),r.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":70,inherits:46}],69:[function(t,e,i){(function(i,n){(function(){var r;e.exports=X,X.ReadableState=V,t("events").EventEmitter;var a=function(t,e){return t.listeners(e).length},o=t("./internal/streams/stream"),s=t("buffer").Buffer,l=n.Uint8Array||function(){};function u(t){return s.from(t)}function c(t){return s.isBuffer(t)||t instanceof l}var d,h=t("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,p,m,b=t("./internal/streams/buffer_list"),g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,Z=t("../errors").codes,_=Z.ERR_INVALID_ARG_TYPE,v=Z.ERR_STREAM_PUSH_AFTER_EOF,w=Z.ERR_METHOD_NOT_IMPLEMENTED,S=Z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(X,o);var x=g.errorOrDestroy,I=["error","close","destroy","pause","resume"];function W(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}function V(e,i,n){r=r||t("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=i instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",n),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function X(e){if(r=r||t("./_stream_duplex"),!(this instanceof X))return new X(e);var i=this instanceof r;this._readableState=new V(e,this,i),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(t,e,i,n,r){d("readableAddChunk",e);var a,o=t._readableState;if(null===e)o.reading=!1,M(t,o);else if(r||(a=R(o,e)),a)x(t,a);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=u(e)),n)o.endEmitted?x(t,new S):G(t,o,e,!0);else if(o.ended)x(t,new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!i?(e=o.decoder.write(e),o.objectMode||0!==e.length?G(t,o,e,!1):P(t,o)):G(t,o,e,!1)}else n||(o.reading=!1,P(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function G(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&L(t)),P(t,e)}function R(t,e){var i;return c(e)||"string"==typeof e||void 0===e||t.objectMode||(i=new _("chunk",["string","Buffer","Uint8Array"],e)),i}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),X.prototype.destroy=g.destroy,X.prototype._undestroy=g.undestroy,X.prototype._destroy=function(t,e){e(t)},X.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=s.from(t,e),e=""),i=!0),k(this,t,e,!1,i)},X.prototype.unshift=function(t){return k(this,t,null,!0,!1)},X.prototype.isPaused=function(){return!1===this._readableState.flowing},X.prototype.setEncoding=function(e){f||(f=t("string_decoder/").StringDecoder);var i=new f(e);this._readableState.decoder=i,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=i.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var T=1073741824;function E(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=E(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t,e){if(d("onEofChunk"),!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?L(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,K(t)))}}function L(t){var e=t._readableState;d("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(K,t))}function K(t){var e=t._readableState;d("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,J(t)}function P(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(Y,t,e))}function Y(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var i=e.length;if(d("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function N(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,J(t))}}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function B(t){d("readable nexttick read 0"),t.read(0)}function U(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(z,t,e))}function z(t,e){d("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),J(t),e.flowing&&!e.reading&&t.read(0)}function J(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function H(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i);var i}function A(t){var e=t._readableState;d("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(j,e,t))}function j(t,e){if(d("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var i=e._writableState;(!i||i.autoDestroy&&i.finished)&&e.destroy()}}function O(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}X.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?A(this):L(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&A(this),null;var n,r=e.needReadable;return d("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",r=!0),e.ended||e.reading?d("reading or ended",r=!1):r&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(i,e))),null===(n=t>0?H(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&A(this)),null!==n&&this.emit("data",n),n},X.prototype._read=function(t){x(this,new w("_read()"))},X.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,d("pipe count=%d opts=%j",r.pipesCount,e);var o=e&&!1===e.end||t===i.stdout||t===i.stderr?g:l;function s(t,e){d("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,h())}function l(){d("onend"),t.end()}r.endEmitted?i.nextTick(o):n.once("end",o),t.on("unpipe",s);var u=N(n);t.on("drain",u);var c=!1;function h(){d("cleanup"),t.removeListener("close",m),t.removeListener("finish",b),t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",s),n.removeListener("end",l),n.removeListener("end",g),n.removeListener("data",f),c=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}function f(e){d("ondata");var i=t.write(e);d("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==O(r.pipes,t))&&!c&&(d("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(e){d("onerror",e),g(),t.removeListener("error",p),0===a(t,"error")&&x(t,e)}function m(){t.removeListener("finish",b),g()}function b(){d("onfinish"),t.removeListener("close",m),g()}function g(){d("unpipe"),n.unpipe(t)}return n.on("data",f),W(t,"error",p),t.once("close",m),t.once("finish",b),t.emit("pipe",n),r.flowing||(d("pipe resume"),n.resume()),t},X.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<r;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=O(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},X.prototype.on=function(t,e){var n=o.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,d("on readable",r.length,r.reading),r.length?L(this):r.reading||i.nextTick(B,this))),n},X.prototype.addListener=X.prototype.on,X.prototype.removeListener=function(t,e){var n=o.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(F,this),n},X.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(F,this),e},X.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!t.readableListening,U(this,t)),t.paused=!1,this},X.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},X.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;for(var r in t.on("end",(function(){if(d("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){d("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r||(i.objectMode||r&&r.length)&&(e.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var a=0;a<I.length;a++)t.on(I[a],this.emit.bind(this,I[a]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(X.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=t("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(X.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(X.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(X.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),X._fromList=H,Object.defineProperty(X.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(X.from=function(e,i){return void 0===m&&(m=t("./internal/streams/from")),m(X,e,i)})}).call(this)}).call(this,t("_process"),void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(t,e,i){e.exports=c;var n=t("../errors").codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=t("./_stream_duplex");function u(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new a);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function c(t){if(!(this instanceof c))return new c(t);l.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",d)}function d(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,i){h(t,e,i)}))}function h(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new s;if(t._transformState.transforming)throw new o;return t.push(null)}t("inherits")(c,l),c.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},c.prototype._transform=function(t,e,i){i(new r("_transform()"))},c.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},c.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},c.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(t,e,i){(function(i,n){(function(){function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){z(e,t)}}var a;e.exports=V,V.WritableState=W;var o={deprecate:t("util-deprecate")},s=t("./internal/streams/stream"),l=t("buffer").Buffer,u=n.Uint8Array||function(){};function c(t){return l.from(t)}function d(t){return l.isBuffer(t)||t instanceof u}var h,f=t("./internal/streams/destroy"),p=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,b=m.ERR_INVALID_ARG_TYPE,g=m.ERR_METHOD_NOT_IMPLEMENTED,y=m.ERR_MULTIPLE_CALLBACK,Z=m.ERR_STREAM_CANNOT_PIPE,_=m.ERR_STREAM_DESTROYED,v=m.ERR_STREAM_NULL_VALUES,w=m.ERR_STREAM_WRITE_AFTER_END,S=m.ERR_UNKNOWN_ENCODING,x=f.errorOrDestroy;function I(){}function W(e,i,n){a=a||t("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=i instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){M(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function V(e){var i=this instanceof(a=a||t("./_stream_duplex"));if(!i&&!h.call(V,this))return new V(e);this._writableState=new W(e,this,i),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function X(t,e){var n=new w;x(t,n),i.nextTick(e,n)}function k(t,e,n,r){var a;return null===n?a=new v:"string"==typeof n||e.objectMode||(a=new b("chunk",["string","Buffer"],n)),!a||(x(t,a),i.nextTick(r,a),!1)}function G(t,e,i){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,i)),e}function R(t,e,i,n,r,a){if(!i){var o=G(e,n,r);n!==o&&(i=!0,r="buffer",n=o)}var s=e.objectMode?1:n.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else T(t,e,!1,s,n,r,a);return l}function T(t,e,i,n,r,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _("write")):i?t._writev(r,e.onwrite):t._write(r,a,e.onwrite),e.sync=!1}function E(t,e,n,r,a){--e.pendingcb,n?(i.nextTick(a,r),i.nextTick(B,t,e),t._writableState.errorEmitted=!0,x(t,r)):(a(r),t._writableState.errorEmitted=!0,x(t,r),B(t,e))}function C(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function M(t,e){var n=t._writableState,r=n.sync,a=n.writecb;if("function"!=typeof a)throw new y;if(C(n),e)E(t,n,r,e,a);else{var o=Y(n)||t.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||P(t,n),r?i.nextTick(L,t,n,o,a):L(t,n,o,a)}}function L(t,e,i,n){i||K(t,e),e.pendingcb--,n(),B(t,e)}function K(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function P(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;)a[s]=i,i.isBuf||(l=!1),i=i.next,s+=1;a.allBuffers=l,T(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,c=i.encoding,d=i.callback;if(T(t,e,!1,e.objectMode?1:u.length,u,c,d),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function Y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function N(t,e){t._final((function(i){e.pendingcb--,i&&x(t,i),e.prefinished=!0,t.emit("prefinish"),B(t,e)}))}function F(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(N,t,e)))}function B(t,e){var i=Y(e);if(i&&(F(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return i}function U(t,e,n){e.ending=!0,B(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function z(t,e,i){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree.next=t}t("inherits")(V,s),W.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(W.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===V&&t&&t._writableState instanceof W}})):h=function(t){return t instanceof this},V.prototype.pipe=function(){x(this,new Z)},V.prototype.write=function(t,e,i){var n=this._writableState,r=!1,a=!n.objectMode&&d(t);return a&&!l.isBuffer(t)&&(t=c(t)),"function"==typeof e&&(i=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof i&&(i=I),n.ending?X(this,i):(a||k(this,n,t,i))&&(n.pendingcb++,r=R(this,n,a,t,e,i)),r},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||P(this,t))},V.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),V.prototype._write=function(t,e,i){i(new g("_write()"))},V.prototype._writev=null,V.prototype.end=function(t,e,i){var n=this._writableState;return"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||U(this,n,i),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),V.prototype.destroy=f.destroy,V.prototype._undestroy=f.undestroy,V.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t("_process"),void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(t,e,i){(function(i){(function(){var n;function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=t("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var i=t[h].read();null!==i&&(t[c]=null,t[o]=null,t[s]=null,e(f(i,!1)))}}function m(t){i.nextTick(p,t)}function b(t,e){return function(i,n){t.then((function(){e[u]?i(f(void 0,!0)):e[d](i,n)}),n)}}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((n={get stream(){return this[h]},next:function(){var t=this,e=this[l];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[l]?n(t[l]):e(f(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(b(r,this));else{var a=this[h].read();if(null!==a)return Promise.resolve(f(a,!1));n=new Promise(this[d])}return this[c]=n,n}},r(n,Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var t=this;return new Promise((function(e,i){t[h].destroy(null,(function(t){t?i(t):e(f(void 0,!0))}))}))})),n),g),Z=function(t){var e,i=Object.create(y,(r(e={},h,{value:t,writable:!0}),r(e,o,{value:null,writable:!0}),r(e,s,{value:null,writable:!0}),r(e,l,{value:null,writable:!0}),r(e,u,{value:t._readableState.endEmitted,writable:!0}),r(e,d,{value:function(t,e){var n=i[h].read();n?(i[c]=null,i[o]=null,i[s]=null,t(f(n,!1))):(i[o]=t,i[s]=e)},writable:!0}),e));return i[c]=null,a(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=i[s];return null!==e&&(i[c]=null,i[o]=null,i[s]=null,e(t)),void(i[l]=t)}var n=i[o];null!==n&&(i[c]=null,i[o]=null,i[s]=null,n(f(void 0,!0))),i[u]=!0})),t.on("readable",m.bind(null,i)),i};e.exports=Z}).call(this)}).call(this,t("_process"))},{"./end-of-stream":75,_process:63}],73:[function(t,e,i){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&s(t.prototype,e),t}var u=t("buffer").Buffer,c=t("util").inspect,d=c&&c.custom||"inspect";function h(t,e,i){u.prototype.copy.call(t,e,i)}e.exports=function(){function t(){o(this,t),this.head=null,this.tail=null,this.length=0}return l(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e=u.allocUnsafe(t>>>0),i=this.head,n=0;i;)h(i.data,e,n),n+=i.data.length,i=i.next;return e}},{key:"consume",value:function(t,e){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):i=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,i=1,n=e.data;for(t-=n.length;e=e.next;){var r=e.data,a=t>r.length?r.length:t;if(a===r.length?n+=r:n+=r.slice(0,t),0==(t-=a)){a===r.length?(++i,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=r.slice(a));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),i=this.head,n=1;for(i.data.copy(e),t-=i.data.length;i=i.next;){var r=i.data,a=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,a),0==(t-=a)){a===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(a));break}++n}return this.length-=n,e}},{key:d,value:function(t,e){return c(this,r({},e,{depth:0,customInspect:!1}))}}]),t}()},{buffer:32,util:29}],74:[function(t,e,i){(function(t){(function(){function i(e,i){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,e)):t.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):i?(t.nextTick(r,a),i(e)):t.nextTick(r,a)})),this)}function n(t,e){o(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}function s(t,e){var i=t._readableState,n=t._writableState;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}e.exports={destroy:i,undestroy:a,errorOrDestroy:s}}).call(this)}).call(this,t("_process"))},{_process:63}],75:[function(t,e,i){var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(t){var e=!1;return function(){if(!e){e=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t.apply(this,n)}}}function a(){}function o(t){return t.setHeader&&"function"==typeof t.abort}function s(t,e,i){if("function"==typeof e)return s(t,null,e);e||(e={}),i=r(i||a);var l=e.readable||!1!==e.readable&&t.readable,u=e.writable||!1!==e.writable&&t.writable,c=function(){t.writable||h()},d=t._writableState&&t._writableState.finished,h=function(){u=!1,d=!0,l||i.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){l=!1,f=!0,u||i.call(t)},m=function(e){i.call(t,e)},b=function(){var e;return l&&!f?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):u&&!d?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},g=function(){t.req.on("finish",h)};return o(t)?(t.on("complete",h),t.on("abort",b),t.req?g():t.on("request",g)):u&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",p),t.on("finish",h),!1!==e.error&&t.on("error",m),t.on("close",b),function(){t.removeListener("complete",h),t.removeListener("abort",b),t.removeListener("request",g),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",p),t.removeListener("error",m),t.removeListener("close",b)}}e.exports=s},{"../../../errors":66}],76:[function(t,e,i){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(t,e,i){var n;function r(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var a=t("../../../errors").codes,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function l(t){if(t)throw t}function u(t){return t.setHeader&&"function"==typeof t.abort}function c(e,i,a,o){o=r(o);var l=!1;e.on("close",(function(){l=!0})),void 0===n&&(n=t("./end-of-stream")),n(e,{readable:i,writable:a},(function(t){if(t)return o(t);l=!0,o()}));var c=!1;return function(t){if(!l&&!c)return c=!0,u(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function d(t){t()}function h(t,e){return t.pipe(e)}function f(t){return t.length?"function"!=typeof t[t.length-1]?l:t.pop():l}function p(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n,r=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,i){var o=i<e.length-1;return c(t,o,i>0,(function(t){n||(n=t),t&&a.forEach(d),o||(a.forEach(d),r(n))}))}));return e.reduce(h)}e.exports=p},{"../../../errors":66,"./end-of-stream":75}],78:[function(t,e,i){var n=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;function r(t,e,i){return null!=t.highWaterMark?t.highWaterMark:e?t[i]:null}function a(t,e,i,a){var o=r(e,a,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(a?i:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}e.exports={getHighWaterMark:a}},{"../../../errors":66}],79:[function(t,e,i){e.exports=t("events").EventEmitter},{events:35}],80:[function(t,e,i){var n=t("safe-buffer").Buffer,r=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function o(t){var e=a(t);if("string"!=typeof e&&(n.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=o(t),this.encoding){case"utf16le":this.text=p,this.end=m,e=4;break;case"utf8":this.fillLast=d,e=4;break;case"base64":this.text=b,this.end=g,e=3;break;default:return this.write=y,void(this.end=Z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function l(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function u(t,e,i){var n=e.length-1;if(n<i)return 0;var r=l(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<i||-2===r?0:(r=l(e[n]))>=0?(r>0&&(t.lastNeed=r-2),r):--n<i||-2===r?0:(r=l(e[n]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}function c(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function d(t){var e=this.lastTotal-this.lastNeed,i=c(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){var i=u(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function p(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function m(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function b(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y(t){return t.toString(this.encoding)}function Z(t){return t&&t.length?this.write(t):""}i.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},s.prototype.end=f,s.prototype.text=h,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":64}],81:[function(t,e,i){(function(t){(function(){function i(t,e){if(n("noDeprecation"))return t;var i=!1;function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation"),i=!0}return t.apply(this,arguments)}return r}function n(e){try{if(!t.localStorage)return!1}catch(t){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],82:[function(t,e,i){arguments[4][25][0].apply(i,arguments)},{dup:25}],83:[function(t,e,i){var n=t("is-arguments"),r=t("is-generator-function"),a=t("which-typed-array"),o=t("is-typed-array");function s(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function b(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function g(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch}function y(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||F(t)}function Z(t){return"Uint8Array"===a(t)}function _(t){return"Uint8ClampedArray"===a(t)}function v(t){return"Uint16Array"===a(t)}function w(t){return"Uint32Array"===a(t)}function S(t){return"Int8Array"===a(t)}function x(t){return"Int16Array"===a(t)}function I(t){return"Int32Array"===a(t)}function W(t){return"Float32Array"===a(t)}function V(t){return"Float64Array"===a(t)}function X(t){return"BigInt64Array"===a(t)}function k(t){return"BigUint64Array"===a(t)}function G(t){return"[object Map]"===c(t)}function R(t){return"undefined"!=typeof Map&&(G.working?G(t):t instanceof Map)}function T(t){return"[object Set]"===c(t)}function E(t){return"undefined"!=typeof Set&&(T.working?T(t):t instanceof Set)}function C(t){return"[object WeakMap]"===c(t)}function M(t){return"undefined"!=typeof WeakMap&&(C.working?C(t):t instanceof WeakMap)}function L(t){return"[object WeakSet]"===c(t)}function K(t){return L(t)}function P(t){return"[object ArrayBuffer]"===c(t)}function Y(t){return"undefined"!=typeof ArrayBuffer&&(P.working?P(t):t instanceof ArrayBuffer)}function N(t){return"[object DataView]"===c(t)}function F(t){return"undefined"!=typeof DataView&&(N.working?N(t):t instanceof DataView)}i.isArgumentsObject=n,i.isGeneratorFunction=r,i.isTypedArray=o,i.isPromise=g,i.isArrayBufferView=y,i.isUint8Array=Z,i.isUint8ClampedArray=_,i.isUint16Array=v,i.isUint32Array=w,i.isInt8Array=S,i.isInt16Array=x,i.isInt32Array=I,i.isFloat32Array=W,i.isFloat64Array=V,i.isBigInt64Array=X,i.isBigUint64Array=k,G.working="undefined"!=typeof Map&&G(new Map),i.isMap=R,T.working="undefined"!=typeof Set&&T(new Set),i.isSet=E,C.working="undefined"!=typeof WeakMap&&C(new WeakMap),i.isWeakMap=M,L.working="undefined"!=typeof WeakSet&&L(new WeakSet),i.isWeakSet=K,P.working="undefined"!=typeof ArrayBuffer&&P(new ArrayBuffer),i.isArrayBuffer=Y,N.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&N(new DataView(new ArrayBuffer(1),0,1)),i.isDataView=F;var B="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function U(t){return"[object SharedArrayBuffer]"===c(t)}function z(t){return void 0!==B&&(void 0===U.working&&(U.working=U(new B)),U.working?U(t):t instanceof B)}function J(t){return"[object AsyncFunction]"===c(t)}function H(t){return"[object Map Iterator]"===c(t)}function A(t){return"[object Set Iterator]"===c(t)}function j(t){return"[object Generator]"===c(t)}function O(t){return"[object WebAssembly.Module]"===c(t)}function D(t){return b(t,d)}function Q(t){return b(t,h)}function $(t){return b(t,f)}function q(t){return l&&b(t,p)}function tt(t){return u&&b(t,m)}function et(t){return D(t)||Q(t)||$(t)||q(t)||tt(t)}function it(t){return"undefined"!=typeof Uint8Array&&(Y(t)||z(t))}i.isSharedArrayBuffer=z,i.isAsyncFunction=J,i.isMapIterator=H,i.isSetIterator=A,i.isGeneratorObject=j,i.isWebAssemblyCompiledModule=O,i.isNumberObject=D,i.isStringObject=Q,i.isBooleanObject=$,i.isBigIntObject=q,i.isSymbolObject=tt,i.isBoxedPrimitive=et,i.isAnyArrayBuffer=it,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(i,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(t,e,i){(function(e){(function(){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},n=0;n<e.length;n++)i[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return i},r=/%[sdj%]/g;i.format=function(t){if(!S(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(l(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,a=n.length,o=String(t).replace(r,(function(t){if("%%"===t)return"%";if(i>=a)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}})),s=n[i];i<a;s=n[++i])_(s)||!V(s)?o+=" "+s:o+=" "+l(s);return o},i.deprecate=function(t,n){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return i.deprecate(t,n).apply(this,arguments)};var r=!1;function a(){if(!r){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation,r=!0}return t.apply(this,arguments)}return a};var a={},o=/^$/;if(e.env.NODE_DEBUG){var s=e.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}function l(t,e){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Z(e)?n.showHidden=e:e&&i._extend(n,e),I(n.showHidden)&&(n.showHidden=!1),I(n.depth)&&(n.depth=2),I(n.colors)&&(n.colors=!1),I(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),h(n,t,n.depth)}function u(t,e){var i=l.styles[e];return i?"["+l.colors[i][0]+"m"+t+"["+l.colors[i][1]+"m":t}function c(t,e){return t}function d(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}function h(t,e,n){if(t.customInspect&&e&&G(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return S(r)||(r=h(t,r,n)),r}var a=f(t,e);if(a)return a;var o=Object.keys(e),s=d(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),k(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(e);if(0===o.length){if(G(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(W(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(X(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return p(e)}var u,c="",Z=!1,_=["{","}"];return y(e)&&(Z=!0,_=["[","]"]),G(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),W(e)&&(c=" "+RegExp.prototype.toString.call(e)),X(e)&&(c=" "+Date.prototype.toUTCString.call(e)),k(e)&&(c=" "+p(e)),0!==o.length||Z&&0!=e.length?n<0?W(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=Z?m(t,e,n,s,o):o.map((function(i){return b(t,e,n,s,i,Z)})),t.seen.pop(),g(u,c,_)):_[0]+c+_[1]}function f(t,e){if(I(e))return t.stylize("undefined","undefined");if(S(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return w(e)?t.stylize(""+e,"number"):Z(e)?t.stylize(""+e,"boolean"):_(e)?t.stylize("null","null"):void 0}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function m(t,e,i,n,r){for(var a=[],o=0,s=e.length;o<s;++o)E(e,String(o))?a.push(b(t,e,i,n,String(o),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(b(t,e,i,n,r,!0))})),a}function b(t,e,i,n,r,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),E(n,r)||(o="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=_(i)?h(t,l.value,null):h(t,l.value,i-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),I(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function g(t,e,i){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function y(t){return Array.isArray(t)}function Z(t){return"boolean"==typeof t}function _(t){return null===t}function v(t){return null==t}function w(t){return"number"==typeof t}function S(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function I(t){return void 0===t}function W(t){return V(t)&&"[object RegExp]"===T(t)}function V(t){return"object"==typeof t&&null!==t}function X(t){return V(t)&&"[object Date]"===T(t)}function k(t){return V(t)&&("[object Error]"===T(t)||t instanceof Error)}function G(t){return"function"==typeof t}function R(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function T(t){return Object.prototype.toString.call(t)}i.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(o.test(t)){e.pid;a[t]=function(){i.format.apply(i,arguments)}}else a[t]=function(){};return a[t]},i.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.types=t("./support/types"),i.isArray=y,i.isBoolean=Z,i.isNull=_,i.isNullOrUndefined=v,i.isNumber=w,i.isString=S,i.isSymbol=x,i.isUndefined=I,i.isRegExp=W,i.types.isRegExp=W,i.isObject=V,i.isDate=X,i.types.isDate=X,i.isError=k,i.types.isNativeError=k,i.isFunction=G,i.isPrimitive=R,i.isBuffer=t("./support/isBuffer");function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.log=function(){},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!V(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}function L(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var r=i.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};t.apply(this,i).then((function(t){e.nextTick(o.bind(null,null,t))}),(function(t){e.nextTick(M.bind(null,t,o))}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,n(t)),i}i.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,n=new Promise((function(t,n){e=t,i=n})),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push((function(t,n){t?i(t):e(n)}));try{t.apply(this,r)}catch(t){i(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},i.promisify.custom=C,i.callbackify=L}).call(this)}).call(this,t("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(t,e,i){(function(i){(function(){var n=t("for-each"),r=t("available-typed-arrays"),a=t("call-bind/callBound"),o=t("gopd"),s=a("Object.prototype.toString"),l=t("has-tostringtag/shams")(),u="undefined"==typeof globalThis?i:globalThis,c=r(),d=a("String.prototype.slice"),h={},f=Object.getPrototypeOf;l&&o&&f&&n(c,(function(t){if("function"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var i=f(e),n=o(i,Symbol.toStringTag);if(!n){var r=f(i);n=o(r,Symbol.toStringTag)}h[t]=n.get}}}));var p=function(t){var e=!1;return n(h,(function(i,n){if(!e)try{var r=i.call(t);r===n&&(e=r)}catch(t){}})),e},m=t("is-typed-array");e.exports=function(t){return!!m(t)&&(l&&Symbol.toStringTag in t?p(t):d(s(t),8,-1))}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(t,{deflateLevel:e=9,deflateStrategy:i=3,filterType:n=PNGFilterType.AUTO,colorType:r,inputHasAlpha:a=!0,...o}={})=>{const s=new browserExports.PNG({width:t.width,height:t.height});return s.data=t.data,browserExports.PNG.sync.write(s,{...o,deflateLevel:e,deflateStrategy:i,filterType:n,colorType:void 0!==r?r:a?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:a})},decode:(t,e)=>{const i=browserExports.PNG.sync.read(t,e);return{data:i.data,width:i.width,height:i.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(t){var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},t.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var a=0;a<n;a++)t[r+a]=e[i+a]},flattenChunks:function(t){var e,i,n,r,a,o;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)a=t[e],o.set(a,r),r+=a.length;return o}},r={arraySet:function(t,e,i,n,r){for(var a=0;a<n;a++)t[r+a]=e[i+a]},flattenChunks:function(t){return[].concat.apply([],t)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(e)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var t=requireCommon(),e=0,i=1;function n(t){for(var e=t.length;--e>=0;)t[e]=0}var r=0,a=29,o=256,s=o+1+a,l=30,u=19,c=2*s+1,d=15,h=16,f=7,p=256,m=16,b=17,g=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(s+2));n(w);var S=new Array(2*l);n(S);var x=new Array(512);n(x);var I=new Array(256);n(I);var W=new Array(a);n(W);var V,X,k,G=new Array(l);function R(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function T(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?x[t]:x[256+(t>>>7)]}function C(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function M(t,e,i){t.bi_valid>h-i?(t.bi_buf|=e<<t.bi_valid&65535,C(t,t.bi_buf),t.bi_buf=e>>h-t.bi_valid,t.bi_valid+=i-h):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function L(t,e,i){M(t,i[2*e],i[2*e+1])}function K(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function P(t,e,i){var n,r,a=new Array(d+1),o=0;for(n=1;n<=d;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=K(a[s]++,s))}}function Y(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<l;e++)t.dyn_dtree[2*e]=0;for(e=0;e<u;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function N(t){t.bi_valid>8?C(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function F(t,e,i,n){var r=2*e,a=2*i;return t[r]<t[a]||t[r]===t[a]&&n[e]<=n[i]}function B(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&F(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!F(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function U(t,e,i){var n,r,a,s,l=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===n?L(t,r,e):(L(t,(a=I[r])+o+1,e),0!==(s=y[a])&&M(t,r-=W[a],s),L(t,a=E(--n),i),0!==(s=Z[a])&&M(t,n-=G[a],s))}while(l<t.last_lit);L(t,p,e)}function z(t,e){var i,n,r,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=c,i=0;i<l;i++)0!==a[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):a[2*i+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)B(t,a,i);r=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],B(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,a[2*r]=a[2*i]+a[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,a[2*i+1]=a[2*n+1]=r,t.heap[1]=r++,B(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,a,o,s,l=e.dyn_tree,u=e.max_code,h=e.stat_desc.static_tree,f=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,m=e.stat_desc.extra_base,b=e.stat_desc.max_length,g=0;for(a=0;a<=d;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<c;i++)(a=l[2*l[2*(n=t.heap[i])+1]+1]+1)>b&&(a=b,g++),l[2*n+1]=a,n>u||(t.bl_count[a]++,o=0,n>=m&&(o=p[n-m]),s=l[2*n],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(h[2*n+1]+o)));if(0!==g){do{for(a=b-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[b]--,g-=2}while(g>0);for(a=b;0!==a;a--)for(n=t.bl_count[a];0!==n;)(r=t.heap[--i])>u||(l[2*r+1]!==a&&(t.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),n--)}}(t,e),P(a,u,t.bl_count)}function J(t,e,i){var n,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++s<l&&r===o||(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[2*m]++):s<=10?t.bl_tree[2*b]++:t.bl_tree[2*g]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))}function H(t,e,i){var n,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++s<l&&r===o)){if(s<u)do{L(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(L(t,r,t.bl_tree),s--),L(t,m,t.bl_tree),M(t,s-3,2)):s<=10?(L(t,b,t.bl_tree),M(t,s-3,3)):(L(t,g,t.bl_tree),M(t,s-11,7));s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}}n(G);var A=!1;function j(e,i,n,a){M(e,(r<<1)+(a?1:0),3),function(e,i,n){N(e),C(e,n),C(e,~n),t.arraySet(e.pending_buf,e.window,i,n,e.pending),e.pending+=n}(e,i,n)}return trees._tr_init=function(t){A||(function(){var t,e,i,n,r,c=new Array(d+1);for(i=0,n=0;n<a-1;n++)for(W[n]=i,t=0;t<1<<y[n];t++)I[i++]=n;for(I[i-1]=n,r=0,n=0;n<16;n++)for(G[n]=r,t=0;t<1<<Z[n];t++)x[r++]=n;for(r>>=7;n<l;n++)for(G[n]=r<<7,t=0;t<1<<Z[n]-7;t++)x[256+r++]=n;for(e=0;e<=d;e++)c[e]=0;for(t=0;t<=143;)w[2*t+1]=8,t++,c[8]++;for(;t<=255;)w[2*t+1]=9,t++,c[9]++;for(;t<=279;)w[2*t+1]=7,t++,c[7]++;for(;t<=287;)w[2*t+1]=8,t++,c[8]++;for(P(w,s+1,c),t=0;t<l;t++)S[2*t+1]=5,S[2*t]=K(t,5);V=new R(w,y,o+1,s,d),X=new R(S,Z,0,l,d),k=new R(new Array(0),_,0,u,f)}(),A=!0),t.l_desc=new T(t.dyn_ltree,V),t.d_desc=new T(t.dyn_dtree,X),t.bl_desc=new T(t.bl_tree,k),t.bi_buf=0,t.bi_valid=0,Y(t)},trees._tr_stored_block=j,trees._tr_flush_block=function(t,n,r,a){var s,l,c=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var n,r=4093624447;for(n=0;n<=31;n++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*n])return e;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return i;for(n=32;n<o;n++)if(0!==t.dyn_ltree[2*n])return i;return e}(t)),z(t,t.l_desc),z(t,t.d_desc),c=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),z(t,t.bl_desc),e=u-1;e>=3&&0===t.bl_tree[2*v[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),s=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=s&&(s=l)):s=l=r+5,r+4<=s&&-1!==n?j(t,n,r,a):4===t.strategy||l===s?(M(t,2+(a?1:0),3),U(t,w,S)):(M(t,4+(a?1:0),3),function(t,e,i,n){var r;for(M(t,e-257,5),M(t,i-1,5),M(t,n-4,4),r=0;r<n;r++)M(t,t.bl_tree[2*v[r]+1],3);H(t,t.dyn_ltree,e-1),H(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),U(t,t.dyn_ltree,t.dyn_dtree)),Y(t),a&&N(t)},trees._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(I[i]+o+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},trees._tr_align=function(t){M(t,2,3),L(t,p,w),function(t){16===t.bi_valid?(C(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(t,e,i,n){for(var r=65535&t,a=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+e[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var t=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();return crc32_1=function(e,i,n,r){var a=t,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^i[s])];return~e},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var t,e=requireCommon(),i=requireTrees(),n=requireAdler32(),r=requireCrc32(),a=requireMessages(),o=0,s=4,l=0,u=-2,c=-1,d=4,h=2,f=8,p=9,m=286,b=30,g=19,y=2*m+1,Z=15,_=3,v=258,w=v+_+1,S=42,x=103,I=113,W=666,V=1,X=2,k=3,G=4;function R(t,e){return t.msg=a[e],e}function T(t){return(t<<1)-(t>4?9:0)}function E(t){for(var e=t.length;--e>=0;)t[e]=0}function C(t){var i=t.state,n=i.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(e.arraySet(t.output,i.pending_buf,i.pending_out,n,t.next_out),t.next_out+=n,i.pending_out+=n,t.total_out+=n,t.avail_out-=n,i.pending-=n,0===i.pending&&(i.pending_out=0))}function M(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,C(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function K(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function P(t,e){var i,n,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-w?t.strstart-(t.w_size-w):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+v,f=u[a+o-1],p=u[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(i=e)+o]===p&&u[i+o-1]===f&&u[i]===u[a]&&u[++i]===u[a+1]){a+=2,i++;do{}while(u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&a<h);if(n=v-(h-a),a=h-v,n>o){if(t.match_start=e,o=n,n>=s)break;f=u[a+o-1],p=u[a+o]}}}while((e=d[e&c])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function Y(t){var i,a,o,s,l,u,c,d,h,f,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-w)){e.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,i=a=t.hash_size;do{o=t.head[--i],t.head[i]=o>=p?o-p:0}while(--a);i=a=p;do{o=t.prev[--i],t.prev[i]=o>=p?o-p:0}while(--a);s+=p}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,d=t.strstart+t.lookahead,h=s,f=void 0,(f=u.avail_in)>h&&(f=h),a=0===f?0:(u.avail_in-=f,e.arraySet(c,u.input,u.next_in,f,d),1===u.state.wrap?u.adler=n(u.adler,c,f,d):2===u.state.wrap&&(u.adler=r(u.adler,c,f,d)),u.next_in+=f,u.total_in+=f,f),t.lookahead+=a,t.lookahead+t.insert>=_)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+_-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<_)););}while(t.lookahead<w&&0!==t.strm.avail_in)}function N(t,e){for(var n,r;;){if(t.lookahead<w){if(Y(t),t.lookahead<w&&e===o)return V;if(0===t.lookahead)break}if(n=0,t.lookahead>=_&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+_-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-w&&(t.match_length=P(t,n)),t.match_length>=_)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-_),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=_){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+_-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(M(t,!1),0===t.strm.avail_out))return V}return t.insert=t.strstart<_-1?t.strstart:_-1,e===s?(M(t,!0),0===t.strm.avail_out?k:G):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?V:X}function F(t,e){for(var n,r,a;;){if(t.lookahead<w){if(Y(t),t.lookahead<w&&e===o)return V;if(0===t.lookahead)break}if(n=0,t.lookahead>=_&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+_-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=_-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-w&&(t.match_length=P(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===_&&t.strstart-t.match_start>4096)&&(t.match_length=_-1)),t.prev_length>=_&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-_,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-_),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+_-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=_-1,t.strstart++,r&&(M(t,!1),0===t.strm.avail_out))return V}else if(t.match_available){if((r=i._tr_tally(t,0,t.window[t.strstart-1]))&&M(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return V}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<_-1?t.strstart:_-1,e===s?(M(t,!0),0===t.strm.avail_out?k:G):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?V:X}function B(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(2*y),this.dyn_dtree=new e.Buf16(2*(2*b+1)),this.bl_tree=new e.Buf16(2*(2*g+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(Z+1),this.heap=new e.Buf16(2*m+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*m+1),E(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=h,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?S:I,t.adler=2===e.wrap?0:1,e.last_flush=o,i._tr_init(e),l):R(t,u)}function J(e){var i=z(e);return i===l&&function(e){e.window_size=2*e.w_size,E(e.head),e.max_lazy_match=t[e.level].max_lazy,e.good_match=t[e.level].good_length,e.nice_match=t[e.level].nice_length,e.max_chain_length=t[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=_-1,e.match_available=0,e.ins_h=0}(e.state),i}function H(t,i,n,r,a,o){if(!t)return u;var s=1;if(i===c&&(i=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>p||n!==f||r<8||r>15||i<0||i>9||o<0||o>d)return R(t,u);8===r&&(r=9);var l=new U;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+_-1)/_),l.window=new e.Buf8(2*l.w_size),l.head=new e.Buf16(l.hash_size),l.prev=new e.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new e.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=i,l.strategy=o,l.method=n,J(t)}return t=[new B(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Y(t),0===t.lookahead&&e===o)return V;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,M(t,!1),0===t.strm.avail_out))return V;if(t.strstart-t.block_start>=t.w_size-w&&(M(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===s?(M(t,!0),0===t.strm.avail_out?k:G):(t.strstart>t.block_start&&(M(t,!1),t.strm.avail_out),V)})),new B(4,4,8,4,N),new B(4,5,16,8,N),new B(4,6,32,32,N),new B(4,4,16,16,F),new B(8,16,32,32,F),new B(8,16,128,128,F),new B(8,32,128,256,F),new B(32,128,258,1024,F),new B(32,258,258,4096,F)],deflate.deflateInit=function(t,e){return H(t,e,f,15,8,0)},deflate.deflateInit2=H,deflate.deflateReset=J,deflate.deflateResetKeep=z,deflate.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,l):u},deflate.deflate=function(e,n){var a,c,d,h;if(!e||!e.state||n>5||n<0)return e?R(e,u):u;if(c=e.state,!e.output||!e.input&&0!==e.avail_in||c.status===W&&n!==s)return R(e,0===e.avail_out?-5:u);if(c.strm=e,a=c.last_flush,c.last_flush=n,c.status===S)if(2===c.wrap)e.adler=0,L(c,31),L(c,139),L(c,8),c.gzhead?(L(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),L(c,255&c.gzhead.time),L(c,c.gzhead.time>>8&255),L(c,c.gzhead.time>>16&255),L(c,c.gzhead.time>>24&255),L(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),L(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(L(c,255&c.gzhead.extra.length),L(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(e.adler=r(e.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(L(c,0),L(c,0),L(c,0),L(c,0),L(c,0),L(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),L(c,3),c.status=I);else{var p=f+(c.w_bits-8<<4)<<8;p|=(c.strategy>=2||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(p|=32),p+=31-p%31,c.status=I,K(c,p),0!==c.strstart&&(K(c,e.adler>>>16),K(c,65535&e.adler)),e.adler=1}if(69===c.status)if(c.gzhead.extra){for(d=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),C(e),d=c.pending,c.pending!==c.pending_buf_size));)L(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(73===c.status)if(c.gzhead.name){d=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),C(e),d=c.pending,c.pending===c.pending_buf_size)){h=1;break}h=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,L(c,h)}while(0!==h);c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),0===h&&(c.gzindex=0,c.status=91)}else c.status=91;if(91===c.status)if(c.gzhead.comment){d=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),C(e),d=c.pending,c.pending===c.pending_buf_size)){h=1;break}h=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,L(c,h)}while(0!==h);c.gzhead.hcrc&&c.pending>d&&(e.adler=r(e.adler,c.pending_buf,c.pending-d,d)),0===h&&(c.status=x)}else c.status=x;if(c.status===x&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&C(e),c.pending+2<=c.pending_buf_size&&(L(c,255&e.adler),L(c,e.adler>>8&255),e.adler=0,c.status=I)):c.status=I),0!==c.pending){if(C(e),0===e.avail_out)return c.last_flush=-1,l}else if(0===e.avail_in&&T(n)<=T(a)&&n!==s)return R(e,-5);if(c.status===W&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==c.lookahead||n!==o&&c.status!==W){var m=2===c.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(Y(t),0===t.lookahead)){if(e===o)return V;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(M(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===s?(M(t,!0),0===t.strm.avail_out?k:G):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?V:X}(c,n):3===c.strategy?function(t,e){for(var n,r,a,l,u=t.window;;){if(t.lookahead<=v){if(Y(t),t.lookahead<=v&&e===o)return V;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=_&&t.strstart>0&&(r=u[a=t.strstart-1])===u[++a]&&r===u[++a]&&r===u[++a]){l=t.strstart+v;do{}while(r===u[++a]&&r===u[++a]&&r===u[++a]&&r===u[++a]&&r===u[++a]&&r===u[++a]&&r===u[++a]&&r===u[++a]&&a<l);t.match_length=v-(l-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=_?(n=i._tr_tally(t,1,t.match_length-_),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(M(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===s?(M(t,!0),0===t.strm.avail_out?k:G):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?V:X}(c,n):t[c.level].func(c,n);if(m!==k&&m!==G||(c.status=W),m===V||m===k)return 0===e.avail_out&&(c.last_flush=-1),l;if(m===X&&(1===n?i._tr_align(c):5!==n&&(i._tr_stored_block(c,0,0,!1),3===n&&(E(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),C(e),0===e.avail_out))return c.last_flush=-1,l}return n!==s?l:c.wrap<=0?1:(2===c.wrap?(L(c,255&e.adler),L(c,e.adler>>8&255),L(c,e.adler>>16&255),L(c,e.adler>>24&255),L(c,255&e.total_in),L(c,e.total_in>>8&255),L(c,e.total_in>>16&255),L(c,e.total_in>>24&255)):(K(c,e.adler>>>16),K(c,65535&e.adler)),C(e),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?l:1)},deflate.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==S&&69!==e&&73!==e&&91!==e&&e!==x&&e!==I&&e!==W?R(t,u):(t.state=null,e===I?R(t,-3):l):u},deflate.deflateSetDictionary=function(t,i){var r,a,o,s,c,d,h,f,p=i.length;if(!t||!t.state)return u;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==S||r.lookahead)return u;for(1===s&&(t.adler=n(t.adler,i,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(E(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new e.Buf8(r.w_size),e.arraySet(f,i,p-r.w_size,r.w_size,0),i=f,p=r.w_size),c=t.avail_in,d=t.next_in,h=t.input,t.avail_in=p,t.next_in=0,t.input=i,Y(r);r.lookahead>=_;){a=r.strstart,o=r.lookahead-(_-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[a+_-1])&r.hash_mask,r.prev[a&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=a,a++}while(--o);r.strstart=a,r.lookahead=_-1,Y(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=_-1,r.match_available=0,t.next_in=d,t.input=h,t.avail_in=c,r.wrap=s,l},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var t=requireCommon(),e=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var n=new t.Buf8(256),r=0;r<256;r++)n[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function a(n,r){if(r<65534&&(n.subarray&&i||!n.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(n,r));for(var a="",o=0;o<r;o++)a+=String.fromCharCode(n[o]);return a}return n[254]=n[254]=1,strings.string2buf=function(e){var i,n,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(i=new t.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?i[o++]=n:n<2048?(i[o++]=192|n>>>6,i[o++]=128|63&n):n<65536?(i[o++]=224|n>>>12,i[o++]=128|n>>>6&63,i[o++]=128|63&n):(i[o++]=240|n>>>18,i[o++]=128|n>>>12&63,i[o++]=128|n>>>6&63,i[o++]=128|63&n);return i},strings.buf2binstring=function(t){return a(t,t.length)},strings.binstring2buf=function(e){for(var i=new t.Buf8(e.length),n=0,r=i.length;n<r;n++)i[n]=e.charCodeAt(n);return i},strings.buf2string=function(t,e){var i,r,o,s,l=e||t.length,u=new Array(2*l);for(r=0,i=0;i<l;)if((o=t[i++])<128)u[r++]=o;else if((s=n[o])>4)u[r++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&i<l;)o=o<<6|63&t[i++],s--;s>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return a(u,r)},strings.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+n[t[i]]>e?i:e},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var t=requireDeflate$1(),e=requireCommon(),i=requireStrings(),n=requireMessages(),r=requireZstream(),a=Object.prototype.toString,o=0,s=-1,l=0,u=8;function c(d){if(!(this instanceof c))return new c(d);this.options=e.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},d||{});var h=this.options;h.raw&&h.windowBits>0?h.windowBits=-h.windowBits:h.gzip&&h.windowBits>0&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var f=t.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(f!==o)throw new Error(n[f]);if(h.header&&t.deflateSetHeader(this.strm,h.header),h.dictionary){var p;if(p="string"==typeof h.dictionary?i.string2buf(h.dictionary):"[object ArrayBuffer]"===a.call(h.dictionary)?new Uint8Array(h.dictionary):h.dictionary,(f=t.deflateSetDictionary(this.strm,p))!==o)throw new Error(n[f]);this._dict_set=!0}}function d(t,e){var i=new c(e);if(i.push(t,!0),i.err)throw i.msg||n[i.err];return i.result}return c.prototype.push=function(n,r){var s,l,u=this.strm,c=this.options.chunkSize;if(this.ended)return!1;l=r===~~r?r:!0===r?4:0,"string"==typeof n?u.input=i.string2buf(n):"[object ArrayBuffer]"===a.call(n)?u.input=new Uint8Array(n):u.input=n,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new e.Buf8(c),u.next_out=0,u.avail_out=c),1!==(s=t.deflate(u,l))&&s!==o)return this.onEnd(s),this.ended=!0,!1;0!==u.avail_out&&(0!==u.avail_in||4!==l&&2!==l)||("string"===this.options.to?this.onData(i.buf2binstring(e.shrinkBuf(u.output,u.next_out))):this.onData(e.shrinkBuf(u.output,u.next_out)))}while((u.avail_in>0||0===u.avail_out)&&1!==s);return 4===l?(s=t.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===o):2!==l||(this.onEnd(o),u.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===o&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},deflate$1.Deflate=c,deflate$1.deflate=d,deflate$1.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},deflate$1.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast||(hasRequiredInffast=1,inffast=function(t,e){var i,n,r,a,o,s,l,u,c,d,h,f,p,m,b,g,y,Z,_,v,w,S,x,I,W;i=t.state,n=t.next_in,I=t.input,r=n+(t.avail_in-5),a=t.next_out,W=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,d=i.wnext,h=i.window,f=i.hold,p=i.bits,m=i.lencode,b=i.distcode,g=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{p<15&&(f+=I[n++]<<p,p+=8,f+=I[n++]<<p,p+=8),Z=m[f&g];e:for(;;){if(f>>>=_=Z>>>24,p-=_,0===(_=Z>>>16&255))W[a++]=65535&Z;else{if(!(16&_)){if(64&_){if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}Z=m[(65535&Z)+(f&(1<<_)-1)];continue e}for(v=65535&Z,(_&=15)&&(p<_&&(f+=I[n++]<<p,p+=8),v+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=I[n++]<<p,p+=8,f+=I[n++]<<p,p+=8),Z=b[f&y];;){if(f>>>=_=Z>>>24,p-=_,16&(_=Z>>>16&255)){if(w=65535&Z,p<(_&=15)&&(f+=I[n++]<<p,(p+=8)<_&&(f+=I[n++]<<p,p+=8)),(w+=f&(1<<_)-1)>l){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=_,p-=_,w>(_=a-o)){if((_=w-_)>c&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(S=0,x=h,0===d){if(S+=u-_,_<v){v-=_;do{W[a++]=h[S++]}while(--_);S=a-w,x=W}}else if(d<_){if(S+=u+d-_,(_-=d)<v){v-=_;do{W[a++]=h[S++]}while(--_);if(S=0,d<v){v-=_=d;do{W[a++]=h[S++]}while(--_);S=a-w,x=W}}}else if(S+=d-_,_<v){v-=_;do{W[a++]=h[S++]}while(--_);S=a-w,x=W}for(;v>2;)W[a++]=x[S++],W[a++]=x[S++],W[a++]=x[S++],v-=3;v&&(W[a++]=x[S++],v>1&&(W[a++]=x[S++]))}else{S=a-w;do{W[a++]=W[S++],W[a++]=W[S++],W[a++]=W[S++],v-=3}while(v>2);v&&(W[a++]=W[S++],v>1&&(W[a++]=W[S++]))}break}if(64&_){t.msg="invalid distance code",i.mode=30;break t}Z=b[(65535&Z)+(f&(1<<_)-1)]}}break}}while(n<r&&a<s);n-=v=p>>3,f&=(1<<(p-=v<<3))-1,t.next_in=n,t.next_out=a,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=a<s?s-a+257:257-(a-s),i.hold=f,i.bits=p}),inffast}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var t=requireCommon(),e=15,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(o,s,l,u,c,d,h,f){var p,m,b,g,y,Z,_,v,w,S=f.bits,x=0,I=0,W=0,V=0,X=0,k=0,G=0,R=0,T=0,E=0,C=null,M=0,L=new t.Buf16(16),K=new t.Buf16(16),P=null,Y=0;for(x=0;x<=e;x++)L[x]=0;for(I=0;I<u;I++)L[s[l+I]]++;for(X=S,V=e;V>=1&&0===L[V];V--);if(X>V&&(X=V),0===V)return c[d++]=20971520,c[d++]=20971520,f.bits=1,0;for(W=1;W<V&&0===L[W];W++);for(X<W&&(X=W),R=1,x=1;x<=e;x++)if(R<<=1,(R-=L[x])<0)return-1;if(R>0&&(0===o||1!==V))return-1;for(K[1]=0,x=1;x<e;x++)K[x+1]=K[x]+L[x];for(I=0;I<u;I++)0!==s[l+I]&&(h[K[s[l+I]]++]=I);if(0===o?(C=P=h,Z=19):1===o?(C=i,M-=257,P=n,Y-=257,Z=256):(C=r,P=a,Z=-1),E=0,I=0,x=W,y=d,k=X,G=0,b=-1,g=(T=1<<X)-1,1===o&&T>852||2===o&&T>592)return 1;for(;;){_=x-G,h[I]<Z?(v=0,w=h[I]):h[I]>Z?(v=P[Y+h[I]],w=C[M+h[I]]):(v=96,w=0),p=1<<x-G,W=m=1<<k;do{c[y+(E>>G)+(m-=p)]=_<<24|v<<16|w}while(0!==m);for(p=1<<x-1;E&p;)p>>=1;if(0!==p?(E&=p-1,E+=p):E=0,I++,0==--L[x]){if(x===V)break;x=s[l+h[I]]}if(x>X&&(E&g)!==b){for(0===G&&(G=X),y+=W,R=1<<(k=x-G);k+G<V&&!((R-=L[k+G])<=0);)k++,R<<=1;if(T+=1<<k,1===o&&T>852||2===o&&T>592)return 1;c[b=E&g]=X<<24|k<<16|y-d}}return 0!==E&&(c[y+E]=x-G<<24|64<<16),f.bits=X,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var t=requireCommon(),e=requireAdler32(),i=requireCrc32(),n=requireInffast(),r=requireInftrees(),a=1,o=2,s=0,l=-2,u=1,c=12,d=30,h=852,f=592;function p(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var i;return e&&e.state?(i=e.state,e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=1&i.wrap),i.mode=u,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new t.Buf32(h),i.distcode=i.distdyn=new t.Buf32(f),i.sane=1,i.back=-1,s):l}function g(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,b(t)):l}function y(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,g(t))):l}function Z(t,e){var i,n;return t?(n=new m,t.state=n,n.window=null,(i=y(t,e))!==s&&(t.state=null),i):l}var _,v,w=!0;function S(e){if(w){var i;for(_=new t.Buf32(512),v=new t.Buf32(32),i=0;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(r(a,e.lens,0,288,_,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;r(o,e.lens,0,32,v,0,e.work,{bits:5}),w=!1}e.lencode=_,e.lenbits=9,e.distcode=v,e.distbits=5}function x(e,i,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new t.Buf8(o.wsize)),r>=o.wsize?(t.arraySet(o.window,i,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),t.arraySet(o.window,i,n-r,a,o.wnext),(r-=a)?(t.arraySet(o.window,i,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}return inflate.inflateReset=g,inflate.inflateReset2=y,inflate.inflateResetKeep=b,inflate.inflateInit=function(t){return Z(t,15)},inflate.inflateInit2=Z,inflate.inflate=function(h,f){var m,b,g,y,Z,_,v,w,I,W,V,X,k,G,R,T,E,C,M,L,K,P,Y,N,F=0,B=new t.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&0!==h.avail_in)return l;(m=h.state).mode===c&&(m.mode=13),Z=h.next_out,g=h.output,v=h.avail_out,y=h.next_in,b=h.input,_=h.avail_in,w=m.hold,I=m.bits,W=_,V=v,P=s;t:for(;;)switch(m.mode){case u:if(0===m.wrap){m.mode=13;break}for(;I<16;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(2&m.wrap&&35615===w){m.check=0,B[0]=255&w,B[1]=w>>>8&255,m.check=i(m.check,B,2,0),w=0,I=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&w)<<8)+(w>>8))%31){h.msg="incorrect header check",m.mode=d;break}if(8!=(15&w)){h.msg="unknown compression method",m.mode=d;break}if(I-=4,K=8+(15&(w>>>=4)),0===m.wbits)m.wbits=K;else if(K>m.wbits){h.msg="invalid window size",m.mode=d;break}m.dmax=1<<K,h.adler=m.check=1,m.mode=512&w?10:c,w=0,I=0;break;case 2:for(;I<16;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(m.flags=w,8!=(255&m.flags)){h.msg="unknown compression method",m.mode=d;break}if(57344&m.flags){h.msg="unknown header flags set",m.mode=d;break}m.head&&(m.head.text=w>>8&1),512&m.flags&&(B[0]=255&w,B[1]=w>>>8&255,m.check=i(m.check,B,2,0)),w=0,I=0,m.mode=3;case 3:for(;I<32;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.head&&(m.head.time=w),512&m.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,m.check=i(m.check,B,4,0)),w=0,I=0,m.mode=4;case 4:for(;I<16;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.head&&(m.head.xflags=255&w,m.head.os=w>>8),512&m.flags&&(B[0]=255&w,B[1]=w>>>8&255,m.check=i(m.check,B,2,0)),w=0,I=0,m.mode=5;case 5:if(1024&m.flags){for(;I<16;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.length=w,m.head&&(m.head.extra_len=w),512&m.flags&&(B[0]=255&w,B[1]=w>>>8&255,m.check=i(m.check,B,2,0)),w=0,I=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&((X=m.length)>_&&(X=_),X&&(m.head&&(K=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),t.arraySet(m.head.extra,b,y,X,K)),512&m.flags&&(m.check=i(m.check,b,X,y)),_-=X,y+=X,m.length-=X),m.length))break t;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(0===_)break t;X=0;do{K=b[y+X++],m.head&&K&&m.length<65536&&(m.head.name+=String.fromCharCode(K))}while(K&&X<_);if(512&m.flags&&(m.check=i(m.check,b,X,y)),_-=X,y+=X,K)break t}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(0===_)break t;X=0;do{K=b[y+X++],m.head&&K&&m.length<65536&&(m.head.comment+=String.fromCharCode(K))}while(K&&X<_);if(512&m.flags&&(m.check=i(m.check,b,X,y)),_-=X,y+=X,K)break t}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;I<16;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(w!==(65535&m.check)){h.msg="header crc mismatch",m.mode=d;break}w=0,I=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),h.adler=m.check=0,m.mode=c;break;case 10:for(;I<32;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}h.adler=m.check=p(w),w=0,I=0,m.mode=11;case 11:if(0===m.havedict)return h.next_out=Z,h.avail_out=v,h.next_in=y,h.avail_in=_,m.hold=w,m.bits=I,2;h.adler=m.check=1,m.mode=c;case c:if(5===f||6===f)break t;case 13:if(m.last){w>>>=7&I,I-=7&I,m.mode=27;break}for(;I<3;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}switch(m.last=1&w,I-=1,3&(w>>>=1)){case 0:m.mode=14;break;case 1:if(S(m),m.mode=20,6===f){w>>>=2,I-=2;break t}break;case 2:m.mode=17;break;case 3:h.msg="invalid block type",m.mode=d}w>>>=2,I-=2;break;case 14:for(w>>>=7&I,I-=7&I;I<32;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if((65535&w)!=(w>>>16^65535)){h.msg="invalid stored block lengths",m.mode=d;break}if(m.length=65535&w,w=0,I=0,m.mode=15,6===f)break t;case 15:m.mode=16;case 16:if(X=m.length){if(X>_&&(X=_),X>v&&(X=v),0===X)break t;t.arraySet(g,b,y,X,Z),_-=X,y+=X,v-=X,Z+=X,m.length-=X;break}m.mode=c;break;case 17:for(;I<14;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(m.nlen=257+(31&w),w>>>=5,I-=5,m.ndist=1+(31&w),w>>>=5,I-=5,m.ncode=4+(15&w),w>>>=4,I-=4,m.nlen>286||m.ndist>30){h.msg="too many length or distance symbols",m.mode=d;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;I<3;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.lens[U[m.have++]]=7&w,w>>>=3,I-=3}for(;m.have<19;)m.lens[U[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,Y={bits:m.lenbits},P=r(0,m.lens,0,19,m.lencode,0,m.work,Y),m.lenbits=Y.bits,P){h.msg="invalid code lengths set",m.mode=d;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;T=(F=m.lencode[w&(1<<m.lenbits)-1])>>>16&255,E=65535&F,!((R=F>>>24)<=I);){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(E<16)w>>>=R,I-=R,m.lens[m.have++]=E;else{if(16===E){for(N=R+2;I<N;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(w>>>=R,I-=R,0===m.have){h.msg="invalid bit length repeat",m.mode=d;break}K=m.lens[m.have-1],X=3+(3&w),w>>>=2,I-=2}else if(17===E){for(N=R+3;I<N;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}I-=R,K=0,X=3+(7&(w>>>=R)),w>>>=3,I-=3}else{for(N=R+7;I<N;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}I-=R,K=0,X=11+(127&(w>>>=R)),w>>>=7,I-=7}if(m.have+X>m.nlen+m.ndist){h.msg="invalid bit length repeat",m.mode=d;break}for(;X--;)m.lens[m.have++]=K}}if(m.mode===d)break;if(0===m.lens[256]){h.msg="invalid code -- missing end-of-block",m.mode=d;break}if(m.lenbits=9,Y={bits:m.lenbits},P=r(a,m.lens,0,m.nlen,m.lencode,0,m.work,Y),m.lenbits=Y.bits,P){h.msg="invalid literal/lengths set",m.mode=d;break}if(m.distbits=6,m.distcode=m.distdyn,Y={bits:m.distbits},P=r(o,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,Y),m.distbits=Y.bits,P){h.msg="invalid distances set",m.mode=d;break}if(m.mode=20,6===f)break t;case 20:m.mode=21;case 21:if(_>=6&&v>=258){h.next_out=Z,h.avail_out=v,h.next_in=y,h.avail_in=_,m.hold=w,m.bits=I,n(h,V),Z=h.next_out,g=h.output,v=h.avail_out,y=h.next_in,b=h.input,_=h.avail_in,w=m.hold,I=m.bits,m.mode===c&&(m.back=-1);break}for(m.back=0;T=(F=m.lencode[w&(1<<m.lenbits)-1])>>>16&255,E=65535&F,!((R=F>>>24)<=I);){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(T&&!(240&T)){for(C=R,M=T,L=E;T=(F=m.lencode[L+((w&(1<<C+M)-1)>>C)])>>>16&255,E=65535&F,!(C+(R=F>>>24)<=I);){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}w>>>=C,I-=C,m.back+=C}if(w>>>=R,I-=R,m.back+=R,m.length=E,0===T){m.mode=26;break}if(32&T){m.back=-1,m.mode=c;break}if(64&T){h.msg="invalid literal/length code",m.mode=d;break}m.extra=15&T,m.mode=22;case 22:if(m.extra){for(N=m.extra;I<N;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.length+=w&(1<<m.extra)-1,w>>>=m.extra,I-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;T=(F=m.distcode[w&(1<<m.distbits)-1])>>>16&255,E=65535&F,!((R=F>>>24)<=I);){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(!(240&T)){for(C=R,M=T,L=E;T=(F=m.distcode[L+((w&(1<<C+M)-1)>>C)])>>>16&255,E=65535&F,!(C+(R=F>>>24)<=I);){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}w>>>=C,I-=C,m.back+=C}if(w>>>=R,I-=R,m.back+=R,64&T){h.msg="invalid distance code",m.mode=d;break}m.offset=E,m.extra=15&T,m.mode=24;case 24:if(m.extra){for(N=m.extra;I<N;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}m.offset+=w&(1<<m.extra)-1,w>>>=m.extra,I-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){h.msg="invalid distance too far back",m.mode=d;break}m.mode=25;case 25:if(0===v)break t;if(X=V-v,m.offset>X){if((X=m.offset-X)>m.whave&&m.sane){h.msg="invalid distance too far back",m.mode=d;break}X>m.wnext?(X-=m.wnext,k=m.wsize-X):k=m.wnext-X,X>m.length&&(X=m.length),G=m.window}else G=g,k=Z-m.offset,X=m.length;X>v&&(X=v),v-=X,m.length-=X;do{g[Z++]=G[k++]}while(--X);0===m.length&&(m.mode=21);break;case 26:if(0===v)break t;g[Z++]=m.length,v--,m.mode=21;break;case 27:if(m.wrap){for(;I<32;){if(0===_)break t;_--,w|=b[y++]<<I,I+=8}if(V-=v,h.total_out+=V,m.total+=V,V&&(h.adler=m.check=m.flags?i(m.check,g,V,Z-V):e(m.check,g,V,Z-V)),V=v,(m.flags?w:p(w))!==m.check){h.msg="incorrect data check",m.mode=d;break}w=0,I=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;I<32;){if(0===_)break t;_--,w+=b[y++]<<I,I+=8}if(w!==(4294967295&m.total)){h.msg="incorrect length check",m.mode=d;break}w=0,I=0}m.mode=29;case 29:P=1;break t;case d:P=-3;break t;case 31:return-4;default:return l}return h.next_out=Z,h.avail_out=v,h.next_in=y,h.avail_in=_,m.hold=w,m.bits=I,(m.wsize||V!==h.avail_out&&m.mode<d&&(m.mode<27||4!==f))&&x(h,h.output,h.next_out,V-h.avail_out),W-=h.avail_in,V-=h.avail_out,h.total_in+=W,h.total_out+=V,m.total+=V,m.wrap&&V&&(h.adler=m.check=m.flags?i(m.check,g,V,h.next_out-V):e(m.check,g,V,h.next_out-V)),h.data_type=m.bits+(m.last?64:0)+(m.mode===c?128:0)+(20===m.mode||15===m.mode?256:0),(0===W&&0===V||4===f)&&P===s&&(P=-5),P},inflate.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,s},inflate.inflateGetHeader=function(t,e){var i;return t&&t.state&&2&(i=t.state).wrap?(i.head=e,e.done=!1,s):l},inflate.inflateSetDictionary=function(t,i){var n,r=i.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?l:11===n.mode&&e(1,i,r,0)!==n.check?-3:x(t,i,r,r)?(n.mode=31,-4):(n.havedict=1,s):l},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var t=requireInflate$1(),e=requireCommon(),i=requireStrings(),n=requireConstants(),r=requireMessages(),a=requireZstream(),o=requireGzheader(),s=Object.prototype.toString;function l(u){if(!(this instanceof l))return new l(u);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},u||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15)),!(c.windowBits>=0&&c.windowBits<16)||u&&u.windowBits||(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(15&c.windowBits||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var d=t.inflateInit2(this.strm,c.windowBits);if(d!==n.Z_OK)throw new Error(r[d]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=i.string2buf(c.dictionary):"[object ArrayBuffer]"===s.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(d=t.inflateSetDictionary(this.strm,c.dictionary))!==n.Z_OK))throw new Error(r[d])}function u(t,e){var i=new l(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}return l.prototype.push=function(r,a){var o,l,u,c,d,h=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;l=a===~~a?a:!0===a?n.Z_FINISH:n.Z_NO_FLUSH,"string"==typeof r?h.input=i.binstring2buf(r):"[object ArrayBuffer]"===s.call(r)?h.input=new Uint8Array(r):h.input=r,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new e.Buf8(f),h.next_out=0,h.avail_out=f),(o=t.inflate(h,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&p&&(o=t.inflateSetDictionary(this.strm,p)),o===n.Z_BUF_ERROR&&!0===m&&(o=n.Z_OK,m=!1),o!==n.Z_STREAM_END&&o!==n.Z_OK)return this.onEnd(o),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&o!==n.Z_STREAM_END&&(0!==h.avail_in||l!==n.Z_FINISH&&l!==n.Z_SYNC_FLUSH)||("string"===this.options.to?(u=i.utf8border(h.output,h.next_out),c=h.next_out-u,d=i.buf2string(h.output,u),h.next_out=c,h.avail_out=f-c,c&&e.arraySet(h.output,h.output,u,c,0),this.onData(d)):this.onData(e.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&o!==n.Z_STREAM_END);return o===n.Z_STREAM_END&&(l=n.Z_FINISH),l===n.Z_FINISH?(o=t.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===n.Z_OK):l!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),h.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===n.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},inflate$1.Inflate=l,inflate$1.inflate=u,inflate$1.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},inflate$1.ungzip=u,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var t={};return(0,requireCommon().assign)(t,requireDeflate(),requireInflate(),requireConstants()),pako_1=t}!function(t){!function(){var e={};function i(){}t.exports=e,function(t,e){!function(){var e=function(){function t(t){this.message="JPEG error: "+t}return t.prototype=new Error,t.prototype.name="JpegError",t.constructor=t,t}(),i=function(){var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),i=4017,r=799,a=3406,o=2276,s=1567,l=3784,u=5793,c=2896;function d(t){null==t&&(t={}),null==t.w&&(t.w=-1),this.V=t.n,this.N=t.w}function h(t,e){for(var i,n,r,a=0,o=[],s=16;s>0&&!t[s-1];)s--;o.push({children:[],index:0});var l=o[0];for(i=0;i<s;i++){for(n=0;n<t[i];n++){for((l=o.pop()).children[l.index]=e[a];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=i;)o.push(r={children:[],index:0}),l.children[l.index]=r.children,l=r;a++}i+1<s&&(o.push(r={children:[],index:0}),l.children[l.index]=r.children,l=r)}return o[0].children}function f(t,e,i){return 64*((t.P+1)*e+i)}function p(i,r,a,o,s,l,u,c,d,h){null==h&&(h=!1);var p,m,b,y,Z,_,v,w,S,x,I,W=a.m,V=a.Z,X=r,k=0,G=0,R=0,T=0,E=0,C=0;function M(){if(G>0)return G--,k>>G&1;if(255===(k=i[r++])){var t=i[r++];if(t){if(220===t&&h){var o=n(i,r+=2);if(r+=2,o>0&&o!==a.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",o)}else if(217===t){if(h){var s=8*E;if(s>0&&s<a.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",s)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new e("unexpected marker")}}return G=7,k>>>7}function L(t){for(var i=t;;){switch(typeof(i=i[M()])){case"number":return i;case"object":continue}throw new e("invalid huffman sequence")}}function K(t){for(var e=0;t>0;)e=e<<1|M(),t--;return e}function P(t){if(1===t)return 1===M()?1:-1;var e=K(t);return e>=1<<t-1?e:e+(-1<<t)+1}function Y(t,e,i,n,r){var a=i%W;E=(i/W|0)*t.A+n;var o=a*t.h+r;e(t,f(t,E,o))}function N(t,e,i){E=i/t.P|0;var n=i%t.P;e(t,f(t,E,n))}var F=o.length;for(v=V?0===l?0===c?function(t,e){var i=L(t.J),n=0===i?0:P(i)<<d;t.D[e]=t.Q+=n}:function(t,e){t.D[e]|=M()<<d}:0===c?function(e,i){if(R>0)R--;else for(var n=l,r=u;n<=r;){var a=L(e.i),o=15&a,s=a>>4;if(0!==o){var c=t[n+=s];e.D[i+c]=P(o)*(1<<d),n++}else{if(s<15){R=K(s)+(1<<s)-1;break}n+=16}}}:function(i,n){for(var r,a,o=l,s=u,c=0;o<=s;){var h=n+t[o],f=i.D[h]<0?-1:1;switch(T){case 0:if(c=(a=L(i.i))>>4,0==(r=15&a))c<15?(R=K(c)+(1<<c),T=4):(c=16,T=1);else{if(1!==r)throw new e("invalid ACn encoding");p=P(r),T=c?2:3}continue;case 1:case 2:i.D[h]?i.D[h]+=f*(M()<<d):0==--c&&(T=2===T?3:0);break;case 3:i.D[h]?i.D[h]+=f*(M()<<d):(i.D[h]=p<<d,T=0);break;case 4:i.D[h]&&(i.D[h]+=f*(M()<<d))}o++}4===T&&0==--R&&(T=0)}:function(e,i){var n=L(e.J),r=0===n?0:P(n),a=1;for(e.D[i]=e.Q+=r;a<64;){var o=L(e.i),s=15&o,l=o>>4;if(0!==s){var u=t[a+=l];e.D[i+u]=P(s),a++}else{if(l<15)break;a+=16}}},S=1===F?o[0].P*o[0].c:W*a.R;C<=S;){var B=s?Math.min(S-C,s):S;if(B>0){for(b=0;b<F;b++)o[b].Q=0;if(R=0,1===F)for(m=o[0],_=0;_<B;_++)N(m,v,C),C++;else for(_=0;_<B;_++){for(b=0;b<F;b++)for(x=(m=o[b]).h,I=m.A,y=0;y<I;y++)for(Z=0;Z<x;Z++)Y(m,v,C,y,Z);C++}}if(G=0,!(w=g(i,r)))break;if(w.u&&(r=w.offset),!(w.M>=65488&&w.M<=65495))break;r+=2}return r-X}function m(t,n,d){var h,f,p,m,b,g,y,Z,_,v,w,S,x,I,W,V,X,k=t.$,G=t.D;if(!k)throw new e("missing required Quantization Table.");for(var R=0;R<64;R+=8)_=G[n+R],v=G[n+R+1],w=G[n+R+2],S=G[n+R+3],x=G[n+R+4],I=G[n+R+5],W=G[n+R+6],V=G[n+R+7],_*=k[R],v|w|S|x|I|W|V?(v*=k[R+1],w*=k[R+2],S*=k[R+3],x*=k[R+4],I*=k[R+5],W*=k[R+6],V*=k[R+7],f=(h=(h=u*_+128>>8)+(f=u*x+128>>8)+1>>1)-f,X=(p=w)*l+(m=W)*s+128>>8,p=p*s-m*l+128>>8,y=(b=(b=c*(v-V)+128>>8)+(y=I<<4)+1>>1)-y,g=(Z=(Z=c*(v+V)+128>>8)+(g=S<<4)+1>>1)-g,m=(h=h+(m=X)+1>>1)-m,p=(f=f+p+1>>1)-p,X=b*o+Z*a+2048>>12,b=b*a-Z*o+2048>>12,Z=X,X=g*r+y*i+2048>>12,g=g*i-y*r+2048>>12,y=X,d[R]=h+Z,d[R+7]=h-Z,d[R+1]=f+y,d[R+6]=f-y,d[R+2]=p+g,d[R+5]=p-g,d[R+3]=m+b,d[R+4]=m-b):(X=u*_+512>>10,d[R]=X,d[R+1]=X,d[R+2]=X,d[R+3]=X,d[R+4]=X,d[R+5]=X,d[R+6]=X,d[R+7]=X);for(var T=0;T<8;++T)_=d[T],(v=d[T+8])|(w=d[T+16])|(S=d[T+24])|(x=d[T+32])|(I=d[T+40])|(W=d[T+48])|(V=d[T+56])?(f=(h=4112+((h=u*_+2048>>12)+(f=u*x+2048>>12)+1>>1))-f,X=(p=w)*l+(m=W)*s+2048>>12,p=p*s-m*l+2048>>12,m=X,y=(b=(b=c*(v-V)+2048>>12)+(y=I)+1>>1)-y,g=(Z=(Z=c*(v+V)+2048>>12)+(g=S)+1>>1)-g,X=b*o+Z*a+2048>>12,b=b*a-Z*o+2048>>12,Z=X,X=g*r+y*i+2048>>12,g=g*i-y*r+2048>>12,(_=(h=h+m+1>>1)+Z)<16?_=0:_>=4080?_=255:_>>=4,(v=(f=f+p+1>>1)+(y=X))<16?v=0:v>=4080?v=255:v>>=4,(w=(p=f-p)+g)<16?w=0:w>=4080?w=255:w>>=4,(S=(m=h-m)+b)<16?S=0:S>=4080?S=255:S>>=4,(x=m-b)<16?x=0:x>=4080?x=255:x>>=4,(I=p-g)<16?I=0:I>=4080?I=255:I>>=4,(W=f-y)<16?W=0:W>=4080?W=255:W>>=4,(V=h-Z)<16?V=0:V>=4080?V=255:V>>=4,G[n+T]=_,G[n+T+8]=v,G[n+T+16]=w,G[n+T+24]=S,G[n+T+32]=x,G[n+T+40]=I,G[n+T+48]=W,G[n+T+56]=V):(X=(X=u*_+8192>>14)<-2040?0:X>=2024?255:X+2056>>4,G[n+T]=X,G[n+T+8]=X,G[n+T+16]=X,G[n+T+24]=X,G[n+T+32]=X,G[n+T+40]=X,G[n+T+48]=X,G[n+T+56]=X)}function b(t,e){for(var i=e.P,n=e.c,r=new Int16Array(64),a=0;a<n;a++)for(var o=0;o<i;o++)m(e,f(e,a,o),r);return e.D}function g(t,e,i){null==i&&(i=e);var r=t.length-1,a=i<e?i:e;if(e>=r)return null;var o=n(t,e);if(o>=65472&&o<=65534)return{u:null,M:o,offset:e};for(var s=n(t,a);!(s>=65472&&s<=65534);){if(++a>=r)return null;s=n(t,a)}return{u:o.toString(16),M:s,offset:a}}return d.prototype={parse(i,r){null==r&&(r={});var a,o,s=r.F,l=0,u=null,c=null,d=0;function f(){var t=n(i,l),e=(l+=2)+t-2,r=g(i,e,l);r&&r.u&&(e=r.offset);var a=i.subarray(l,e);return l+=a.length,a}function m(t){for(var e=Math.ceil(t.o/8/t.X),i=Math.ceil(t.s/8/t.B),n=0;n<t.W.length;n++){B=t.W[n];var r=Math.ceil(Math.ceil(t.o/8)*B.h/t.X),a=Math.ceil(Math.ceil(t.s/8)*B.A/t.B),o=e*B.h,s=i*B.A*64*(o+1);B.D=new Int16Array(s),B.P=r,B.c=a}t.m=e,t.R=i}var y=[],Z=[],_=[],v=n(i,l);if(l+=2,65496!==v)throw new e("SOI not found");v=n(i,l),l+=2;t:for(;65497!==v;){var w,S,x;switch(v){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=f();65504===v&&74===I[0]&&70===I[1]&&73===I[2]&&70===I[3]&&0===I[4]&&(u={version:{d:I[5],T:I[6]},K:I[7],j:I[8]<<8|I[9],H:I[10]<<8|I[11],S:I[12],I:I[13],C:I.subarray(14,14+3*I[12]*I[13])}),65518===v&&65===I[0]&&100===I[1]&&111===I[2]&&98===I[3]&&101===I[4]&&(c={version:I[5]<<8|I[6],k:I[7]<<8|I[8],q:I[9]<<8|I[10],a:I[11]});break;case 65499:for(var W=n(i,l)+(l+=2)-2;l<W;){var V=i[l++],X=new Uint16Array(64);if(V>>4){if(V>>4!=1)throw new e("DQT - invalid table spec");for(S=0;S<64;S++)X[t[S]]=n(i,l),l+=2}else for(S=0;S<64;S++)X[t[S]]=i[l++];y[15&V]=X}break;case 65472:case 65473:case 65474:if(a)throw new e("Only single frame JPEGs supported");l+=2,(a={}).G=65473===v,a.Z=65474===v,a.precision=i[l++];var k,G=n(i,l),R=0,T=0;l+=2,a.s=s||G,a.o=n(i,l),l+=2,a.W=[],a._={};var E=i[l++];for(w=0;w<E;w++){k=i[l];var C=i[l+1]>>4,M=15&i[l+1];R<C&&(R=C),T<M&&(T=M);var L=i[l+2];x=a.W.push({h:C,A:M,L:L,$:null}),a._[k]=x-1,l+=3}a.X=R,a.B=T,m(a);break;case 65476:var K=n(i,l);for(l+=2,w=2;w<K;){var P=i[l++],Y=new Uint8Array(16),N=0;for(S=0;S<16;S++,l++)N+=Y[S]=i[l];var F=new Uint8Array(N);for(S=0;S<N;S++,l++)F[S]=i[l];w+=17+N,(P>>4?Z:_)[15&P]=h(Y,F)}break;case 65501:o=n(i,l+=2),l+=2;break;case 65498:var B,U=1==++d&&!s;l+=2;var z=i[l++],J=[];for(w=0;w<z;w++){var H=i[l++],A=a._[H];(B=a.W[A]).index=H;var j=i[l++];B.J=_[j>>4],B.i=Z[15&j],J.push(B)}var O=i[l++],D=i[l++],Q=i[l++];try{var $=p(i,l,a,J,o,O,D,Q>>4,15&Q,U);l+=$}catch(t){if(t instanceof DNLMarkerError)return this.parse(i,{F:t.s});if(t instanceof EOIMarkerError)break t;throw t}break;case 65500:l+=4;break;case 65535:255!==i[l]&&l--;break;default:var q=g(i,l-2,l-3);if(q&&q.u){l=q.offset;break}if(l>=i.length-1)break t;throw new e("JpegImage.parse - unknown marker: "+v.toString(16))}v=n(i,l),l+=2}for(this.width=a.o,this.height=a.s,this.g=u,this.b=c,this.W=[],w=0;w<a.W.length;w++){var tt=y[(B=a.W[w]).L];tt&&(B.$=tt),this.W.push({index:B.index,e:b(0,B),l:B.h/a.X,t:B.A/a.B,P:B.P,c:B.c})}this.p=this.W.length},Y(t,e,i){null==i&&(i=!1);var n,r,a,o,s,l,u,c,d,h,f,p,m=this.width/t,b=this.height/e,g=0,y=this.W.length,Z=t*e*y,_=new Uint8ClampedArray(Z),v=new Uint32Array(t),w=4294967288;for(u=0;u<y;u++){if(r=(n=this.W[u]).l*m,a=n.t*b,g=u,f=n.e,o=n.P+1<<3,r!==p){for(s=0;s<t;s++)c=0|s*r,v[s]=(c&w)<<3|7&c;p=r}for(l=0;l<e;l++)for(h=o*((c=0|l*a)&w)|(7&c)<<3,s=0;s<t;s++)_[g]=f[h+v[s]],g+=y}var S=this.V;if(i||4!==y||S||(S=new Int32Array([-256,255,-256,255,-256,255,-256,255])),S)for(u=0;u<Z;)for(c=0,d=0;c<y;c++,u++,d+=2)_[u]=(_[u]*S[d]>>8)+S[d+1];return _},get f(){return this.b?!!this.b.a:3===this.p?0!==this.N&&(82!==this.W[0].index||71!==this.W[1].index||66!==this.W[2].index):1===this.N},z:function(t){for(var e,i,n,r=0,a=t.length;r<a;r+=3)e=t[r],i=t[r+1],n=t[r+2],t[r]=e-179.456+1.402*n,t[r+1]=e+135.459-.344*i-.714*n,t[r+2]=e-226.816+1.772*i;return t},O:function(t){for(var e,i,n,r,a=0,o=0,s=t.length;o<s;o+=4)e=t[o],i=t[o+1],n=t[o+2],r=t[o+3],t[a++]=i*(-660635669420364e-19*i+.000437130475926232*n-54080610064599e-18*e+.00048449797120281*r-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*e-.00477271405408747*r+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*r+.48357088451265)+r*(-.000336197177618394*r+.484791561490776),t[a++]=107.268039397724+i*(219927104525741e-19*i-.000640992018297945*n+.000659397001245577*e+.000426105652938837*r-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*e+.000770482631801132*r-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*r+.25802910206845)+r*(-.000318913117588328*r-.213742400323665),t[a++]=i*(-.000570115196973677*i-263409051004589e-19*n+.0020741088115012*e-.00288260236853442*r+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*e+.000560833691242812*r-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*r+.116935020465145)+r*(-.000343531996510555*r+.24165260232407);return t.subarray(0,a)},r:function(t){for(var e,i,n,r=0,a=t.length;r<a;r+=4)e=t[r],i=t[r+1],n=t[r+2],t[r]=434.456-e-1.402*n,t[r+1]=119.541-e+.344*i+.714*n,t[r+2]=481.816-e-1.772*i;return t},U:function(t){for(var e,i,n,r,a=0,o=0,s=t.length;o<s;o+=4)e=t[o],i=t[o+1],n=t[o+2],r=t[o+3],t[a++]=255+e*(-6747147073602441e-20*e+.0008379262121013727*i+.0002894718188643294*n+.003264231057537806*r-1.1185611867203937)+i*(26374107616089405e-21*i-8626949158638572e-20*n-.0002748769067499491*r-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*r+.0686742238595345)-r*(.0003361971776183937*r+.7430659151342254),t[a++]=255+e*(.00013596372813588848*e+.000924537132573585*i+.00010567359618683593*n+.0004791864687436512*r-.3109689587515875)+i*(-.00023545346108370344*i+.0002702845253534714*n+.0020200308977307156*r-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*r-.09751927774728933)-r*(.0003189131175883281*r+.7364883807733168),t[a++]=255+e*(13598650411385307e-21*e+.00012423956175490851*i+.0004751985097583589*n-36729317476630422e-22*r-.05562186980264034)+i*(.00016141380598724676*i+.0009692239130725186*n+.0007782692450036253*r-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*r-.7591454649749609)-r*(.0003435319965105553*r+.7063770186160144);return t.subarray(0,a)},getData:function(t){var i=t.width,n=t.height,r=t.forceRGB,a=t.isSourcePDF;if(this.p>4)throw new e("Unsupported color mode");var o=this.Y(i,n,a);if(1===this.p&&r){for(var s=o.length,l=new Uint8ClampedArray(3*s),u=0,c=0;c<s;c++){var d=o[c];l[u++]=d,l[u++]=d,l[u++]=d}return l}if(3===this.p&&this.f)return this.z(o);if(4===this.p){if(this.f)return r?this.O(o):this.r(o);if(r)return this.U(o)}return o}},d}();function n(t,e){return t[e]<<8|t[e+1]}t.JpegDecoder=i}(),t.encodeImage=function(e,i,n,r){var a={t256:[i],t257:[n],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[n],t279:[i*n*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(r)for(var o in r)a[o]=r[o];var s=new Uint8Array(t.encode([a])),l=new Uint8Array(e),u=new Uint8Array(1e3+i*n*4);for(o=0;o<s.length;o++)u[o]=s[o];for(o=0;o<l.length;o++)u[1e3+o]=l[o];return u.buffer},t.encode=function(e){var i=new Uint8Array(2e4),n=4,r=t._binBE;i[0]=i[1]=77,r.writeUshort(i,2,42);var a=8;r.writeUint(i,n,a),n+=4;for(var o=0;o<e.length;o++){var s=t._writeIFD(r,t._types.basic,i,a,e[o]);a=s[1],o<e.length-1&&(3&a&&(a+=4-(3&a)),r.writeUint(i,s[0],a))}return i.slice(0,a).buffer},t.decode=function(e,n){null==n&&(n={parseMN:!0,debug:!1});var r=new Uint8Array(e),a=0,o=t._binBE.readASCII(r,a,2);a+=2;var s="II"==o?t._binLE:t._binBE;s.readUshort(r,a),a+=2;var l=s.readUint(r,a);a+=4;for(var u=[];;){var c=s.readUshort(r,l),d=s.readUshort(r,l+4);if(0!=c&&(d<1||13<d)){i("error in TIFF");break}if(t._readIFD(s,r,l,u,0,n),0==(l=s.readUint(r,l+2+12*c)))break}return u},t.decodeImage=function(e,n,r){if(!n.data){var a=new Uint8Array(e),o=t._binBE.readASCII(a,0,2);if(null!=n.t256){n.isLE="II"==o,n.width=n.t256[0],n.height=n.t257[0];var s=n.t259?n.t259[0]:1,l=n.t266?n.t266[0]:1;n.t284&&2==n.t284[0]&&i("PlanarConfiguration 2 should not be used!"),7==s&&n.t258&&n.t258.length>3&&(n.t258=n.t258.slice(0,3));var u=n.t277?n.t277[0]:1,c=(n.t258?n.t258[0]:1)*u;1==s&&null!=n.t279&&n.t278&&32803==n.t262[0]&&(c=Math.round(8*n.t279[0]/(n.width*n.t278[0]))),n.t50885&&4==n.t50885[0]&&(c=3*n.t258[0]);var d=8*Math.ceil(n.width*c/8),h=n.t273;(null==h||n.t322)&&(h=n.t324);var f=n.t279;1==s&&1==h.length&&(f=[n.height*(d>>>3)]),(null==f||n.t322)&&(f=n.t325);var p=new Uint8Array(n.height*(d>>>3)),m=0;if(null!=n.t322){for(var b=n.t322[0],g=n.t323[0],y=Math.floor((n.width+b-1)/b),Z=Math.floor((n.height+g-1)/g),_=new Uint8Array(0|Math.ceil(b*g*c/8)),v=0;v<Z;v++)for(var w=0;w<y;w++){var S=v*y+w;_.fill(0),t.decode._decompress(n,r,a,h[S],f[S],s,_,0,l,b,g),6==s?p=_:t._copyTile(_,0|Math.ceil(b*c/8),g,p,0|Math.ceil(n.width*c/8),n.height,0|Math.ceil(w*b*c/8),v*g)}m=8*p.length}else{if(null==h)return;var x=n.t278?n.t278[0]:n.height;for(x=Math.min(x,n.height),S=0;S<h.length;S++)t.decode._decompress(n,r,a,h[S],f[S],s,p,0|Math.ceil(m/8),l,n.width,x),m+=d*x;m=Math.min(m,8*p.length)}n.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},t.decode._decompress=function(n,r,a,o,s,l,u,c,d,h,f){if(n.t271&&"Panasonic"==n.t271[0]&&n.t45&&6==n.t45[0]&&(l=34316),1==l)for(var p=0;p<s;p++)u[c+p]=a[o+p];else if(2==l)t.decode._decodeG2(a,o,s,u,c,h,d);else if(3==l)t.decode._decodeG3(a,o,s,u,c,h,d,!!n.t292&&!(1&~n.t292[0]));else if(4==l)t.decode._decodeG4(a,o,s,u,c,h,d);else if(5==l)t.decode._decodeLZW(a,o,s,u,c,8);else if(6==l)t.decode._decodeOldJPEG(n,a,o,s,u,c);else if(7==l||34892==l)t.decode._decodeNewJPEG(n,a,o,s,u,c);else if(8==l||32946==l){var m=new Uint8Array(a.buffer,o+2,s-6),b=e.inflateRaw(m);c+b.length<=u.length&&u.set(b,c)}else 9==l?t.decode._decodeVC5(a,o,s,u,c,n.t33422):32767==l?t.decode._decodeARW(n,a,o,s,u,c):32773==l?t.decode._decodePackBits(a,o,s,u,c):32809==l?t.decode._decodeThunder(a,o,s,u,c):34316==l?t.decode._decodePanasonic(n,a,o,s,u,c):34713==l?t.decode._decodeNikon(n,r,a,o,s,u,c):34676==l?t.decode._decodeLogLuv32(n,a,o,s,u,c):i("Unknown compression",l);var g=n.t258?Math.min(32,n.t258[0]):1,y=n.t277?n.t277[0]:1,Z=g*y>>>3,_=Math.ceil(g*y*h/8);if(16==g&&!n.isLE&&null==n.t33422)for(var v=0;v<f;v++)for(var w=c+v*_,S=1;S<_;S+=2){var x=u[w+S];u[w+S]=u[w+S-1],u[w+S-1]=x}if(n.t317&&2==n.t317[0])for(v=0;v<f;v++){var I=c+v*_;if(16==g)for(p=Z;p<_;p+=2){var W=(u[I+p+1]<<8|u[I+p])+(u[I+p-Z+1]<<8|u[I+p-Z]);u[I+p]=255&W,u[I+p+1]=W>>>8&255}else if(3==y)for(p=3;p<_;p+=3)u[I+p]=u[I+p]+u[I+p-3]&255,u[I+p+1]=u[I+p+1]+u[I+p-2]&255,u[I+p+2]=u[I+p+2]+u[I+p-1]&255;else for(p=Z;p<_;p++)u[I+p]=u[I+p]+u[I+p-Z]&255}},t.decode._decodePanasonic=function(t,e,i,n,r,a){var o,s,l,u,c,d,h,f,p=e.buffer,m=t.t2[0],b=t.t3[0],g=t.t10[0],y=t.t45[0],Z=0,_=0,v=0,w=0,S=6==y?new Uint32Array(18):new Uint8Array(16),x=[0,0],I=[0,0],W=0,V=new Uint8Array(16384),X=new Uint16Array(r.buffer);function k(t){if(0==v){var e=new Uint8Array(p,i+_+8184,8200),n=new Uint8Array(p,i+_,8184);V.set(e),V.set(n,e.length),_+=16384}if(5!=y)return(V[w=(v=v-t&131071)>>3^16368]|V[w+1]<<8)>>(7&v)&~(-1<<t);for(o=0;o<16;o++)S[o]=V[v++],v&=16383}function G(t){return V[v+15-t]}function R(){x[0]=0,x[1]=0,I[0]=0,I[1]=0}if(7==y)throw y;if(6==y){var T=12==g,E=T?function(){S[0]=G(0)<<4|G(1)>>4,S[1]=4095&((15&G(1))<<8|G(2)),S[2]=G(3)>>6&3,S[3]=(63&G(3))<<2|G(4)>>6,S[4]=(63&G(4))<<2|G(5)>>6,S[5]=(63&G(5))<<2|G(6)>>6,S[6]=G(6)>>4&3,S[7]=(15&G(6))<<4|G(7)>>4,S[8]=(15&G(7))<<4|G(8)>>4,S[9]=(15&G(8))<<4|G(9)>>4,S[10]=G(9)>>2&3,S[11]=(3&G(9))<<6|G(10)>>2,S[12]=(3&G(10))<<6|G(11)>>2,S[13]=(3&G(11))<<6|G(12)>>2,S[14]=3&G(12),S[15]=G(13),S[16]=G(14),S[17]=G(15),v+=16,w=0}:function(){S[0]=G(0)<<6|G(1)>>2,S[1]=16383&((3&G(1))<<12|G(2)<<4|G(3)>>4),S[2]=G(3)>>2&3,S[3]=(3&G(3))<<8|G(4),S[4]=G(5)<<2|G(6)>>6,S[5]=(63&G(6))<<4|G(7)>>4,S[6]=G(7)>>2&3,S[7]=(3&G(7))<<8|G(8),S[8]=G(9)<<2&1020|G(10)>>6,S[9]=1023&(G(10)<<4|G(11)>>4),S[10]=G(11)>>2&3,S[11]=(3&G(11))<<8|G(12),S[12]=1023&(G(13)<<2&1020|G(14)>>6),S[13]=1023&(G(14)<<4|G(15)>>4),v+=16,w=0},C=T?14:11,M=T?128:512,L=T?2048:8192,K=T?16383:65535,P=T?4095:16383,Y=m/C,N=16*Y,F=T?18:14;for(d=0;d<b-15;d+=16){var B=Math.min(16,b-d),U=N*B;for(V=new Uint8Array(p,i+Z,U),v=0,Z+=U,f=0,h=0;f<B;f++,h=0){W=(d+f)*m;for(var z=0;z<Y;z++)for(E(),R(),l=0,c=0,o=0;o<C;o++){if(u=1&o,o%3==2){var J=w<F?S[w++]:0;3==J&&(J=4),c=M<<J,l=1<<J}var H=w<F?S[w++]:0;x[u]?(H*=l,c<L&&I[u]>c&&(H+=I[u]-c),I[u]=H):(x[u]=H,H?I[u]=H:H=I[u]),X[W+h++]=H-15<=K?H-15&K:H+2147483633>>31&P}}}}else if(5==y){var A=12==g?10:9;for(d=0;d<b;d++)for(h=0;h<m;h+=A)k(0),12==g?(X[W++]=((15&S[1])<<8)+S[0],X[W++]=16*S[2]+(S[1]>>4),X[W++]=((15&S[4])<<8)+S[3],X[W++]=16*S[5]+(S[4]>>4),X[W++]=((15&S[7])<<8)+S[6],X[W++]=16*S[8]+(S[7]>>4),X[W++]=((15&S[10])<<8)+S[9],X[W++]=16*S[11]+(S[10]>>4),X[W++]=((15&S[13])<<8)+S[12],X[W++]=16*S[14]+(S[13]>>4)):14==g&&(X[W++]=S[0]+((63&S[1])<<8),X[W++]=(S[1]>>6)+4*S[2]+((15&S[3])<<10),X[W++]=(S[3]>>4)+16*S[4]+((3&S[5])<<12),X[W++]=((252&S[5])>>2)+(S[6]<<6),X[W++]=S[7]+((63&S[8])<<8),X[W++]=(S[8]>>6)+4*S[9]+((15&S[10])<<10),X[W++]=(S[10]>>4)+16*S[11]+((3&S[12])<<12),X[W++]=((252&S[12])>>2)+(S[13]<<6),X[W++]=S[14]+((63&S[15])<<8))}else{if(4!=y)throw y;for(d=0;d<b;d++)for(h=0;h<m;h++)u=1&(o=h%14),0==o&&R(),o%3==2&&(l=4>>3-k(2)),I[u]?0!=(s=k(8))&&(x[u]-=128<<l,(x[u]<0||4==l)&&(x[u]&=~(-1<<l)),x[u]+=s<<l):(I[u]=k(8),(I[u]||o>11)&&(x[u]=I[u]<<4|k(4))),X[W++]=x[1&h]}},t.decode._decodeVC5=function(){var e,i,n,r=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],a=[3,3,3,3,2,2,2,1,1,1];function o(t){var e=t[1],i=t[0][e>>>3]>>>7-(7&e)&1;return t[1]++,i}function s(t,i){if(null==e){e={};for(var n=0;n<r.length;n+=4)e[r[n+1]]=r.slice(n,n+4)}for(var a=o(t),s=e[a];null==s;)a=a<<1|o(t),s=e[a];var l=s[3];0!=l&&(l=0==o(t)?l:-l),i[0]=s[2],i[1]=l}function l(t,e){for(var i=0;i<e;i++)1&~t||t++,t>>>=1;return t}function u(t,e){return t>>e}function c(t,e,i,n,r,a){e[i]=u(u(11*t[r]-4*t[r+a]+t[r+a+a]+4,3)+t[n],1),e[i+a]=u(u(5*t[r]+4*t[r+a]-t[r+a+a]+4,3)-t[n],1)}function d(t,e,i,n,r,a){var o=t[r-a]-t[r+a],s=t[r],l=t[n];e[i]=u(u(o+4,3)+s+l,1),e[i+a]=u(u(4-o,3)+s-l,1)}function h(t,e,i,n,r,a){e[i]=u(u(5*t[r]+4*t[r-a]-t[r-a-a]+4,3)+t[n],1),e[i+a]=u(u(11*t[r]-4*t[r-a]+t[r-a-a]+4,3)-t[n],1)}function f(t){return n[t=t<0?0:t>4095?4095:t]>>>2}return function(e,r,o,u,p,m){u=new Uint16Array(u.buffer);Date.now();var b,g,y,Z,_,v,w,S,x=t._binBE,I=r+o;r+=4;for(var W=1==m[0];r<I;){var V=x.readShort(e,r),X=x.readUshort(e,r+2);if(r+=4,12==V)M=X;else if(20==V)b=X;else if(21==V)g=X;else if(48==V)y=X;else if(53==V)Z=X;else if(35==V);else if(62==V)_=X;else if(101==V);else if(109==V)v=X;else if(84==V);else if(106==V);else if(107==V);else if(108==V);else if(102==V);else if(104==V)et=X;else if(105==V);else{var k=V<0?-V:V,G=65280&k,R=0;if(24576&k&&(8192&k?(R=65535&X,R+=(255&k)<<16):R=65535&X),24576&~k){if(16388==k)r+=4*R;else if(8192!=G&&8448!=G&&9216!=G)throw k.toString(16)}else{if(null==w){w=[];for(var T=0;T<4;T++)w[T]=new Int16Array((b>>>1)*(g>>>1));for(S=new Int16Array((b>>>1)*(g>>>1)),i=new Int16Array(1024),T=0;T<1024;T++){var E=T-512,C=Math.abs(E),M=Math.floor(768*C*C*C/16581375)+C;i[T]=Math.sign(E)*M}for(n=new Uint16Array(4096),T=0;T<4096;T++){var L=T,K=65535*(Math.pow(113,L/4095)-1)/112;n[T]=Math.min(K,65535)}}var P=w[_],Y=l(b,1+a[y]),N=l(g,1+a[y]);if(0==y)for(var F=0;F<N;F++)for(var B=0;B<Y;B++){var U=r+2*(F*Y+B);P[F*(b>>>1)+B]=e[U]<<8|e[U+1]}else{var z=[e,8*r],J=[],H=0,A=Y*N,j=[0,0],O=0;for(X=0;H<A;)for(s(z,j),O=j[0],X=j[1];O>0;)J[H++]=X,O--;var D=(y-1)%3,Q=1!=D?Y:0,$=0!=D?N:0;for(F=0;F<N;F++){var q=(F+$)*(b>>>1)+Q,tt=F*Y;for(B=0;B<Y;B++)P[q+B]=i[J[tt+B]+512]*Z}if(2==D){var et=b>>>1,it=2*Y,nt=2*N;for(F=0;F<N;F++)for(B=0;B<it;B++){T=2*F*et+B;var rt=N*et+(ot=F*et+B);0==F?c(P,S,T,rt,ot,et):F==N-1?h(P,S,T,rt,ot,et):d(P,S,T,rt,ot,et)}var at=P;for(P=S,S=at,F=0;F<nt;F++)for(B=0;B<Y;B++){var ot;T=F*et+2*B,rt=Y+(ot=F*et+B),0==B?c(P,S,T,rt,ot,1):B==Y-1?h(P,S,T,rt,ot,1):d(P,S,T,rt,ot,1)}at=P,P=S,S=at;for(var st=[],lt=2-~~((y-1)/3),ut=0;ut<3;ut++)st[ut]=v>>14-2*ut&3;var ct=st[lt];if(0!=ct)for(F=0;F<nt;F++)for(B=0;B<it;B++)P[T=F*et+B]=P[T]<<ct}}if(9==y&&3==_){var dt=w[0],ht=w[1],ft=w[2],pt=w[3];for(F=0;F<g;F+=2)for(B=0;B<b;B+=2){var mt=F*b+B,bt=dt[U=(F>>>1)*(b>>>1)+(B>>>1)],gt=ht[U]-2048,yt=ft[U]-2048,Zt=pt[U]-2048,_t=(gt<<1)+bt,vt=(yt<<1)+bt,wt=bt+Zt,St=bt-Zt;W?(u[mt]=f(wt),u[mt+1]=f(vt),u[mt+b]=f(_t),u[mt+b+1]=f(St)):(u[mt]=f(_t),u[mt+1]=f(wt),u[mt+b]=f(St),u[mt+b+1]=f(vt))}}r+=4*R}}}}}(),t.decode._decodeLogLuv32=function(t,e,i,n,r,a){for(var o=t.width,s=4*o,l=0,u=new Uint8Array(s);l<n;){for(var c=0;c<s;){var d=e[i+l];if(l++,d<128){for(var h=0;h<d;h++)u[c+h]=e[i+l+h];c+=d,l+=d}else{for(d-=126,h=0;h<d;h++)u[c+h]=e[i+l];c+=d,l++}}for(var f=0;f<o;f++)r[a+0]=u[f],r[a+1]=u[f+o],r[a+2]=u[f+2*o],r[a+4]=u[f+3*o],a+=6}},t.decode._ljpeg_diff=function(e,i,n){var r,a,o=t.decode._getbithuff;return r=o(e,i,n[0],n),(a=o(e,i,r,0))&1<<r-1||(a-=(1<<r)-1),a},t.decode._decodeARW=function(e,i,n,r,a,o){var s=e.t256[0],l=e.t257[0],u=e.t258[0],c=e.isLE?t._binLE:t._binBE;if(s*l==r||s*l*1.5==r)if(s*l*1.5!=r){var d,h,f,p,m,b,g,y,Z=new Uint16Array(16),_=new Uint8Array(s+1);for(X=0;X<l;X++){for(var v=0;v<s;v++)_[v]=i[n++];for(y=0,V=0;V<s-30;y+=16){for(h=2047&(d=c.readUint(_,y)),f=2047&d>>>11,p=15&d>>>22,m=15&d>>>26,b=0;b<4&&128<<b<=h-f;b++);for(g=30,w=0;w<16;w++)w==p?Z[w]=h:w==m?Z[w]=f:(Z[w]=((c.readUshort(_,y+(g>>3))>>>(7&g)&127)<<b)+f,Z[w]>2047&&(Z[w]=2047),g+=7);for(w=0;w<16;w++,V+=2)L=Z[w]<<1,t.decode._putsF(a,(X*s+V)*u,L<<16-u);V-=1&V?1:31}}}else for(var w=0;w<r;w+=3){var S=i[n+w+0],x=i[n+w+1],I=i[n+w+2];a[o+w]=x<<4|S>>>4,a[o+w+1]=S<<4|I>>>4,a[o+w+2]=I<<4|x>>>4}else{l+=8;var W,V,X,k=[n,0,0,0],G=new Uint16Array(32770),R=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],T=0,E=t.decode._ljpeg_diff;for(G[0]=15,W=w=0;w<18;w++)for(var C=32768>>>(R[w]>>>8),M=0;M<C;M++)G[++W]=R[w];for(V=s;V--;)for(X=0;X<l+1;X+=2)if(X==l&&(X=1),T+=E(i,k,G),X<l){var L=4095&T;t.decode._putsF(a,(X*s+V)*u,L<<16-u)}}},t.decode._decodeNikon=function(e,i,n,r,a,o,s){var l=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],u=e.t256[0],c=e.t257[0],d=e.t258[0],h=0,f=0,p=t.decode._make_decoder,m=t.decode._getbithuff,b=i[0].exifIFD.makerNote,g=b.t150?b.t150:b.t140,y=0,Z=g[y++],_=g[y++];73!=Z&&88!=_||(y+=2110),70==Z&&(h=2),14==d&&(h+=3);for(var v=[[0,0],[0,0]],w=e.isLE?t._binLE:t._binBE,S=0;S<2;S++)for(var x=0;x<2;x++)v[S][x]=w.readShort(g,y),y+=2;var I,W,V,X,k,G=1<<d&32767,R=0,T=w.readShort(g,y);y+=2,T>1&&(R=Math.floor(G/(T-1))),68==Z&&32==_&&R>0&&(f=w.readShort(g,562));var E=[0,0],C=p(l[h]),M=[r,0,0,0];for(I=0;I<c;I++)for(f&&I==f&&(C=p(l[h+1])),W=0;W<u;W++){S=m(n,M,C[0],C),(k=1+(m(n,M,(V=15&S)-(X=S>>>4),0)<<1)<<X>>>1)&1<<V-1||(k-=(1<<V)-(0==X?1:0)),W<2?E[W]=v[1&I][W]+=k:E[1&W]+=k;var L=Math.min(Math.max(E[1&W],0),(1<<d)-1),K=(I*u+W)*d;t.decode._putsF(o,K,L<<16-d)}},t.decode._putsF=function(t,e,i){i<<=8-(7&e);var n=e>>>3;t[n]|=i>>>16,t[n+1]|=i>>>8,t[n+2]|=i},t.decode._getbithuff=function(e,i,n,r){var a;t.decode._get_byte;var o=i[0],s=i[1],l=i[2],u=i[3];if(0==n||l<0)return 0;for(;!u&&l<n&&-1!=(a=e[o++])&&!(u=0);)s=(s<<8)+a,l+=8;if(a=s<<32-l>>>32-n,r?(l-=r[a+1]>>>8,a=255&r[a+1]):l-=n,l<0)throw"e";return i[0]=o,i[1]=s,i[2]=l,i[3]=u,a},t.decode._make_decoder=function(t){var e,i,n,r,a,o=[];for(e=16;0!=e&&!t[e];e--);var s=17;for(o[0]=e,n=i=1;i<=e;i++)for(r=0;r<t[i];r++,++s)for(a=0;a<1<<e-i;a++)n<=1<<e&&(o[n++]=i<<8|t[s]);return o},t.decode._decodeNewJPEG=function(e,i,n,r,a,o){r=Math.min(r,i.length-n);var s=e.t347,l=s?s.length:0,u=new Uint8Array(l+r);if(s){for(var c=0,d=0;d<l-1&&(255!=s[d]||217!=s[d+1]);d++)u[c++]=s[d];var h=i[n],f=i[n+1];for(255==h&&216==f||(u[c++]=h,u[c++]=f),d=2;d<r;d++)u[c++]=i[n+d]}else for(d=0;d<r;d++)u[d]=i[n+d];if(32803==e.t262[0]||7==e.t259[0]&&34892==e.t262[0]){var p=e.t258[0],m=t.LosslessJpegDecode(u),b=m.length;if(16==p)if(e.isLE)for(d=0;d<b;d++)a[o+(d<<1)]=255&m[d],a[o+(d<<1)+1]=m[d]>>>8;else for(d=0;d<b;d++)a[o+(d<<1)]=m[d]>>>8,a[o+(d<<1)+1]=255&m[d];else if(14==p||12==p||10==p){var g=16-p;for(d=0;d<b;d++)t.decode._putsF(a,d*p,m[d]<<g)}else{if(8!=p)throw new Error("unsupported bit depth "+p);for(d=0;d<b;d++)a[o+d]=m[d]}}else{var y=new t.JpegDecoder;y.parse(u);var Z=y.getData({width:y.width,height:y.height,forceRGB:!0,isSourcePDF:!1});for(d=0;d<Z.length;d++)a[o+d]=Z[d]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,n,r){var a,o,s,l,u,c=216,d=0,h=0,f=!1,p=t.t513,m=p?p[0]:0,b=t.t514,g=b?b[0]:0,y=t.t324||t.t273||p,Z=t.t530,_=0,v=0,w=t.t277?t.t277[0]:1,S=t.t515;if(y&&(h=y[0],f=y.length>1),!f){if(255==e[n]&&e[n+1]==c)return{jpegOffset:n};if(null!=p&&(255==e[n+m]&&e[n+m+1]==c?d=n+m:i("JPEGInterchangeFormat does not point to SOI"),null==b?i("JPEGInterchangeFormatLength field is missing"):(m>=h||m+g<=h)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=d))return{jpegOffset:d}}if(null!=Z&&(_=Z[0],v=Z[1]),null!=p&&null!=b)if(g>=2&&m+g<=h){for(a=255==e[n+m+g-2]&&e[n+m+g-1]==c?new Uint8Array(g-2):new Uint8Array(g),s=0;s<a.length;s++)a[s]=e[n+m+s];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==a){var x=0,I=[];I[x++]=255,I[x++]=c;var W=t.t519;if(null==W)throw new Error("JPEGQTables tag is missing");for(s=0;s<W.length;s++)for(I[x++]=255,I[x++]=219,I[x++]=0,I[x++]=67,I[x++]=s,l=0;l<64;l++)I[x++]=e[n+W[s]+l];for(u=0;u<2;u++){var V=t[0==u?"t520":"t521"];if(null==V)throw new Error((0==u?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(s=0;s<V.length;s++){I[x++]=255,I[x++]=196;var X=19;for(l=0;l<16;l++)X+=e[n+V[s]+l];for(I[x++]=X>>>8,I[x++]=255&X,I[x++]=s|u<<4,l=0;l<16;l++)I[x++]=e[n+V[s]+l];for(l=0;l<X;l++)I[x++]=e[n+V[s]+16+l]}}if(I[x++]=255,I[x++]=192,I[x++]=0,I[x++]=8+3*w,I[x++]=8,I[x++]=t.height>>>8&255,I[x++]=255&t.height,I[x++]=t.width>>>8&255,I[x++]=255&t.width,I[x++]=w,1==w)I[x++]=1,I[x++]=17,I[x++]=0;else for(s=0;s<3;s++)I[x++]=s+1,I[x++]=0!=s?17:(15&_)<<4|15&v,I[x++]=s;null!=S&&0!=S[0]&&(I[x++]=255,I[x++]=221,I[x++]=0,I[x++]=4,I[x++]=S[0]>>>8&255,I[x++]=255&S[0]),a=new Uint8Array(I)}var k=-1;for(s=0;s<a.length-1;){if(255==a[s]&&192==a[s+1]){k=s;break}s++}if(-1==k){var G=new Uint8Array(a.length+10+3*w);G.set(a);var R=a.length;if(k=a.length,(a=G)[R++]=255,a[R++]=192,a[R++]=0,a[R++]=8+3*w,a[R++]=8,a[R++]=t.height>>>8&255,a[R++]=255&t.height,a[R++]=t.width>>>8&255,a[R++]=255&t.width,a[R++]=w,1==w)a[R++]=1,a[R++]=17,a[R++]=0;else for(s=0;s<3;s++)a[R++]=s+1,a[R++]=0!=s?17:(15&_)<<4|15&v,a[R++]=s}if(255==e[h]&&218==e[h+1]){var T=e[h+2]<<8|e[h+3];for((o=new Uint8Array(T+2))[0]=e[h],o[1]=e[h+1],o[2]=e[h+2],o[3]=e[h+3],s=0;s<T-2;s++)o[s+4]=e[h+s+4]}else{var E=0;if((o=new Uint8Array(8+2*w))[E++]=255,o[E++]=218,o[E++]=0,o[E++]=6+2*w,o[E++]=w,1==w)o[E++]=1,o[E++]=0;else for(s=0;s<3;s++)o[E++]=s+1,o[E++]=s<<4|s;o[E++]=0,o[E++]=63,o[E++]=0}return{jpegOffset:n,tables:a,sosMarker:o,sofPosition:k}},t.decode._decodeOldJPEG=function(e,i,n,r,a,o){var s,l,u,c,d=t.decode._decodeOldJPEGInit(e,i,n,r);if(null!=d.jpegOffset)for(s=n+r-d.jpegOffset,u=new Uint8Array(s),p=0;p<s;p++)u[p]=i[d.jpegOffset+p];else{for(l=d.tables.length,(u=new Uint8Array(l+d.sosMarker.length+r+2)).set(d.tables),c=l,u[d.sofPosition+5]=e.height>>>8&255,u[d.sofPosition+6]=255&e.height,u[d.sofPosition+7]=e.width>>>8&255,u[d.sofPosition+8]=255&e.width,255==i[n]&&i[n+1]==SOS||(u.set(d.sosMarker,c),c+=sosMarker.length),p=0;p<r;p++)u[c++]=i[n+p];u[c++]=255,u[c++]=EOI}var h=new t.JpegDecoder;h.parse(u);for(var f=h.getData({width:h.width,height:h.height,forceRGB:!0,isSourcePDF:!1}),p=0;p<f.length;p++)a[o+p]=f[p];e.t262&&6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,i,n,r){for(var a=new Int8Array(t.buffer),o=new Int8Array(n.buffer),s=e+i;e<s;){var l=a[e];if(e++,l>=0&&l<128)for(var u=0;u<l+1;u++)o[r]=a[e],r++,e++;if(l>=-127&&l<0){for(u=0;u<1-l;u++)o[r]=a[e],r++;e++}}return r},t.decode._decodeThunder=function(t,e,i,n,r){for(var a=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],s=e+i,l=2*r,u=0;e<s;){var c=t[e],d=c>>>6,h=63&c;if(e++,3==d&&(u=15&h,n[l>>>1]|=u<<4*(1-l&1),l++),0==d)for(var f=0;f<h;f++)n[l>>>1]|=u<<4*(1-l&1),l++;if(2==d)for(f=0;f<2;f++)4!=(p=h>>>3*(1-f)&7)&&(u+=o[p],n[l>>>1]|=u<<4*(1-l&1),l++);if(1==d)for(f=0;f<3;f++){var p;2!=(p=h>>>2*(2-f)&3)&&(u+=a[p],n[l>>>1]|=u<<4*(1-l&1),l++)}}},t.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},t.decode._lens=function(){var t=function(t,e,i,n){for(var r=0;r<e.length;r++)t[e[r]]=i+r*n},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",i="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",n="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",r="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),i=i.split(","),n=n.split(","),r=r.split(","),a=a.split(",");var o={},s={};return t(o,e,0,1),t(o,n,64,64),t(o,a,1792,64),t(s,i,0,1),t(s,r,64,64),t(s,a,1792,64),[o,s]}(),t.decode._decodeG4=function(e,i,n,r,a,o,s){for(var l=t.decode,u=i<<3,c=0,d="",h=[],f=[],p=0;p<o;p++)f.push(0);f=l._makeDiff(f);for(var m=0,b=0,g=0,y=0,Z=0,_=0,v="",w=0,S=8*Math.ceil(o/8);u>>>3<i+n;){g=l._findDiff(f,m+(0==m?0:1),1-Z),y=l._findDiff(f,g,Z);var x=0;if(1==s&&(x=e[u>>>3]>>>7-(7&u)&1),2==s&&(x=e[u>>>3]>>>(7&u)&1),u++,d+=x,"H"==v){if(null!=l._lens[Z][d]){var I=l._lens[Z][d];d="",c+=I,I<64&&(l._addNtimes(h,c,Z),m+=c,Z=1-Z,c=0,0==--w&&(v=""))}}else"0001"==d&&(d="",l._addNtimes(h,y-m,Z),m=y),"001"==d&&(d="",v="H",w=2),null!=l._dmap[d]&&(b=g+l._dmap[d],l._addNtimes(h,b-m,Z),m=b,d="",Z=1-Z);h.length==o&&""==v&&(l._writeBits(h,r,8*a+_*S),Z=0,_++,m=0,f=l._makeDiff(h),h=[])}},t.decode._findDiff=function(t,e,i){for(var n=0;n<t.length;n+=2)if(t[n]>=e&&t[n+1]==i)return t[n]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var i=1;i<t.length;i++)t[i-1]!=t[i]&&e.push(i,t[i]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG2=function(e,i,n,r,a,o,s){for(var l=t.decode,u=i<<3,c=0,d="",h=[],f=0,p=0,m=8*Math.ceil(o/8);u>>>3<i+n;){var b=0;1==s&&(b=e[u>>>3]>>>7-(7&u)&1),2==s&&(b=e[u>>>3]>>>(7&u)&1),u++,d+=b,null!=(c=l._lens[f][d])&&(l._addNtimes(h,c,f),d="",c<64&&(f=1-f),h.length==o&&(l._writeBits(h,r,8*a+p*m),h=[],p++,f=0,7&u&&(u+=8-(7&u)),c>=64&&(u+=8)))}},t.decode._decodeG3=function(e,i,n,r,a,o,s,l){for(var u=t.decode,c=i<<3,d=0,h="",f=[],p=[],m=0;m<o;m++)f.push(0);for(var b=0,g=0,y=0,Z=0,_=0,v=-1,w="",S=0,x=!0,I=8*Math.ceil(o/8);c>>>3<i+n;){y=u._findDiff(p,b+(0==b?0:1),1-_),Z=u._findDiff(p,y,_);var W=0;if(1==s&&(W=e[c>>>3]>>>7-(7&c)&1),2==s&&(W=e[c>>>3]>>>(7&c)&1),c++,h+=W,x){if(null!=u._lens[_][h]){var V=u._lens[_][h];h="",d+=V,V<64&&(u._addNtimes(f,d,_),_=1-_,d=0)}}else"H"==w?null!=u._lens[_][h]&&(V=u._lens[_][h],h="",d+=V,V<64&&(u._addNtimes(f,d,_),b+=d,_=1-_,d=0,0==--S&&(w=""))):("0001"==h&&(h="",u._addNtimes(f,Z-b,_),b=Z),"001"==h&&(h="",w="H",S=2),null!=u._dmap[h]&&(g=y+u._dmap[h],u._addNtimes(f,g-b,_),b=g,h="",_=1-_));h.endsWith("000000000001")&&(v>=0&&u._writeBits(f,r,8*a+v*I),l&&(1==s&&(x=1==(e[c>>>3]>>>7-(7&c)&1)),2==s&&(x=1==(e[c>>>3]>>>(7&c)&1)),c++),h="",_=0,v++,b=0,p=u._makeDiff(f),f=[])}f.length==o&&u._writeBits(f,r,8*a+v*I)},t.decode._addNtimes=function(t,e,i){for(var n=0;n<e;n++)t.push(i)},t.decode._writeBits=function(t,e,i){for(var n=0;n<t.length;n++)e[i+n>>>3]|=t[n]<<7-(i+n&7)},t.decode._decodeLZW=t.decode._decodeLZW=function(){var t,e,i,n,r=0,a=0,o=0,s=0,l=function(){var i=t>>>3,n=(e[i]<<16|e[i+1]<<8|e[i+2])>>>24-(7&t)-a&(1<<a)-1;return t+=a,n},u=new Uint32Array(16384),c=0,d=function(t){a=t+1,r=s+1},h=function(t){for(var e=t<<2,r=u[e+2],a=n+r-1;65535!=e;)i[a--]=u[e],e=u[e+1];n+=r},f=function(t,e){var i=r<<2,n=t<<2;u[i]=u[3+(e<<2)],u[i+1]=n,u[i+2]=u[n+2]+1,u[i+3]=u[n+3],1+ ++r==1<<a&&12!=a&&a++};return function(a,p,m,b,g,y){t=p<<3,e=a,i=b,n=g;var Z=p+m<<3,_=0,v=0;for(function(t){if(t!=c){c=t,s=1+(o=1<<t);for(var e=0;e<s+1;e++)u[4*e]=u[4*e+3]=e,u[4*e+1]=65535,u[4*e+2]=1}}(y),d(y);t<Z&&(_=l())!=s;){if(_==o){if(d(y),(_=l())==s)break;h(_)}else _<r?(h(_),f(v,_)):(f(v,v),h(r-1));v=_}return n}}(),t.tags={},t._types=function(){var t=new Array(250);return t.fill(0),{basic:{main:t=t.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),t._readIFD=function(e,n,r,a,o,s){var l=e.readUshort(n,r);r+=2;var u={};s.debug&&i("   ".repeat(o),a.length-1,">>>----------------");for(var c=0;c<l;c++){var d=e.readUshort(n,r);r+=2;var h=e.readUshort(n,r);r+=2;var f=e.readUint(n,r);r+=4;var p=e.readUint(n,r);r+=4;var m=[];if(1==h||7==h){var b=f<5?r-4:p;b+f>n.buffer.byteLength&&(f=n.buffer.byteLength-b),m=new Uint8Array(n.buffer,b,f)}if(2==h){var g=f<5?r-4:p,y=n[g],Z=Math.max(0,Math.min(f-1,n.length-g));y<128||0==Z?m.push(e.readASCII(n,g,Z)):m=new Uint8Array(n.buffer,g,Z)}if(3==h)for(var _=0;_<f;_++)m.push(e.readUshort(n,(f<3?r-4:p)+2*_));if(4==h||13==h)for(_=0;_<f;_++)m.push(e.readUint(n,(f<2?r-4:p)+4*_));if(5==h||10==h){var v=5==h?e.readUint:e.readInt;for(_=0;_<f;_++)m.push([v(n,p+8*_),v(n,p+8*_+4)])}if(8==h)for(_=0;_<f;_++)m.push(e.readShort(n,(f<3?r-4:p)+2*_));if(9==h)for(_=0;_<f;_++)m.push(e.readInt(n,(f<2?r-4:p)+4*_));if(11==h)for(_=0;_<f;_++)m.push(e.readFloat(n,p+4*_));if(12==h)for(_=0;_<f;_++)m.push(e.readDouble(n,p+8*_));if(0==f||0!=m.length){if(s.debug&&i("   ".repeat(o),d,h,t.tags[d],m),u["t"+d]=m,330==d&&u.t272&&"DSLR-A100"==u.t272[0]);else if(330==d||34665==d||34853==d||50740==d&&e.readUshort(n,e.readUint(m,0))<300||61440==d){var w=50740==d?[e.readUint(m,0)]:m,S=[];for(_=0;_<w.length;_++)t._readIFD(e,n,w[_],S,o+1,s);330==d&&(u.subIFD=S),34665==d&&(u.exifIFD=S[0]),34853==d&&(u.gpsiIFD=S[0]),50740==d&&(u.dngPrvt=S[0]),61440==d&&(u.fujiIFD=S[0])}if(37500==d&&s.parseMN){var x=m;if("Nikon"==e.readASCII(x,0,5))u.makerNote=t.decode(x.slice(10).buffer)[0];else if("OLYMP"==e.readASCII(x,0,5)||"OM SYSTEM"==e.readASCII(x,0,9)){var I=[8208,8224,8240,8256,8272],W=[];t._readIFD(e,x,77==x[1]?16:85==x[5]?12:8,W,o+1,s);var V=u.makerNote=W.pop();for(_=0;_<I.length;_++){var X="t"+I[_];null!=V[X]&&(t._readIFD(e,x,V[X][0],W,o+1,s),V[X]=W.pop())}V.t12288&&(t._readIFD(e,V.t12288,0,W,o+1,s),V.t12288=W.pop())}else e.readUshort(n,p)<300&&e.readUshort(n,p+4)<=12&&(W=[],t._readIFD(e,n,p,W,o+1,s),u.makerNote=W[0])}}else if(i(d,"unknown TIFF tag type: ",h,"num:",f),0==c)return}return a.push(u),s.debug&&i("   ".repeat(o),"<<<---------------"),r},t._writeIFD=function(e,i,n,r,a){var o=Object.keys(a),s=o.length;a.exifIFD&&s--,a.gpsiIFD&&s--,e.writeUshort(n,r,s);for(var l=(r+=2)+12*s+4,u=0;u<o.length;u++){var c=o[u];if("t34665"!=c&&"t34853"!=c){"exifIFD"==c&&(c="t34665"),"gpsiIFD"==c&&(c="t34853");var d=parseInt(c.slice(1)),h=i.main[d];if(null==h&&(h=i.rest[d]),null==h||0==h)throw new Error("unknown type of tag: "+d);var f=a[c];34665==d&&(f=[l],l=t._writeIFD(e,i,n,l,a.exifIFD)[1]),34853==d&&(f=[l],l=t._writeIFD(e,t._types.gps,n,l,a.gpsiIFD)[1]),2==h&&(f=f[0]+"\0");var p=f.length;e.writeUshort(n,r,d),r+=2,e.writeUshort(n,r,h),r+=2,e.writeUint(n,r,p);var m=[-1,1,1,2,4,8,0,1,0,4,8,0,8][h]*p,b=r+=4;if(m>4&&(e.writeUint(n,r,l),b=l),1==h||7==h)for(var g=0;g<p;g++)n[b+g]=f[g];else if(2==h)e.writeASCII(n,b,f);else if(3==h)for(g=0;g<p;g++)e.writeUshort(n,b+2*g,f[g]);else if(4==h)for(g=0;g<p;g++)e.writeUint(n,b+4*g,f[g]);else if(5==h||10==h){var y=5==h?e.writeUint:e.writeInt;for(g=0;g<p;g++){var Z=f[g],_=Z[0],v=Z[1];if(null==_)throw"e";y(n,b+8*g,_),y(n,b+8*g+4,v)}}else if(9==h)for(g=0;g<p;g++)e.writeInt(n,b+4*g,f[g]);else{if(12!=h)throw h;for(g=0;g<p;g++)e.writeDouble(n,b+8*g,f[g])}m>4&&(l+=m+=1&m),r+=4}}return[r,l]},t.toRGBA8=function(t,e){function n(t){return t<.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}var r=t.width,a=t.height,o=r*a,s=t.data,l=new Uint8Array(4*o),u=t.t262?t.t262[0]:2,c=t.t258?Math.min(32,t.t258[0]):1;null==t.t262&&1==c&&(u=0);var d=t.t277?t.t277[0]:t.t258?t.t258.length:[1,1,3,1,1,4,3][u],h=t.t339?t.t339[0]:null;if(1==u&&32==c&&3!=h)throw"e";var f=Math.ceil(d*c*r/8);if(0==u){e=1/256;for(var p=0;p<a;p++){var m=p*f,b=p*r;if(1==c)for(var g=0;g<r;g++){var y=b+g<<2,Z=s[m+(g>>3)]>>7-(7&g)&1;l[y]=l[y+1]=l[y+2]=255*(1-Z),l[y+3]=255}if(4==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[m+(g>>1)]>>4-4*(1&g)&15,l[y]=l[y+1]=l[y+2]=17*(15-Z),l[y+3]=255;if(8==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[m+g],l[y]=l[y+1]=l[y+2]=255-Z,l[y+3]=255;if(16==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[(v=m+2*g)+1]<<8|s[v],l[y]=l[y+1]=l[y+2]=Math.min(255,255-~~(Z*e)),l[y+3]=255}}else if(1==u){null==e&&(e=1/256);var _=3&s.length?null:new Float32Array(s.buffer);for(p=0;p<a;p++){if(m=p*f,b=p*r,1==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[m+(g>>3)]>>7-(7&g)&1,l[y]=l[y+1]=l[y+2]=255*Z,l[y+3]=255;if(2==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[m+(g>>2)]>>6-2*(3&g)&3,l[y]=l[y+1]=l[y+2]=85*Z,l[y+3]=255;if(8==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[m+g*d],l[y]=l[y+1]=l[y+2]=Z,l[y+3]=255;if(16==c)for(g=0;g<r;g++)y=b+g<<2,Z=s[(v=m+2*g)+1]<<8|s[v],l[y]=l[y+1]=l[y+2]=Math.min(255,~~(Z*e)),l[y+3]=255;if(32==c)for(g=0;g<r;g++){var v;y=b+g<<2,Z=_[v=(m>>>2)+g],l[y]=l[y+1]=l[y+2]=~~(.5+255*Z),l[y+3]=255}}}else if(2==u)if(8==c){if(1==d)for(g=0;g<o;g++)l[4*g]=l[4*g+1]=l[4*g+2]=s[g],l[4*g+3]=255;if(3==d)for(g=0;g<o;g++){var w=3*g;l[y=g<<2]=s[w],l[y+1]=s[w+1],l[y+2]=s[w+2],l[y+3]=255}if(d>=4)for(g=0;g<o;g++)w=g*d,l[y=g<<2]=s[w],l[y+1]=s[w+1],l[y+2]=s[w+2],l[y+3]=s[w+3]}else if(16==c){if(4==d)for(g=0;g<o;g++)w=8*g+1,l[y=g<<2]=s[w],l[y+1]=s[w+2],l[y+2]=s[w+4],l[y+3]=s[w+6];if(3==d)for(g=0;g<o;g++)w=6*g+1,l[y=g<<2]=s[w],l[y+1]=s[w+2],l[y+2]=s[w+4],l[y+3]=255}else{if(32!=c)throw c;var S=new Float32Array(s.buffer),x=0;for(g=0;g<S.length;g++)x=Math.min(x,S[g]);if(x<0)for(g=0;g<s.length;g+=4){var I=s[g];s[g]=s[g+3],s[g+3]=I,I=s[g+1],s[g+1]=s[g+2],s[g+2]=I}var W=[];for(g=0;g<65536;g++)W.push(n(g/65535));for(g=0;g<S.length;g++){var V=Math.max(0,Math.min(1,S[g]));S[g]=W[~~(.5+65535*V)]}if(3==d)for(g=0;g<o;g++)w=3*g,l[y=g<<2]=~~(.5+255*S[w]),l[y+1]=~~(.5+255*S[w+1]),l[y+2]=~~(.5+255*S[w+2]),l[y+3]=255;else{if(4!=d)throw d;for(g=0;g<o;g++)w=4*g,l[y=g<<2]=~~(.5+255*S[w]),l[y+1]=~~(.5+255*S[w+1]),l[y+2]=~~(.5+255*S[w+2]),l[y+3]=~~(.5+255*S[w+3])}}else if(3==u){var X=t.t320,k=1<<c,G=8==c&&d>1&&t.t338&&0!=t.t338[0];for(p=0;p<a;p++)for(var R=0;R<r;R++){y=(g=p*r+R)<<2;var T=0,E=p*f;if(1==c)T=s[E+(R>>>3)]>>>7-(7&R)&1;else if(2==c)T=s[E+(R>>>2)]>>>6-2*(3&R)&3;else if(4==c)T=s[E+(R>>>1)]>>>4-4*(1&R)&15;else{if(8!=c)throw c;T=s[E+R*d]}l[y]=X[T]>>8,l[y+1]=X[k+T]>>8,l[y+2]=X[k+k+T]>>8,l[y+3]=G?s[E+R*d+1]:255}}else if(5==u){var C=d>4?1:0;for(g=0;g<o;g++){y=g<<2;var M=g*d;if(window.UDOC){var L=s[M],K=s[M+1],P=s[M+2],Y=s[M+3],N=UDOC.C.cmykToRgb([L*(1/255),K*(1/255),P*(1/255),Y*(1/255)]);l[y]=~~(.5+255*N[0]),l[y+1]=~~(.5+255*N[1]),l[y+2]=~~(.5+255*N[2])}else L=255-s[M],K=255-s[M+1],P=255-s[M+2],Y=(255-s[M+3])*(1/255),l[y]=~~(L*Y+.5),l[y+1]=~~(K*Y+.5),l[y+2]=~~(P*Y+.5);l[y+3]=255*(1-C)+s[M+4]*C}}else if(6==u&&t.t278){var F=t.t278[0];for(p=0;p<a;p+=F){g=p*r;for(var B=F*r,U=0;U<B;U++){y=4*(g+U),P=s[(M=3*g+4*(U>>>1))+(1&U)];var z=s[M+2]-128,J=s[M+3]-128,H=P+((J>>2)+(J>>3)+(J>>5)),A=P-((z>>2)+(z>>4)+(z>>5))-((J>>1)+(J>>3)+(J>>4)+(J>>5)),j=P+(z+(z>>1)+(z>>2)+(z>>6));l[y]=Math.max(0,Math.min(255,H)),l[y+1]=Math.max(0,Math.min(255,A)),l[y+2]=Math.max(0,Math.min(255,j)),l[y+3]=255}}}else if(32845==u)for(p=0;p<a;p++)for(R=0;R<r;R++){y=4*(p*r+R);var O=s[1+(M=6*(p*r+R))]<<8|s[M],D=(O=Math.pow(2,(O+.5)/256-64),(s[M+3]+.5)/410),Q=(s[M+5]+.5)/410,$=9*D/(6*D-16*Q+12),q=4*Q/(6*D-16*Q+12),tt=$*O/q,et=(1-$-q)*O/q;H=2.69*tt-1.276*(P=O)-.414*et,A=-1.022*tt+1.978*P+.044*et,j=.061*tt-.224*P+1.163*et,l[y]=255*n(Math.min(H,1)),l[y+1]=255*n(Math.min(A,1)),l[y+2]=255*n(Math.min(j,1)),l[y+3]=255}else i("Unknown Photometric interpretation: "+u);return l},t.replaceIMG=function(e){null==e&&(e=document.getElementsByTagName("img"));for(var i=["tif","tiff","dng","cr2","nef"],n=0;n<e.length;n++){var r=e[n],a=r.getAttribute("src");if(null!=a){var o=a.split(".").pop().toLowerCase();if(-1!=i.indexOf(o)){var s=new XMLHttpRequest;t._xhrs.push(s),t._imgs.push(r),s.open("GET",a),s.responseType="arraybuffer",s.onload=t._imgLoaded,s.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var i=t._xhrs.indexOf(e.target),n=t._imgs[i];t._xhrs.splice(i,1),t._imgs.splice(i,1),n.setAttribute("src",t.bufferToURI(e.target.response))},t.bufferToURI=function(e){var i=t.decode(e),n=i,r=0,a=n[0];i[0].subIFD&&(n=n.concat(i[0].subIFD));for(var o=0;o<n.length;o++){var s=n[o];if(!(null==s.t258||s.t258.length<3)){var l=s.t256*s.t257;l>r&&(r=l,a=s)}}t.decodeImage(e,a,i);var u=t.toRGBA8(a),c=a.width,d=a.height,h=document.createElement("canvas");h.width=c,h.height=d;var f=h.getContext("2d"),p=new ImageData(new Uint8ClampedArray(u.buffer),c,d);return f.putImageData(p,0,0),h.toDataURL()},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+1],n[1]=e[i+0],t._binBE.i16[0]},readInt:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+3],n[1]=e[i+2],n[2]=e[i+1],n[3]=e[i+0],t._binBE.i32[0]},readUint:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+3],n[1]=e[i+2],n[2]=e[i+1],n[3]=e[i+0],t._binBE.ui32[0]},readASCII:function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n},readFloat:function(e,i){for(var n=t._binBE.ui8,r=0;r<4;r++)n[r]=e[i+3-r];return t._binBE.fl32[0]},readDouble:function(e,i){for(var n=t._binBE.ui8,r=0;r<8;r++)n[r]=e[i+7-r];return t._binBE.fl64[0]},writeUshort:function(t,e,i){t[e]=i>>8&255,t[e+1]=255&i},writeInt:function(e,i,n){var r=t._binBE.ui8;t._binBE.i32[0]=n,e[i+3]=r[0],e[i+2]=r[1],e[i+1]=r[2],e[i+0]=r[3]},writeUint:function(t,e,i){t[e]=i>>24&255,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},writeASCII:function(t,e,i){for(var n=0;n<i.length;n++)t[e+n]=i.charCodeAt(n)},writeDouble:function(e,i,n){t._binBE.fl64[0]=n;for(var r=0;r<8;r++)e[i+r]=t._binBE.ui8[7-r]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+0],n[1]=e[i+1],t._binBE.i16[0]},readInt:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+0],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t._binBE.i32[0]},readUint:function(e,i){var n=t._binBE.ui8;return n[0]=e[i+0],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,i){for(var n=t._binBE.ui8,r=0;r<4;r++)n[r]=e[i+r];return t._binBE.fl32[0]},readDouble:function(e,i){for(var n=t._binBE.ui8,r=0;r<8;r++)n[r]=e[i+r];return t._binBE.fl64[0]},writeUshort:function(t,e,i){t[e]=255&i,t[e+1]=i>>8&255},writeInt:function(e,i,n){var r=t._binBE.ui8;t._binBE.i32[0]=n,e[i+0]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3]},writeUint:function(t,e,i){t[e]=i>>>0&255,t[e+1]=i>>>8&255,t[e+2]=i>>>16&255,t[e+3]=i>>>24&255},writeASCII:t._binBE.writeASCII},t._copyTile=function(t,e,i,n,r,a,o,s){for(var l=Math.min(e,r-o),u=Math.min(i,a-s),c=0;c<u;c++)for(var d=(s+c)*r+o,h=c*e,f=0;f<l;f++)n[d+f]=t[h+f]},t.LosslessJpegDecode=function(){var t,e;function i(){return t[e++]}function n(){return t[e++]<<8|t[e++]}function r(t){for(var e=i(),n=[0,0,0,255],r=[],o=0;o<16;o++)r[o]=i();for(o=0;o<16;o++)for(var s=0;s<r[o];s++)n[a(n,0,o+1,1)+3]=i();var l=new Uint8Array(256);for(t[e]=[new Uint8Array(n),l],o=0;o<256;o++){for(var u=8,c=o,d=0;255==n[d+3]&&0!=u;)d=n[d+(c>>--u&1)];l[o]=d}}function a(t,e,i,n){if(255!=t[e+3])return 0;if(0==i)return e;for(var r=0;r<2;r++){0==t[e+r]&&(t[e+r]=t.length,t.push(0,0,n,255));var o=a(t,t[e+r],i-1,n+1);if(0!=o)return o}return 0}function o(t){for(var e=t.b,i=t.f;e<25&&t.a<t.d;){var n=t.data[t.a++];255!=n||t.c||t.a++,i=i<<8|n,e+=8}if(e<0)throw"e";t.b=e,t.f=i}function s(t,e){return e.b<t&&o(e),e.f>>(e.b-=t)&65535>>16-t}function l(t,e){var i=t[0],n=0,r=255;e.b<16&&o(e);var a=e.f>>e.b-8&255;for(r=i[(n=t[1][a])+3],e.b-=i[n+2];255==r;)r=i[(n=i[n+(e.f>>--e.b&1)])+3];return r}function u(t,e){return t<32768>>16-e&&(t+=1-(1<<e)),t}function c(t,e){var i=l(t,e);return 0==i?0:16==i?-32768:u(s(i,e),i)}function d(t,e,i,n,r,a){for(var o=0,s=0;s<a;s++){for(var l=s*e,u=0;u<e;u+=r){o++;for(var d=0;d<r;d++)t[l+u+d]=c(n[d],i)}if(0!=i.e&&o%i.e==0&&0!=s){for(var h=i.a,f=i.data;255!=f[h]||!(208<=f[h+1]&&f[h+1]<=215);)h--;i.a=h+2,i.f=0,i.b=0}}}function h(t,e){return u(s(t,e),t)}function f(t,e,i,n,r,a,o,s){for(var l=i*o,u=r;u<a;u++)t[u]+=1<<s-1;for(var c=o;c<l;c+=o)for(u=r;u<a;u++)t[c+u]+=t[c+u-o];for(var d=1;d<n;d++){var h=d*l;for(u=r;u<a;u++)t[h+u]+=t[h+u-l];for(c=o;c<l;c+=o)for(u=r;u<a;u++){var f=h+c+u,p=f-l,m=t[f-o],b=0;if(0==e)b=0;else if(1==e)b=m;else if(2==e)b=t[p];else if(3==e)b=t[p-o];else if(4==e)b=m+(t[p]-t[p-o]);else if(5==e)b=m+(t[p]-t[p-o]>>>1);else if(6==e)b=t[p]+(m-t[p-o]>>>1);else{if(7!=e)throw e;b=m+t[p]>>>1}t[f]+=b}}}return function(a){if(t=a,e=0,65496!=n())throw"e";for(var o=[],s=0,u=0,c=0,p=[],m=[],b=[],g=0,y=0,Z=0;;){var _=n();if(65535!=_){var v=n();if(65475==_){u=i(),y=n(),Z=n(),g=i();for(var w=0;w<g;w++){var S=i(),x=i();if(0!=i())throw"e";o[S]=[w,x>>4,15&x]}}else if(65476==_)for(var I=e+v-2;e<I;)r(m);else{if(65498==_){for(e++,w=0;w<g;w++){var W=o[i()];b[W[0]]=m[i()>>>4],p[W[0]]=W.slice(1)}s=i(),e+=2;break}65501==_?c=n():e+=v-2}}else e--}var V=new(u>8?Uint16Array:Uint8Array)(y*Z*g),X={b:0,f:0,c:8==s,a:e,data:t,d:t.length,e:c};if(X.c)!function(i,n,r,a,o){for(var s=t.length-e,u=0;u<s;u+=4){var c=t[e+u];t[e+u]=t[e+u+3],t[e+u+3]=c,c=t[e+u+1],t[e+u+1]=t[e+u+2],t[e+u+2]=c}for(var d=0;d<o;d++)for(var f=32768,p=32768,m=0;m<n;m+=2){var b=l(a,r),g=l(a,r);0!=b&&(f+=h(b,r)),0!=g&&(p+=h(g,r)),i[d*n+m]=65535&f,i[d*n+m+1]=65535&p}}(V,Z*g,X,b[0],y);else{var k=[],G=0,R=0;for(w=0;w<g;w++){var T=p[w];(B=T[0])>G&&(G=B),(F=T[1])>R&&(R=F),k.push(B*F)}if(1!=G||1!=R){if(3!=g||1!=k[1]||1!=k[2])throw"e";if(2!=G||1!=R&&2!=R)throw"e";var E=[],C=0;for(w=0;w<g;w++){for(var M=0;M<k[w];M++)E.push(b[w]);C+=k[w]}var L=Z/G,K=y/R,P=L*K;d(V,L*C,X,E,C,K),f(V,s,L,K,C-2,C,C,u);var Y=new Uint16Array(P*k[0]);if(2==G&&2==R){for(w=0;w<P;w++)Y[4*w]=V[6*w],Y[4*w+1]=V[6*w+1],Y[4*w+2]=V[6*w+2],Y[4*w+3]=V[6*w+3];for(f(Y,s,4*L,K,0,1,1,u),w=0;w<P;w++)V[6*w]=Y[4*w],V[6*w+1]=Y[4*w+1],V[6*w+2]=Y[4*w+2],V[6*w+3]=Y[4*w+3]}if(2==G&&1==R){for(w=0;w<P;w++)Y[2*w]=V[4*w],Y[2*w+1]=V[4*w+1];for(f(Y,s,2*L,K,0,1,1,u),w=0;w<P;w++)V[4*w]=Y[2*w],V[4*w+1]=Y[2*w+1]}for(var N=V.slice(0),F=0;F<y;F++)if(2==R)for(var B=0;B<Z;B++){var U=((F>>>1)*L+(B>>>1))*C,z=2*(1&F)+(1&B);V[J=(F*Z+B)*g]=N[U+z],V[J+1]=N[U+4],V[J+2]=N[U+5]}else for(B=0;B<Z;B++){var J;U=(F*L+(B>>>1))*C,z=1&B,V[J=(F*Z+B)*g]=N[U+z],V[J+1]=N[U+2],V[J+2]=N[U+3]}}else if(d(V,Z*g,X,b,g,y),0==c)f(V,s,Z,y,0,g,g,u);else{var H=Math.floor(c/Z);for(F=0;F<y;F+=H){var A=V.slice(F*Z*g,(F+H)*Z*g);f(A,s,Z,H,0,g,g,u),V.set(A,F*Z*g)}}}return V}}(),function(){var e=2,i=4,n=5,r=6,a=7,o=12,s=13,l=14,u=15,c=17;function d(t){var e={c:new Int8Array(2<<t.u)};return function(t,e,i){var n=[e,3*e+18,5*e+67,7*e+276,i];t.o=e,t.w=(n[4]+2*e)/(2*e+1)+1|0,t.v=Math.ceil(Math.log2(t.w)),t.t=9,function(t,e){for(var i=-e[4],n=0;i<=e[4];n++,i++)t[n]=i<=-e[3]?-4:i<=-e[2]?-3:i<=-e[1]?-2:i<-e[0]?-1:i<=e[0]?0:i<e[1]?1:i<e[2]?2:i<e[3]?3:4}(t.c,n)}(e,0,t.g),e}function h(t){for(var e=[[],[],[]],i=Math.max(2,t.w+32>>>6),n=0;n<3;n++)for(var r=0;r<41;r++)e[n][r]=[i,1];return e}function f(t,e){var i=0,n=8-t.a;if(t.j,t.a,e){if(e>=n)do{i<<=n,e-=n,i|=t[t.j]&(1<<n)-1,t.j++,n=8}while(e>=8);e&&(i<<=e,n-=e,i|=t[t.j]>>>n&(1<<e)-1),t.a=8-n}return i}function p(t,e,i,n,r,a,o,s){null==s&&(s=0);var l,u,c,d,h,p,m=a+1,b=m%2,g=0,y=n[r],Z=n[r-1],_=n[r-2][m],v=Z[m-1],w=Z[m],S=Z[m+1],x=y[m-1],I=y[m+1],W=Math.abs;if(b&&(c=W(S-w),d=W(_-w),h=W(v-w)),b){if(p=(p=c>h&&d<c?_+v:c<h&&d<h?_+S:S+v)+2*w>>>2,s)return void(y[m]=p);l=e.t*e.c[t.g+w-_]+e.c[t.g+v-w]}else p=w>v&&w>S||w<v&&w<S?I+x+2*w>>>2:x+I>>>1,l=e.t*e.c[t.g+w-v]+e.c[t.g+v-x];u=W(l);var V=function(t){for(var e=-1,i=0;!i;e++)i=t[t.j]>>>7-t.a&1,t.a++,t.a&=7,t.a||t.j++;return e}(i);if(V<t.n-e.v-1){var X=function(t,e){var i=0;if(e<t)for(;i<=14&&e<<++i<t;);return i}(o[u][0],o[u][1]);g=f(i,X)+(V<<X)}else g=f(i,e.v)+1;g=1&g?-1-(g>>>1):g>>>1,o[u][0]+=W(g),o[u][1]==t.f&&(o[u][0]>>>=1,o[u][1]>>>=1),o[u][1]++,p=l<0?p-g:p+g,t.i&&(p<0?p+=e.w:p>t.g&&(p-=e.w)),y[m]=p>=0?Math.min(p,t.g):0}function m(t,e,i){for(var n=t[0].length,r=e;r<=i;r++)t[r][0]=t[r-1][1],t[r][n-1]=t[r-1][n-2]}function b(t){m(t,a,o),m(t,e,i),m(t,u,c)}function g(t,e,n,r,a,o,l,u,c,d,h,f,m){for(var g=0,y=1,Z=a<s&&a>i;y<t.m;)g<t.m&&(p(t,e,n,r,a,g,l[c],t.h&&(Z&&d||!Z&&(h||(g&f)==m))),p(t,e,n,r,o,g,l[c],t.h&&(!Z&&d||Z&&(h||(g&f)==m))),g+=2),g>8&&(p(t,e,n,r,a,y,u[c]),p(t,e,n,r,o,y,u[c]),y+=2);b(r)}function y(t,n,r,s,l,d){g(t,n,r,s,e,a,l,d,0,0,1,0,8),g(t,n,r,s,8,u,l,d,1,0,1,0,8),g(t,n,r,s,3,9,l,d,2,1,0,3,0),g(t,n,r,s,10,16,l,d,0,0,0,3,2),g(t,n,r,s,i,11,l,d,1,0,0,3,2),g(t,n,r,s,o,c,l,d,2,1,0,3,0)}function Z(t,i,n,r,o,s){var l=s.length,c=t.l;o+1==t.s&&(c=t.e-o*t.l);for(var d=6*t.e*r+o*t.l,h=0;h<6;h++){for(var f=0;f<c;f++){var p,m=s[h%l][f%l];p=0==m?e+(h>>>1):2==m?u+(h>>>1):a+h;var b=t.h?(2*f/3&2147483646|f%3&1)+(f%3>>>1):f>>>1;i[d+f]=n[p][b+1]}d+=t.e}}t._decompressRAF=function(a,u){var f=function(e){var i=t._binBE.readUshort,n={b:i(e,0),i:e[2],C:e[3],u:e[4],q:i(e,5),k:i(e,7),e:i(e,9),l:i(e,11),s:e[13],d:i(e,14)};if(18771!=n.b||n.i>1||n.q<6||n.q%6||n.e<768||n.e%24||768!=n.l||n.k<n.l||n.k%n.l||n.k-n.e>=n.l||n.s>16||n.s!=n.k/n.l||n.s!=Math.ceil(n.e/n.l)||n.d!=n.q/6||12!=n.u&&14!=n.u&&16!=n.u||16!=n.C&&0!=n.C)throw"Invalid data";if(0==n.i)throw"Not implemented. We need this file!";return n.h=16==n.C,n.m=0|(n.h?2*n.l/3:n.l>>>1),n.A=n.m+2,n.f=64,n.g=(1<<n.u)-1,n.n=4*n.u,n}(a),p=function(e,i){var n=new Array(i.s),r=4*i.s,a=16+r;12&r&&(a+=16-(12&r));for(var o=0,s=16;o<i.s;s+=4){var l=t._binBE.readUint(e,s);n[o]=e.slice(a,a+l),n[o].j=0,n[o].a=0,a+=l,o++}if(a!=e.length)throw"Invalid data";return n}(a,f),m=d(f),g=new Int16Array(f.e*f.q);null==u&&(u=f.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var _=[[0,3],[1,i],[n,11],[r,o],[s,16],[l,c]],v=[],w=0;w<18;w++)v[w]=new Uint16Array(f.A);for(var S=0;S<f.s;S++){var x=h(m),I=h(m);for(w=0;w<18;w++)for(var W=0;W<f.A;W++)v[w][W]=0;for(var V=0;V<f.d;V++){for(y(f,m,p[S],v,x,I),w=0;w<6;w++)for(W=0;W<f.A;W++)v[_[w][0]][W]=v[_[w][1]][W];for(Z(f,g,v,V,S,u),w=e;w<18;w++)if(-1==[n,r,s,l].indexOf(w))for(W=0;W<f.A;W++)v[w][W]=0;b(v)}}return g}}()}(e,"function"==typeof commonjsRequire?requirePako():self.pako)}()}(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(t){return"number"==typeof t?t:t instanceof Uint8Array?t[0]:"string"==typeof t[0]?parseInt(t[0]):t[0]}function tiff(){return{mime:"image/tiff",encode:t=>{const e=utif.encodeImage(t.data,t.width,t.height);return Buffer.from(e)},decode:t=>{const e=utif.decode(t),i=e[0];if(!i)throw new Error("No page found in TIFF");if(!i.t256)throw new Error("No image width found in TIFF");if(!i.t257)throw new Error("No image height found in TIFF");e.forEach((e=>{utif.decodeImage(t,e)}));const n=utif.toRGBA8(i);return{data:Buffer.from(n),width:getDimensionValue(i.t256),height:getDimensionValue(i.t257)}}}}!function(t){t.assertEqual=t=>t,t.assertIs=function(t){},t.assertNever=function(t){throw new Error},t.arrayToEnum=t=>{const e={};for(const i of t)e[i]=i;return e},t.getValidEnumValues=e=>{const i=t.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),n={};for(const t of i)n[t]=e[t];return t.objectValues(n)},t.objectValues=e=>t.objectKeys(e).map((function(t){return e[t]})),t.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{const e=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e},t.find=(t,e)=>{for(const i of t)if(e(i))return i},t.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,t.joinValues=function(t,e=" | "){return t.map((t=>"string"==typeof t?`'${t}'`:t)).join(e)},t.jsonStringifyReplacer=(t,e)=>"bigint"==typeof e?e.toString():e}(util$1||(util$1={})),function(t){t.mergeShapes=(t,e)=>({...t,...e})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=t=>{switch(typeof t){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(t)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(t)?ZodParsedType.array:null===t?ZodParsedType.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?ZodParsedType.promise:"undefined"!=typeof Map&&t instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&t instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&t instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const e=t||function(t){return t.message},i={_errors:[]},n=t=>{for(const r of t.issues)if("invalid_union"===r.code)r.unionErrors.map(n);else if("invalid_return_type"===r.code)n(r.returnTypeError);else if("invalid_arguments"===r.code)n(r.argumentsError);else if(0===r.path.length)i._errors.push(e(r));else{let t=i,n=0;for(;n<r.path.length;){const i=r.path[n];n===r.path.length-1?(t[i]=t[i]||{_errors:[]},t[i]._errors.push(e(r))):t[i]=t[i]||{_errors:[]},t=t[i],n++}}};return n(this),i}static assert(t){if(!(t instanceof ZodError))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){const e={},i=[];for(const n of this.issues)n.path.length>0?(e[n.path[0]]=e[n.path[0]]||[],e[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}ZodError.create=t=>new ZodError(t);const errorMap=(t,e)=>{let i;switch(t.code){case ZodIssueCode.invalid_type:i=t.received===ZodParsedType.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case ZodIssueCode.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:i=`Unrecognized key(s) in object: ${util$1.joinValues(t.keys,", ")}`;break;case ZodIssueCode.invalid_union:i="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${util$1.joinValues(t.options)}`;break;case ZodIssueCode.invalid_enum_value:i=`Invalid enum value. Expected ${util$1.joinValues(t.options)}, received '${t.received}'`;break;case ZodIssueCode.invalid_arguments:i="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:i="Invalid function return type";break;case ZodIssueCode.invalid_date:i="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:util$1.assertNever(t.validation):i="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case ZodIssueCode.too_small:i="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:i="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:i="Invalid input";break;case ZodIssueCode.invalid_intersection_types:i="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case ZodIssueCode.not_finite:i="Number must be finite";break;default:i=e.defaultError,util$1.assertNever(t)}return{message:i}};let overrideErrorMap=errorMap;function setErrorMap(t){overrideErrorMap=t}function getErrorMap(){return overrideErrorMap}const makeIssue=t=>{const{data:e,path:i,errorMaps:n,issueData:r}=t,a=[...i,...r.path||[]],o={...r,path:a};if(void 0!==r.message)return{...r,path:a,message:r.message};let s="";const l=n.filter((t=>!!t)).slice().reverse();for(const u of l)s=u(o,{data:e,defaultError:s}).message;return{...r,path:a,message:s}},EMPTY_PATH=[];function addIssueToContext(t,e){const i=getErrorMap(),n=makeIssue({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===errorMap?void 0:errorMap].filter((t=>!!t))});t.common.issues.push(n)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,e){const i=[];for(const n of e){if("aborted"===n.status)return INVALID;"dirty"===n.status&&t.dirty(),i.push(n.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const n of e){const t=await n.key,e=await n.value;i.push({key:t,value:e})}return ParseStatus.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const n of e){const{key:e,value:r}=n;if("aborted"===e.status)return INVALID;if("aborted"===r.status)return INVALID;"dirty"===e.status&&t.dirty(),"dirty"===r.status&&t.dirty(),"__proto__"===e.value||void 0===r.value&&!n.alwaysSet||(i[e.value]=r.value)}return{status:t.value,value:i}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=t=>({status:"dirty",value:t}),OK=t=>({status:"valid",value:t}),isAborted=t=>"aborted"===t.status,isDirty=t=>"dirty"===t.status,isValid=t=>"valid"===t.status,isAsync=t=>"undefined"!=typeof Promise&&t instanceof Promise;function __classPrivateFieldGet(t,e,i,n){if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function __classPrivateFieldSet(t,e,i,n,r){if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,i),i}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;"function"==typeof SuppressedError&&SuppressedError,function(t){t.errToObj=t=>"string"==typeof t?{message:t}:t||{},t.toString=t=>"string"==typeof t?t:null==t?void 0:t.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(t,e,i,n){this._cachedPath=[],this.parent=t,this.data=e,this._path=i,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(t,e)=>{if(isValid(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new ZodError(t.common.issues);return this._error=e,this._error}}};function processCreateParams(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:n,description:r}=t;if(e&&(i||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:r}:{errorMap:(e,r)=>{var a,o;const{message:s}=t;return"invalid_enum_value"===e.code?{message:null!=s?s:r.defaultError}:void 0===r.data?{message:null!==(a=null!=s?s:n)&&void 0!==a?a:r.defaultError}:"invalid_type"!==e.code?{message:r.defaultError}:{message:null!==(o=null!=s?s:i)&&void 0!==o?o:r.defaultError}},description:r}}class ZodType{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(isAsync(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const n={common:{issues:[],async:null!==(i=null==e?void 0:e.async)&&void 0!==i&&i,contextualErrorMap:null==e?void 0:e.errorMap},path:(null==e?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},r=this._parseSync({data:t,path:n.path,parent:n});return handleResult(n,r)}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:null==e?void 0:e.errorMap,async:!0},path:(null==e?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},n=this._parse({data:t,path:i.path,parent:i}),r=await(isAsync(n)?n:Promise.resolve(n));return handleResult(i,r)}refine(t,e){const i=t=>"string"==typeof e||void 0===e?{message:e}:"function"==typeof e?e(t):e;return this._refinement(((e,n)=>{const r=t(e),a=()=>n.addIssue({code:ZodIssueCode.custom,...i(e)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((t=>!!t||(a(),!1))):!!r||(a(),!1)}))}refinement(t,e){return this._refinement(((i,n)=>!!t(i)||(n.addIssue("function"==typeof e?e(i,n):e),!1)))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e="function"==typeof t?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:e,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const e="function"==typeof t?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:e,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){return new(0,this.constructor)({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:null==t.precision&&(e=`${e}(\\.\\d+)?`),e}function timeRegex(t){return new RegExp(`^${timeRegexSource(t)}$`)}function datetimeRegex(t){let e=`${dateRegexSource}T${timeRegexSource(t)}`;const i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function isValidIP(t,e){return!("v4"!==e&&e||!ipv4Regex.test(t))||!("v6"!==e&&e||!ipv6Regex.test(t))}class ZodString extends ZodType{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:e.parsedType}),INVALID}const e=new ParseStatus;let i;for(const r of this._def.checks)if("min"===r.kind)t.data.length<r.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),e.dirty());else if("max"===r.kind)t.data.length>r.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),e.dirty());else if("length"===r.kind){const n=t.data.length>r.value,a=t.data.length<r.value;(n||a)&&(i=this._getOrReturnCtx(t,i),n?addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),e.dirty())}else if("email"===r.kind)emailRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"email",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("emoji"===r.kind)emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"emoji",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("uuid"===r.kind)uuidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"uuid",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("nanoid"===r.kind)nanoidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("cuid"===r.kind)cuidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"cuid",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("cuid2"===r.kind)cuid2Regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("ulid"===r.kind)ulidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"ulid",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty());else if("url"===r.kind)try{new URL(t.data)}catch(n){i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"url",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"regex",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty())):"trim"===r.kind?t.data=t.data.trim():"includes"===r.kind?t.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),e.dirty()):"toLowerCase"===r.kind?t.data=t.data.toLowerCase():"toUpperCase"===r.kind?t.data=t.data.toUpperCase():"startsWith"===r.kind?t.data.startsWith(r.value)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{startsWith:r.value},message:r.message}),e.dirty()):"endsWith"===r.kind?t.data.endsWith(r.value)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{endsWith:r.value},message:r.message}),e.dirty()):"datetime"===r.kind?datetimeRegex(r).test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"datetime",message:r.message}),e.dirty()):"date"===r.kind?dateRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"date",message:r.message}),e.dirty()):"time"===r.kind?timeRegex(r).test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"time",message:r.message}),e.dirty()):"duration"===r.kind?durationRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"duration",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty()):"ip"===r.kind?isValidIP(t.data,r.version)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"ip",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty()):"base64"===r.kind?base64Regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"base64",code:ZodIssueCode.invalid_string,message:r.message}),e.dirty()):util$1.assertNever(r);return{status:e.value,value:t.data}}_regex(t,e,i){return this.refinement((e=>t.test(e)),{validation:e,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(i)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}datetime(t){var e,i;return"string"==typeof t?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,offset:null!==(e=null==t?void 0:t.offset)&&void 0!==e&&e,local:null!==(i=null==t?void 0:t.local)&&void 0!==i&&i,...errorUtil.errToObj(null==t?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return"string"==typeof t?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,...errorUtil.errToObj(null==t?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...errorUtil.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:null==e?void 0:e.position,...errorUtil.errToObj(null==e?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(e)})}nonempty(t){return this.min(1,errorUtil.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((t=>"datetime"===t.kind))}get isDate(){return!!this._def.checks.find((t=>"date"===t.kind))}get isTime(){return!!this._def.checks.find((t=>"time"===t.kind))}get isDuration(){return!!this._def.checks.find((t=>"duration"===t.kind))}get isEmail(){return!!this._def.checks.find((t=>"email"===t.kind))}get isURL(){return!!this._def.checks.find((t=>"url"===t.kind))}get isEmoji(){return!!this._def.checks.find((t=>"emoji"===t.kind))}get isUUID(){return!!this._def.checks.find((t=>"uuid"===t.kind))}get isNANOID(){return!!this._def.checks.find((t=>"nanoid"===t.kind))}get isCUID(){return!!this._def.checks.find((t=>"cuid"===t.kind))}get isCUID2(){return!!this._def.checks.find((t=>"cuid2"===t.kind))}get isULID(){return!!this._def.checks.find((t=>"ulid"===t.kind))}get isIP(){return!!this._def.checks.find((t=>"ip"===t.kind))}get isBase64(){return!!this._def.checks.find((t=>"base64"===t.kind))}get minLength(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}}function floatSafeRemainder(t,e){const i=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=i>n?i:n;return parseInt(t.toFixed(r).replace(".",""))%parseInt(e.toFixed(r).replace(".",""))/Math.pow(10,r)}ZodString.create=t=>{var e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:null!==(e=null==t?void 0:t.coerce)&&void 0!==e&&e,...processCreateParams(t)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:e.parsedType}),INVALID}let e;const i=new ParseStatus;for(const n of this._def.checks)"int"===n.kind?util$1.isInteger(t.data)||(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):"min"===n.kind?(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):"max"===n.kind?(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):"multipleOf"===n.kind?0!==floatSafeRemainder(t.data,n.value)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):"finite"===n.kind?Number.isFinite(t.data)||(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.not_finite,message:n.message}),i.dirty()):util$1.assertNever(n);return{status:i.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,errorUtil.toString(e))}gt(t,e){return this.setLimit("min",t,!1,errorUtil.toString(e))}lte(t,e){return this.setLimit("max",t,!0,errorUtil.toString(e))}lt(t,e){return this.setLimit("max",t,!1,errorUtil.toString(e))}setLimit(t,e,i,n){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:errorUtil.toString(n)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find((t=>"int"===t.kind||"multipleOf"===t.kind&&util$1.isInteger(t.value)))}get isFinite(){let t=null,e=null;for(const i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===e||i.value>e)&&(e=i.value):"max"===i.kind&&(null===t||i.value<t)&&(t=i.value)}return Number.isFinite(e)&&Number.isFinite(t)}}ZodNumber.create=t=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ZodParsedType.bigint){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:e.parsedType}),INVALID}let e;const i=new ParseStatus;for(const n of this._def.checks)"min"===n.kind?(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):"max"===n.kind?(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):"multipleOf"===n.kind?t.data%n.value!==BigInt(0)&&(e=this._getOrReturnCtx(t,e),addIssueToContext(e,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):util$1.assertNever(n);return{status:i.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,errorUtil.toString(e))}gt(t,e){return this.setLimit("min",t,!1,errorUtil.toString(e))}lte(t,e){return this.setLimit("max",t,!0,errorUtil.toString(e))}lt(t,e){return this.setLimit("max",t,!1,errorUtil.toString(e))}setLimit(t,e,i,n){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:errorUtil.toString(n)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}}ZodBigInt.create=t=>{var e;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:null!==(e=null==t?void 0:t.coerce)&&void 0!==e&&e,...processCreateParams(t)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==ZodParsedType.boolean){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:e.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=t=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:e.parsedType}),INVALID}if(isNaN(t.data.getTime()))return addIssueToContext(this._getOrReturnCtx(t),{code:ZodIssueCode.invalid_date}),INVALID;const e=new ParseStatus;let i;for(const n of this._def.checks)"min"===n.kind?t.data.getTime()<n.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),e.dirty()):"max"===n.kind?t.data.getTime()>n.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),e.dirty()):util$1.assertNever(n);return{status:e.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return null!=t?new Date(t):null}}ZodDate.create=t=>new ZodDate({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(t)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:e.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=t=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(t)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:e.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=t=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(t)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:e.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=t=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(t)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=t=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(t)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=t=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(t)});class ZodNever extends ZodType{_parse(t){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:e.parsedType}),INVALID}}ZodNever.create=t=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(t)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:e.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=t=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(t)});class ZodArray extends ZodType{_parse(t){const{ctx:e,status:i}=this._processInputParams(t),n=this._def;if(e.parsedType!==ZodParsedType.array)return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:e.parsedType}),INVALID;if(null!==n.exactLength){const t=e.data.length>n.exactLength.value,r=e.data.length<n.exactLength.value;(t||r)&&(addIssueToContext(e,{code:t?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:r?n.exactLength.value:void 0,maximum:t?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(null!==n.minLength&&e.data.length<n.minLength.value&&(addIssueToContext(e,{code:ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),null!==n.maxLength&&e.data.length>n.maxLength.value&&(addIssueToContext(e,{code:ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map(((t,i)=>n.type._parseAsync(new ParseInputLazyPath(e,t,e.path,i))))).then((t=>ParseStatus.mergeArray(i,t)));const r=[...e.data].map(((t,i)=>n.type._parseSync(new ParseInputLazyPath(e,t,e.path,i))));return ParseStatus.mergeArray(i,r)}get element(){return this._def.type}min(t,e){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(e)}})}max(t,e){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(e)}})}length(t,e){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(e)}})}nonempty(t){return this.min(1,t)}}function deepPartialify(t){if(t instanceof ZodObject){const e={};for(const i in t.shape){const n=t.shape[i];e[i]=ZodOptional.create(deepPartialify(n))}return new ZodObject({...t._def,shape:()=>e})}return t instanceof ZodArray?new ZodArray({...t._def,type:deepPartialify(t.element)}):t instanceof ZodOptional?ZodOptional.create(deepPartialify(t.unwrap())):t instanceof ZodNullable?ZodNullable.create(deepPartialify(t.unwrap())):t instanceof ZodTuple?ZodTuple.create(t.items.map((t=>deepPartialify(t)))):t}ZodArray.create=(t,e)=>new ZodArray({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(e)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const t=this._def.shape(),e=util$1.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==ZodParsedType.object){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:e.parsedType}),INVALID}const{status:e,ctx:i}=this._processInputParams(t),{shape:n,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const s in i.data)r.includes(s)||a.push(s);const o=[];for(const s of r){const t=n[s],e=i.data[s];o.push({key:{status:"valid",value:s},value:t._parse(new ParseInputLazyPath(i,e,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof ZodNever){const t=this._def.unknownKeys;if("passthrough"===t)for(const e of a)o.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===t)a.length>0&&(addIssueToContext(i,{code:ZodIssueCode.unrecognized_keys,keys:a}),e.dirty());else if("strip"!==t)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const t=this._def.catchall;for(const e of a){const n=i.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(i,n,i.path,e)),alwaysSet:e in i.data})}}return i.common.async?Promise.resolve().then((async()=>{const t=[];for(const e of o){const i=await e.key,n=await e.value;t.push({key:i,value:n,alwaysSet:e.alwaysSet})}return t})).then((t=>ParseStatus.mergeObjectSync(e,t))):ParseStatus.mergeObjectSync(e,o)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,i)=>{var n,r,a,o;const s=null!==(a=null===(r=(n=this._def).errorMap)||void 0===r?void 0:r.call(n,e,i).message)&&void 0!==a?a:i.defaultError;return"unrecognized_keys"===e.code?{message:null!==(o=errorUtil.errToObj(t).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const e={};return util$1.objectKeys(t).forEach((i=>{t[i]&&this.shape[i]&&(e[i]=this.shape[i])})),new ZodObject({...this._def,shape:()=>e})}omit(t){const e={};return util$1.objectKeys(this.shape).forEach((i=>{t[i]||(e[i]=this.shape[i])})),new ZodObject({...this._def,shape:()=>e})}deepPartial(){return deepPartialify(this)}partial(t){const e={};return util$1.objectKeys(this.shape).forEach((i=>{const n=this.shape[i];t&&!t[i]?e[i]=n:e[i]=n.optional()})),new ZodObject({...this._def,shape:()=>e})}required(t){const e={};return util$1.objectKeys(this.shape).forEach((i=>{if(t&&!t[i])e[i]=this.shape[i];else{let t=this.shape[i];for(;t instanceof ZodOptional;)t=t._def.innerType;e[i]=t}})),new ZodObject({...this._def,shape:()=>e})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)}),ZodObject.strictCreate=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)}),ZodObject.lazycreate=(t,e)=>new ZodObject({shape:t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});class ZodUnion extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t),i=this._def.options;if(e.common.async)return Promise.all(i.map((async t=>{const i={...e,common:{...e.common,issues:[]},parent:null};return{result:await t._parseAsync({data:e.data,path:e.path,parent:i}),ctx:i}}))).then((function(t){for(const e of t)if("valid"===e.result.status)return e.result;for(const n of t)if("dirty"===n.result.status)return e.common.issues.push(...n.ctx.common.issues),n.result;const i=t.map((t=>new ZodError(t.ctx.common.issues)));return addIssueToContext(e,{code:ZodIssueCode.invalid_union,unionErrors:i}),INVALID}));{let t;const n=[];for(const a of i){const i={...e,common:{...e.common,issues:[]},parent:null},r=a._parseSync({data:e.data,path:e.path,parent:i});if("valid"===r.status)return r;"dirty"!==r.status||t||(t={result:r,ctx:i}),i.common.issues.length&&n.push(i.common.issues)}if(t)return e.common.issues.push(...t.ctx.common.issues),t.result;const r=n.map((t=>new ZodError(t)));return addIssueToContext(e,{code:ZodIssueCode.invalid_union,unionErrors:r}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(t,e)=>new ZodUnion({options:t,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(e)});const getDiscriminator=t=>t instanceof ZodLazy?getDiscriminator(t.schema):t instanceof ZodEffects?getDiscriminator(t.innerType()):t instanceof ZodLiteral?[t.value]:t instanceof ZodEnum?t.options:t instanceof ZodNativeEnum?util$1.objectValues(t.enum):t instanceof ZodDefault?getDiscriminator(t._def.innerType):t instanceof ZodUndefined?[void 0]:t instanceof ZodNull?[null]:t instanceof ZodOptional?[void 0,...getDiscriminator(t.unwrap())]:t instanceof ZodNullable?[null,...getDiscriminator(t.unwrap())]:t instanceof ZodBranded||t instanceof ZodReadonly?getDiscriminator(t.unwrap()):t instanceof ZodCatch?getDiscriminator(t._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ZodParsedType.object)return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:e.parsedType}),INVALID;const i=this.discriminator,n=e.data[i],r=this.optionsMap.get(n);return r?e.common.async?r._parseAsync({data:e.data,path:e.path,parent:e}):r._parseSync({data:e.data,path:e.path,parent:e}):(addIssueToContext(e,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){const n=new Map;for(const r of e){const e=getDiscriminator(r.shape[t]);if(!e.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const i of e){if(n.has(i))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(i)}`);n.set(i,r)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:n,...processCreateParams(i)})}}function mergeValues(t,e){const i=getParsedType(t),n=getParsedType(e);if(t===e)return{valid:!0,data:t};if(i===ZodParsedType.object&&n===ZodParsedType.object){const i=util$1.objectKeys(e),n=util$1.objectKeys(t).filter((t=>-1!==i.indexOf(t))),r={...t,...e};for(const a of n){const i=mergeValues(t[a],e[a]);if(!i.valid)return{valid:!1};r[a]=i.data}return{valid:!0,data:r}}if(i===ZodParsedType.array&&n===ZodParsedType.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let n=0;n<t.length;n++){const r=mergeValues(t[n],e[n]);if(!r.valid)return{valid:!1};i.push(r.data)}return{valid:!0,data:i}}return i===ZodParsedType.date&&n===ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t),n=(t,n)=>{if(isAborted(t)||isAborted(n))return INVALID;const r=mergeValues(t.value,n.value);return r.valid?((isDirty(t)||isDirty(n))&&e.dirty(),{status:e.value,value:r.data}):(addIssueToContext(i,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then((([t,e])=>n(t,e))):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ZodIntersection.create=(t,e,i)=>new ZodIntersection({left:t,right:e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(i)});class ZodTuple extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ZodParsedType.array)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:i.parsedType}),INVALID;if(i.data.length<this._def.items.length)return addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&i.data.length>this._def.items.length&&(addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const n=[...i.data].map(((t,e)=>{const n=this._def.items[e]||this._def.rest;return n?n._parse(new ParseInputLazyPath(i,t,i.path,e)):null})).filter((t=>!!t));return i.common.async?Promise.all(n).then((t=>ParseStatus.mergeArray(e,t))):ParseStatus.mergeArray(e,n)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:t,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ZodParsedType.object)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:i.parsedType}),INVALID;const n=[],r=this._def.keyType,a=this._def.valueType;for(const o in i.data)n.push({key:r._parse(new ParseInputLazyPath(i,o,i.path,o)),value:a._parse(new ParseInputLazyPath(i,i.data[o],i.path,o)),alwaysSet:o in i.data});return i.common.async?ParseStatus.mergeObjectAsync(e,n):ParseStatus.mergeObjectSync(e,n)}get element(){return this._def.valueType}static create(t,e,i){return new ZodRecord(e instanceof ZodType?{keyType:t,valueType:e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(i)}:{keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(e)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ZodParsedType.map)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:i.parsedType}),INVALID;const n=this._def.keyType,r=this._def.valueType,a=[...i.data.entries()].map((([t,e],a)=>({key:n._parse(new ParseInputLazyPath(i,t,i.path,[a,"key"])),value:r._parse(new ParseInputLazyPath(i,e,i.path,[a,"value"]))})));if(i.common.async){const t=new Map;return Promise.resolve().then((async()=>{for(const i of a){const n=await i.key,r=await i.value;if("aborted"===n.status||"aborted"===r.status)return INVALID;"dirty"!==n.status&&"dirty"!==r.status||e.dirty(),t.set(n.value,r.value)}return{status:e.value,value:t}}))}{const t=new Map;for(const i of a){const n=i.key,r=i.value;if("aborted"===n.status||"aborted"===r.status)return INVALID;"dirty"!==n.status&&"dirty"!==r.status||e.dirty(),t.set(n.value,r.value)}return{status:e.value,value:t}}}}ZodMap.create=(t,e,i)=>new ZodMap({valueType:e,keyType:t,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(i)});class ZodSet extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ZodParsedType.set)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:i.parsedType}),INVALID;const n=this._def;null!==n.minSize&&i.data.size<n.minSize.value&&(addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),e.dirty()),null!==n.maxSize&&i.data.size>n.maxSize.value&&(addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),e.dirty());const r=this._def.valueType;function a(t){const i=new Set;for(const n of t){if("aborted"===n.status)return INVALID;"dirty"===n.status&&e.dirty(),i.add(n.value)}return{status:e.value,value:i}}const o=[...i.data.values()].map(((t,e)=>r._parse(new ParseInputLazyPath(i,t,i.path,e))));return i.common.async?Promise.all(o).then((t=>a(t))):a(o)}min(t,e){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(e)}})}max(t,e){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}ZodSet.create=(t,e)=>new ZodSet({valueType:t,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ZodParsedType.function)return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:e.parsedType}),INVALID;function i(t,i){return makeIssue({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((t=>!!t)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:i}})}function n(t,i){return makeIssue({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((t=>!!t)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:i}})}const r={errorMap:e.common.contextualErrorMap},a=e.data;if(this._def.returns instanceof ZodPromise){const t=this;return OK((async function(...e){const o=new ZodError([]),s=await t._def.args.parseAsync(e,r).catch((t=>{throw o.addIssue(i(e,t)),o})),l=await Reflect.apply(a,this,s),u=await t._def.returns._def.type.parseAsync(l,r).catch((t=>{throw o.addIssue(n(l,t)),o}));return u}))}{const t=this;return OK((function(...e){const o=t._def.args.safeParse(e,r);if(!o.success)throw new ZodError([i(e,o.error)]);const s=Reflect.apply(a,this,o.data),l=t._def.returns.safeParse(s,r);if(!l.success)throw new ZodError([n(s,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new ZodFunction({args:t||ZodTuple.create([]).rest(ZodUnknown.create()),returns:e||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(i)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}ZodLazy.create=(t,e)=>new ZodLazy({getter:t,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(e)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{received:e.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}function createZodEnum(t,e){return new ZodEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(e)})}ZodLiteral.create=(t,e)=>new ZodLiteral({value:t,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(e)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(t){if("string"!=typeof t.data){const e=this._getOrReturnCtx(t),i=this._def.values;return addIssueToContext(e,{expected:util$1.joinValues(i),received:e.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(t.data)){const e=this._getOrReturnCtx(t),i=this._def.values;return addIssueToContext(e,{received:e.data,code:ZodIssueCode.invalid_enum_value,options:i}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return ZodEnum.create(t,{...this._def,...e})}exclude(t,e=this._def){return ZodEnum.create(this.options.filter((e=>!t.includes(e))),{...this._def,...e})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(t){const e=util$1.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==ZodParsedType.string&&i.parsedType!==ZodParsedType.number){const t=util$1.objectValues(e);return addIssueToContext(i,{expected:util$1.joinValues(t),received:i.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(t.data)){const t=util$1.objectValues(e);return addIssueToContext(i,{received:i.data,code:ZodIssueCode.invalid_enum_value,options:t}),INVALID}return OK(t.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(t,e)=>new ZodNativeEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ZodParsedType.promise&&!1===e.common.async)return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:e.parsedType}),INVALID;const i=e.parsedType===ZodParsedType.promise?e.data:Promise.resolve(e.data);return OK(i.then((t=>this._def.type.parseAsync(t,{path:e.path,errorMap:e.common.contextualErrorMap}))))}}ZodPromise.create=(t,e)=>new ZodPromise({type:t,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t),n=this._def.effect||null,r={addIssue:t=>{addIssueToContext(i,t),t.fatal?e.abort():e.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===n.type){const t=n.transform(i.data,r);if(i.common.async)return Promise.resolve(t).then((async t=>{if("aborted"===e.value)return INVALID;const n=await this._def.schema._parseAsync({data:t,path:i.path,parent:i});return"aborted"===n.status?INVALID:"dirty"===n.status||"dirty"===e.value?DIRTY(n.value):n}));{if("aborted"===e.value)return INVALID;const n=this._def.schema._parseSync({data:t,path:i.path,parent:i});return"aborted"===n.status?INVALID:"dirty"===n.status||"dirty"===e.value?DIRTY(n.value):n}}if("refinement"===n.type){const t=t=>{const e=n.refinement(t,r);if(i.common.async)return Promise.resolve(e);if(e instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1===i.common.async){const n=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===n.status?INVALID:("dirty"===n.status&&e.dirty(),t(n.value),{status:e.value,value:n.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((i=>"aborted"===i.status?INVALID:("dirty"===i.status&&e.dirty(),t(i.value).then((()=>({status:e.value,value:i.value}))))))}if("transform"===n.type){if(!1===i.common.async){const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!isValid(t))return t;const a=n.transform(t.value,r);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:a}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((t=>isValid(t)?Promise.resolve(n.transform(t.value,r)).then((t=>({status:e.value,value:t}))):t))}util$1.assertNever(n)}}ZodEffects.create=(t,e,i)=>new ZodEffects({schema:t,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:e,...processCreateParams(i)}),ZodEffects.createWithPreprocess=(t,e,i)=>new ZodEffects({schema:e,effect:{type:"preprocess",transform:t},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(i)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(t,e)=>new ZodOptional({innerType:t,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(e)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(t,e)=>new ZodNullable({innerType:t,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(e)});class ZodDefault extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;return e.parsedType===ZodParsedType.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}ZodDefault.create=(t,e)=>new ZodDefault({innerType:t,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof e.default?e.default:()=>e.default,...processCreateParams(e)});class ZodCatch extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t),i={...e,common:{...e.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return isAsync(n)?n.then((t=>({status:"valid",value:"valid"===t.status?t.value:this._def.catchValue({get error(){return new ZodError(i.common.issues)},input:i.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new ZodError(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(t,e)=>new ZodCatch({innerType:t,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof e.catch?e.catch:()=>e.catch,...processCreateParams(e)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const e=this._getOrReturnCtx(t);return addIssueToContext(e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:e.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=t=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(t)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const t=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===t.status?INVALID:"dirty"===t.status?(e.dirty(),DIRTY(t.value)):this._def.out._parseAsync({data:t.value,path:i.path,parent:i})})();{const t=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===t.status?INVALID:"dirty"===t.status?(e.dirty(),{status:"dirty",value:t.value}):this._def.out._parseSync({data:t.value,path:i.path,parent:i})}}static create(t,e){return new ZodPipeline({in:t,out:e,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const e=this._def.innerType._parse(t),i=t=>(isValid(t)&&(t.value=Object.freeze(t.value)),t);return isAsync(e)?e.then((t=>i(t))):i(e)}unwrap(){return this._def.innerType}}function custom(t,e={},i){return t?ZodAny.create().superRefine(((n,r)=>{var a,o;if(!t(n)){const t="function"==typeof e?e(n):"string"==typeof e?{message:e}:e,s=null===(o=null!==(a=t.fatal)&&void 0!==a?a:i)||void 0===o||o,l="string"==typeof t?{message:t}:t;r.addIssue({code:"custom",...l,fatal:s})}})):ZodAny.create()}ZodReadonly.create=(t,e)=>new ZodReadonly({innerType:t,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(e)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;!function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"}(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(t,e={message:`Input not instance of ${t.name}`})=>custom((e=>e instanceof t),e),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:t=>ZodString.create({...t,coerce:!0}),number:t=>ZodNumber.create({...t,coerce:!0}),boolean:t=>ZodBoolean.create({...t,coerce:!0}),bigint:t=>ZodBigInt.create({...t,coerce:!0}),date:t=>ZodDate.create({...t,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:EMPTY_PATH,addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:INVALID,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType:ZodParsedType,getParsedType:getParsedType,ZodType:ZodType,datetimeRegex:datetimeRegex,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:BRAND,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean:oboolean,onumber:onumber,optional:optionalType,ostring:ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER,ZodIssueCode:ZodIssueCode,quotelessJson:quotelessJson,ZodError:ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(t,e){const i=BlitOptionsSchema.parse(e);let{src:n,x:r=0,y:a=0,srcX:o=0,srcY:s=0,srcW:l=n.bitmap.width,srcH:u=n.bitmap.height}="bitmap"in i?{src:i}:i;if(!("bitmap"in n))throw new Error("The source must be a Jimp image");if("number"!=typeof r||"number"!=typeof a)throw new Error("x and y must be numbers");r=Math.round(r),a=Math.round(a),o=Math.round(o),s=Math.round(s),l=Math.round(l),u=Math.round(u);const c=t.bitmap.width,d=t.bitmap.height;return scan(n,o,s,l,u,(function(e,i,l){const u=r+e-o,h=a+i-s;if(u>=0&&h>=0&&c-u>0&&d-h>0){const e=t.getPixelIndex(u,h),i={r:n.bitmap.data[l]||0,g:n.bitmap.data[l+1]||0,b:n.bitmap.data[l+2]||0,a:n.bitmap.data[l+3]||0},r={r:t.bitmap.data[e]||0,g:t.bitmap.data[e+1]||0,b:t.bitmap.data[e+2]||0,a:t.bitmap.data[e+3]||0};t.bitmap.data[e]=(i.a*(i.r-r.r)-r.r+255>>8)+r.r,t.bitmap.data[e+1]=(i.a*(i.g-r.g)-r.g+255>>8)+r.g,t.bitmap.data[e+2]=(i.a*(i.b-r.b)-r.b+255>>8)+r.b,t.bitmap.data[e+3]=limit255(r.a+i.a)}})),t}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(t,e){if("number"!=typeof e)throw new Error("r must be a number");if(e<1)throw new Error("r must be greater than 0");let i,n,r,a,o,s,l,u,c,d,h,f,p;const m=t.bitmap.width-1,b=t.bitmap.height-1,g=e+1,y=mulTable[e],Z=shgTable[e],_=[],v=[],w=[],S=[],x=[],I=[];let W=2;for(;W-- >0;){for(f=0,p=0,s=0;s<t.bitmap.height;s++){for(i=t.bitmap.data[p]*g,n=t.bitmap.data[p+1]*g,r=t.bitmap.data[p+2]*g,a=t.bitmap.data[p+3]*g,l=1;l<=e;l++)u=p+((l>m?m:l)<<2),i+=t.bitmap.data[u++],n+=t.bitmap.data[u++],r+=t.bitmap.data[u++],a+=t.bitmap.data[u];for(o=0;o<t.bitmap.width;o++)_[f]=i,v[f]=n,w[f]=r,S[f]=a,0===s&&(x[o]=((u=o+g)<m?u:m)<<2,I[o]=(u=o-e)>0?u<<2:0),c=p+x[o],d=p+I[o],i+=t.bitmap.data[c++]-t.bitmap.data[d++],n+=t.bitmap.data[c++]-t.bitmap.data[d++],r+=t.bitmap.data[c++]-t.bitmap.data[d++],a+=t.bitmap.data[c]-t.bitmap.data[d++],f++;p+=t.bitmap.width<<2}for(o=0;o<t.bitmap.width;o++){for(h=o,i=_[h]*g,n=v[h]*g,r=w[h]*g,a=S[h]*g,l=1;l<=e;l++)h+=l>b?0:t.bitmap.width,i+=_[h],n+=v[h],r+=w[h],a+=S[h];for(f=o<<2,s=0;s<t.bitmap.height;s++)t.bitmap.data[f]=limit255(i*y>>>Z),t.bitmap.data[f+1]=limit255(n*y>>>Z),t.bitmap.data[f+2]=limit255(r*y>>>Z),t.bitmap.data[f+3]=limit255(a*y>>>Z),0===o&&(x[s]=((u=s+g)<b?u:b)*t.bitmap.width,I[s]=(u=s-e)>0?u*t.bitmap.width:0),c=o+x[s],d=o+I[s],i+=_[c]-_[d],n+=v[c]-v[d],r+=w[c]-w[d],a+=S[c]-S[d],f+=t.bitmap.width<<2}}return t},gaussian(t,e){if("number"!=typeof e)throw new Error("r must be a number");if(e<1)throw new Error("r must be greater than 0");const i=Math.ceil(2.57*e),n=2*i+1,r=e*e*2,a=r*Math.PI,o=[];for(let s=0;s<n;s++){const t=[];for(let e=0;e<n;e++){const n=(e-i)**2+(s-i)**2;t[e]=Math.exp(-n/r)/a}o.push(t)}for(let s=0;s<t.bitmap.height;s++)for(let e=0;e<t.bitmap.width;e++){let r=0,a=0,l=0,u=0,c=0;for(let d=0;d<n;d++){for(let f=0;f<n;f++){const n=Math.min(t.bitmap.width-1,Math.max(0,f+e-i)),h=Math.min(t.bitmap.height-1,Math.max(0,d+s-i)),p=o[d][f],m=h*t.bitmap.width+n<<2;r+=t.bitmap.data[m]*p,a+=t.bitmap.data[m+1]*p,l+=t.bitmap.data[m+2]*p,u+=t.bitmap.data[m+3]*p,c+=p}const h=s*t.bitmap.width+e<<2;t.bitmap.data[h]=Math.round(r/c),t.bitmap.data[h+1]=Math.round(a/c),t.bitmap.data[h+2]=Math.round(l/c),t.bitmap.data[h+3]=Math.round(u/c)}}return t}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(t,e={}){const i=CircleOptionsSchema.parse(e),n=i.radius||(t.bitmap.width>t.bitmap.height?t.bitmap.height:t.bitmap.width)/2,r="number"==typeof i.x?i.x:t.bitmap.width/2,a="number"==typeof i.y?i.y:t.bitmap.height/2;return t.scan(((e,i,o)=>{const s=Math.sqrt(Math.pow(e-r,2)+Math.pow(i-a,2));n-s<=0?t.bitmap.data[o+3]=0:n-s<1&&(t.bitmap.data[o+3]=255*(n-s))})),t}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(t,e,i,n){const r=[0,0,0,0],a=(e.length-1)/2;for(let o=0;o<e.length;o+=1)for(let s=0;s<e[o].length;s+=1){const l=t.getPixelIndex(i+o-a,n+s-a);r[0]+=t.bitmap.data[l]*e[o][s],r[1]+=t.bitmap.data[l+1]*e[o][s],r[2]+=t.bitmap.data[l+2]*e[o][s],r[3]+=t.bitmap.data[l+3]*e[o][s]}return r}function mix(t,e,i=50){return{r:(e.r-t.r)*(i/100)+t.r,g:(e.g-t.g)*(i/100)+t.g,b:(e.b-t.b)*(i/100)+t.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(t){const e={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return t.scan(((i,n,r)=>{e.r[t.bitmap.data[r+0]]++,e.g[t.bitmap.data[r+1]]++,e.b[t.bitmap.data[r+2]]++})),e}const normalizeValue=function(t,e,i){return 255*(t-e)/(i-e)},getBounds=function(t){return[t.findIndex((t=>t>0)),255-t.slice().reverse().findIndex((t=>t>0))]},methods$e={normalize(t){const e=histogram(t),i={r:getBounds(e.r),g:getBounds(e.g),b:getBounds(e.b)};return t.scan(((e,n,r)=>{const a=t.bitmap.data[r+0],o=t.bitmap.data[r+1],s=t.bitmap.data[r+2];t.bitmap.data[r+0]=normalizeValue(a,i.r[0],i.r[1]),t.bitmap.data[r+1]=normalizeValue(o,i.g[0],i.g[1]),t.bitmap.data[r+2]=normalizeValue(s,i.b[0],i.b[1])})),t},invert:t=>(t.scan(((e,i,n)=>{t.bitmap.data[n]=255-t.bitmap.data[n],t.bitmap.data[n+1]=255-t.bitmap.data[n+1],t.bitmap.data[n+2]=255-t.bitmap.data[n+2]})),t),brightness(t,e){if("number"!=typeof e)throw new Error("val must be numbers");return t.scan(((i,n,r)=>{t.bitmap.data[r]=limit255(t.bitmap.data[r]*e),t.bitmap.data[r+1]=limit255(t.bitmap.data[r+1]*e),t.bitmap.data[r+2]=limit255(t.bitmap.data[r+2]*e)})),t},contrast(t,e){if("number"!=typeof e)throw new Error("val must be numbers");if(e<-1||e>1)throw new Error("val must be a number between -1 and +1");const i=(e+1)/(1-e);function n(t){return(t=Math.floor(i*(t-127)+127))<0?0:t>255?255:t}return t.scan(((e,i,r)=>{t.bitmap.data[r]=n(t.bitmap.data[r]),t.bitmap.data[r+1]=n(t.bitmap.data[r+1]),t.bitmap.data[r+2]=n(t.bitmap.data[r+2])})),t},posterize(t,e){if("number"!=typeof e)throw new Error("n must be numbers");return e<2&&(e=2),t.scan(((i,n,r)=>{const a=t.bitmap.data[r],o=t.bitmap.data[r+1],s=t.bitmap.data[r+2];t.bitmap.data[r]=Math.floor(a/255*(e-1))/(e-1)*255,t.bitmap.data[r+1]=Math.floor(o/255*(e-1))/(e-1)*255,t.bitmap.data[r+2]=Math.floor(s/255*(e-1))/(e-1)*255})),t},greyscale:t=>(t.scan(((e,i,n)=>{const r=.2126*t.bitmap.data[n]+.7152*t.bitmap.data[n+1]+.0722*t.bitmap.data[n+2];t.bitmap.data[n]=r,t.bitmap.data[n+1]=r,t.bitmap.data[n+2]=r})),t),opacity(t,e){if("number"!=typeof e)throw new Error("f must be a number");if(e<0||e>1)throw new Error("f must be a number from 0 to 1");return t.scan(((i,n,r)=>{const a=t.bitmap.data[r+3]*e;t.bitmap.data[r+3]=a})),t},sepia:t=>(t.scan(((e,i,n)=>{let r=t.bitmap.data[n],a=t.bitmap.data[n+1],o=t.bitmap.data[n+2];r=.393*r+.769*a+.189*o,a=.349*r+.686*a+.168*o,o=.272*r+.534*a+.131*o,t.bitmap.data[n]=r<255?r:255,t.bitmap.data[n+1]=a<255?a:255,t.bitmap.data[n+2]=o<255?o:255})),t),fade(t,e){if("number"!=typeof e)throw new Error("f must be a number");if(e<0||e>1)throw new Error("f must be a number from 0 to 1");return this.opacity(t,1-e)},convolution(t,e){const i=ConvolutionOptionsSchema.parse(e),{kernel:n,edgeHandling:r=Edge.EXTEND}="kernel"in i?i:{kernel:i,edgeHandling:void 0};if(!n[0])throw new Error("kernel must be a matrix");const a=Buffer.from(t.bitmap.data),o=n.length,s=n[0].length,l=Math.floor(o/2),u=Math.floor(s/2),c=-l,d=-u;let h,f,p,m,b,g,y,Z,_,v;return t.scan(((e,i,o)=>{m=0,p=0,f=0;for(let a=c;a<=l;a++)for(let o=d;o<=u;o++)Z=e+o,_=i+a,h=n[a+l][o+u],v=t.getPixelIndex(Z,_,r),-1===v?(y=0,g=0,b=0):(b=t.bitmap.data[v+0],g=t.bitmap.data[v+1],y=t.bitmap.data[v+2]),f+=h*b,p+=h*g,m+=h*y;f<0&&(f=0),p<0&&(p=0),m<0&&(m=0),f>255&&(f=255),p>255&&(p=255),m>255&&(m=255),a[o+0]=f,a[o+1]=p,a[o+2]=m})),t.bitmap.data=a,t},opaque:t=>(t.scan(((e,i,n)=>{t.bitmap.data[n+3]=255})),t),pixelate(t,e){const i=PixelateOptionsSchema.parse(e),{size:n,x:r=0,y:a=0,w:o=t.bitmap.width-r,h:s=t.bitmap.height-a}="number"==typeof i?{size:i}:i,l=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],u=clone(t);return scan(u,r,a,o,s,((e,i,r)=>{e=n*Math.floor(e/n),i=n*Math.floor(i/n);const a=applyKernel(u,l,e,i);t.bitmap.data[r]=a[0],t.bitmap.data[r+1]=a[1],t.bitmap.data[r+2]=a[2],t.bitmap.data[r+3]=a[3]})),t},convolute(t,e){const i=ConvoluteOptionsSchema.parse(e),{kernel:n,x:r=0,y:a=0,w:o=t.bitmap.width-r,h:s=t.bitmap.height-a}="kernel"in i?i:{kernel:i},l=clone(t);return scan(l,r,a,o,s,((e,i,r)=>{const a=applyKernel(l,n,e,i);t.bitmap.data[r]=limit255(a[0]),t.bitmap.data[r+1]=limit255(a[1]),t.bitmap.data[r+2]=limit255(a[2]),t.bitmap.data[r+3]=limit255(a[3])})),t},color(t,e){if(!e||!Array.isArray(e))throw new Error("actions must be an array");return e.forEach((t=>ColorActionNameSchema.parse(t))),e=e.map((t=>("xor"!==t.apply&&"mix"!==t.apply||(t.params[0]=tinycolor(t.params[0]).toRgb()),t))),t.scan(((i,n,r)=>{let a={r:t.bitmap.data[r],g:t.bitmap.data[r+1],b:t.bitmap.data[r+2]};const o=(t,e)=>limit255(a[t]+e);e.forEach((t=>{if("mix"===t.apply)a=mix(a,t.params[0],t.params[1]);else if("tint"===t.apply)a=mix(a,{r:255,g:255,b:255},t.params?.[0]);else if("shade"===t.apply)a=mix(a,{r:0,g:0,b:0},t.params?.[0]);else if("xor"===t.apply)a={r:a.r^t.params[0].r,g:a.g^t.params[0].g,b:a.b^t.params[0].b};else if("red"===t.apply)a.r=o("r",t.params[0]);else if("green"===t.apply)a.g=o("g",t.params[0]);else if("blue"===t.apply)a.b=o("b",t.params[0]);else{"hue"===t.apply&&(t.apply="spin");const e=tinycolor(a),i=e[t.apply].bind(e);if(!i)throw new Error("action "+t.apply+" not supported");a=i(...t.params||[]).toRgb()}})),t.bitmap.data[r]=a.r,t.bitmap.data[r+1]=a.g,t.bitmap.data[r+2]=a.b})),t}};var lib$1={},ieee754={read:function(t,e,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=t[e+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=u}return(f?-1:1)*o*Math.pow(2,a-n)},write:function(t,e,i,n,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*l-1)*Math.pow(2,r),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const e=ieee754;function i(t){return new DataView(t.buffer,t.byteOffset)}t.UINT8={len:1,get:(t,e)=>i(t).getUint8(e),put:(t,e,n)=>(i(t).setUint8(e,n),e+1)},t.UINT16_LE={len:2,get:(t,e)=>i(t).getUint16(e,!0),put:(t,e,n)=>(i(t).setUint16(e,n,!0),e+2)},t.UINT16_BE={len:2,get:(t,e)=>i(t).getUint16(e),put:(t,e,n)=>(i(t).setUint16(e,n),e+2)},t.UINT24_LE={len:3,get(t,e){const n=i(t);return n.getUint8(e)+(n.getUint16(e+1,!0)<<8)},put(t,e,n){const r=i(t);return r.setUint8(e,255&n),r.setUint16(e+1,n>>8,!0),e+3}},t.UINT24_BE={len:3,get(t,e){const n=i(t);return(n.getUint16(e)<<8)+n.getUint8(e+2)},put(t,e,n){const r=i(t);return r.setUint16(e,n>>8),r.setUint8(e+2,255&n),e+3}},t.UINT32_LE={len:4,get:(t,e)=>i(t).getUint32(e,!0),put:(t,e,n)=>(i(t).setUint32(e,n,!0),e+4)},t.UINT32_BE={len:4,get:(t,e)=>i(t).getUint32(e),put:(t,e,n)=>(i(t).setUint32(e,n),e+4)},t.INT8={len:1,get:(t,e)=>i(t).getInt8(e),put:(t,e,n)=>(i(t).setInt8(e,n),e+1)},t.INT16_BE={len:2,get:(t,e)=>i(t).getInt16(e),put:(t,e,n)=>(i(t).setInt16(e,n),e+2)},t.INT16_LE={len:2,get:(t,e)=>i(t).getInt16(e,!0),put:(t,e,n)=>(i(t).setInt16(e,n,!0),e+2)},t.INT24_LE={len:3,get(e,i){const n=t.UINT24_LE.get(e,i);return n>8388607?n-16777216:n},put(t,e,n){const r=i(t);return r.setUint8(e,255&n),r.setUint16(e+1,n>>8,!0),e+3}},t.INT24_BE={len:3,get(e,i){const n=t.UINT24_BE.get(e,i);return n>8388607?n-16777216:n},put(t,e,n){const r=i(t);return r.setUint16(e,n>>8),r.setUint8(e+2,255&n),e+3}},t.INT32_BE={len:4,get:(t,e)=>i(t).getInt32(e),put:(t,e,n)=>(i(t).setInt32(e,n),e+4)},t.INT32_LE={len:4,get:(t,e)=>i(t).getInt32(e,!0),put:(t,e,n)=>(i(t).setInt32(e,n,!0),e+4)},t.UINT64_LE={len:8,get:(t,e)=>i(t).getBigUint64(e,!0),put:(t,e,n)=>(i(t).setBigUint64(e,n,!0),e+8)},t.INT64_LE={len:8,get:(t,e)=>i(t).getBigInt64(e,!0),put:(t,e,n)=>(i(t).setBigInt64(e,n,!0),e+8)},t.UINT64_BE={len:8,get:(t,e)=>i(t).getBigUint64(e),put:(t,e,n)=>(i(t).setBigUint64(e,n),e+8)},t.INT64_BE={len:8,get:(t,e)=>i(t).getBigInt64(e),put:(t,e,n)=>(i(t).setBigInt64(e,n),e+8)},t.Float16_BE={len:2,get(t,i){return e.read(t,i,!1,10,this.len)},put(t,i,n){return e.write(t,n,i,!1,10,this.len),i+this.len}},t.Float16_LE={len:2,get(t,i){return e.read(t,i,!0,10,this.len)},put(t,i,n){return e.write(t,n,i,!0,10,this.len),i+this.len}},t.Float32_BE={len:4,get:(t,e)=>i(t).getFloat32(e),put:(t,e,n)=>(i(t).setFloat32(e,n),e+4)},t.Float32_LE={len:4,get:(t,e)=>i(t).getFloat32(e,!0),put:(t,e,n)=>(i(t).setFloat32(e,n,!0),e+4)},t.Float64_BE={len:8,get:(t,e)=>i(t).getFloat64(e),put:(t,e,n)=>(i(t).setFloat64(e,n),e+8)},t.Float64_LE={len:8,get:(t,e)=>i(t).getFloat64(e,!0),put:(t,e,n)=>(i(t).setFloat64(e,n,!0),e+8)},t.Float80_BE={len:10,get(t,i){return e.read(t,i,!1,63,this.len)},put(t,i,n){return e.write(t,n,i,!1,63,this.len),i+this.len}},t.Float80_LE={len:10,get(t,i){return e.read(t,i,!0,63,this.len)},put(t,i,n){return e.write(t,n,i,!0,63,this.len),i+this.len}},t.IgnoreType=class{constructor(t){this.len=t}get(t,e){}},t.Uint8ArrayType=class{constructor(t){this.len=t}get(t,e){return t.subarray(e,e+this.len)}},t.BufferType=class{constructor(t){this.len=t}get(t,e){return Buffer.from(t.subarray(e,e+this.len))}},t.StringType=class{constructor(t,e){this.len=t,this.encoding=e}get(t,e){return Buffer.from(t).toString(this.encoding,e,e+this.len)}};class n{constructor(t){this.len=t}static decode(t,e,i){let r="";for(let a=e;a<i;++a)r+=n.codePointToString(n.singleByteDecoder(t[a]));return r}static inRange(t,e,i){return e<=t&&t<=i}static codePointToString(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}static singleByteDecoder(t){if(n.inRange(t,0,127))return t;const e=n.windows1252[t-128];if(null===e)throw Error("invaliding encoding");return e}get(t,e=0){return n.decode(t,e,e+this.len)}}t.AnsiStringType=n,n.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class e extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=e}(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}Deferred$1.Deferred=Deferred,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const e=EndOfFileStream,i=Deferred$1;var n=EndOfFileStream;Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),t.StreamReader=class{constructor(t){if(this.s=t,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new e.EndOfStreamError))),this.s.once("error",(t=>this.reject(t))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(t,e,i){const n=await this.read(t,e,i);return this.peekQueue.push(t.subarray(e,e+n)),n}async read(t,i,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new e.EndOfStreamError;let r=n,a=0;for(;this.peekQueue.length>0&&r>0;){const e=this.peekQueue.pop();if(!e)throw new Error("peekData should be defined");const n=Math.min(e.length,r);t.set(e.subarray(0,n),i+a),a+=n,r-=n,n<e.length&&this.peekQueue.push(e.subarray(n))}for(;r>0&&!this.endOfStream;){const e=Math.min(r,1048576),n=await this.readFromStream(t,i+a,e);if(a+=n,n<e)break;r-=n}return a}async readFromStream(t,e,n){const r=this.s.read(n);if(r)return t.set(r,e),r.length;{const r={buffer:t,offset:e,length:n,deferred:new i.Deferred};return this.deferred=r.deferred,this.s.once("readable",(()=>{this.readDeferred(r)})),r.deferred.promise}}readDeferred(t){const e=this.s.read(t.length);e?(t.buffer.set(e,t.offset),t.deferred.resolve(e.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(t)}))}reject(t){this.endOfStream=!0,this.deferred&&(this.deferred.reject(t),this.deferred=null)}}}(StreamReader),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var e=EndOfFileStream;Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return e.EndOfStreamError}});var i=StreamReader;Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,e=this.position){const i=Buffer.alloc(t.len);if(await this.readBuffer(i,{position:e})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(i,0)}async peekToken(t,e=this.position){const i=Buffer.alloc(t.len);if(await this.peekBuffer(i,{position:e})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(i,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(this.numBuffer,0)}async ignore(t){if(void 0!==this.fileInfo.size){const e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){}normalizeOptions(t,e){if(e&&void 0!==e.position&&e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return e?{mayBeLess:!0===e.mayBeLess,offset:e.offset?e.offset:0,length:e.length?e.length:t.length-(e.offset?e.offset:0),position:e.position?e.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(t,e){super(e),this.streamReader=new peek_readable_1$1.StreamReader(t)}async getFileInfo(){return this.fileInfo}async readBuffer(t,e){const i=this.normalizeOptions(t,e),n=i.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(t,e);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===i.length)return 0;const r=await this.streamReader.read(t,i.offset,i.length);if(this.position+=r,(!e||!e.mayBeLess)&&r<i.length)throw new peek_readable_1$1.EndOfStreamError;return r}async peekBuffer(t,e){const i=this.normalizeOptions(t,e);let n=0;if(i.position){const e=i.position-this.position;if(e>0){const r=new Uint8Array(i.length+e);return n=await this.peekBuffer(r,{mayBeLess:i.mayBeLess}),t.set(r.subarray(e),i.offset),n-e}if(e<0)throw new Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{n=await this.streamReader.peek(t,i.offset,i.length)}catch(t){if(e&&e.mayBeLess&&t instanceof peek_readable_1$1.EndOfStreamError)return 0;throw t}if(!i.mayBeLess&&n<i.length)throw new peek_readable_1$1.EndOfStreamError}return n}async ignore(t){const e=Math.min(maxBufferSize,t),i=new Uint8Array(e);let n=0;for(;n<t;){const r=t-n,a=await this.readBuffer(i,{length:Math.min(e,r)});if(a<0)return a;n+=a}return n}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,e){if(e&&e.position){if(e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=e.position}const i=await this.peekBuffer(t,e);return this.position+=i,i}async peekBuffer(t,e){const i=this.normalizeOptions(t,e),n=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&n<i.length)throw new peek_readable_1.EndOfStreamError;return t.set(this.uint8Array.subarray(i.position,i.position+n),i.offset),n}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const e=ReadStreamTokenizer$1,i=BufferTokenizer$1;var n=lib;Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),t.fromStream=function(t,i){return i=i||{},new e.ReadStreamTokenizer(t,i)},t.fromBuffer=function(t,e){return new i.BufferTokenizer(t,e)}}(core$1);var util={stringToBytes:t=>[...t].map((t=>t.charCodeAt(0))),tarHeaderChecksumMatches:(t,e=0)=>{const i=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(i))return!1;let n=256;for(let r=e;r<e+148;r++)n+=t[r];for(let r=e+156;r<e+512;r++)n+=t[r];return i===n},uint32SyncSafeToken:{get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes:stringToBytes,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint32SyncSafeToken:uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(t){const e=await strtok3.fromStream(t);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Buffer?t:Buffer.from(t);if(e&&e.length>1)return fromTokenizer(strtok3.fromBuffer(e))}function _check(t,e,i){i={offset:0,...i};for(const[n,r]of e.entries())if(i.mask){if(r!==(i.mask[n]&t[n+i.offset]))return!1}else if(r!==t[n+i.offset])return!1;return!0}async function fromTokenizer(t){try{return _fromTokenizer(t)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(t){let e=Buffer.alloc(minimumBytes);const i=(t,i)=>_check(e,t,i),n=(t,e)=>i(stringToBytes(t),e);if(t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),await t.peekBuffer(e,{length:12,mayBeLess:!0}),i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(i([37,33]))return await t.peekBuffer(e,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await t.ignore(6);const r=await t.readToken(uint32SyncSafeToken);return t.position+r>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(r),fromTokenizer(t))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===e[0]||70===e[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(i([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(e,{length:30});const a={compressedSize:e.readUInt32LE(18),uncompressedSize:e.readUInt32LE(22),filenameLength:e.readUInt16LE(26),extraFieldLength:e.readUInt16LE(28)};if(a.filename=await t.readToken(new Token.StringType(a.filenameLength,"utf-8")),await t.ignore(a.extraFieldLength),"META-INF/mozilla.rsa"===a.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(a.filename.endsWith(".rels")||a.filename.endsWith(".xml"))switch(a.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(a.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(a.filename.startsWith("3D/")&&a.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===a.filename&&a.compressedSize===a.uncompressedSize)switch(await t.readToken(new Token.StringType(a.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===a.compressedSize){let o=-1;for(;o<0&&t.position<t.fileInfo.size;)await t.peekBuffer(e,{mayBeLess:!0}),o=e.indexOf("504B0304",0,"hex"),await t.ignore(o>=0?o:e.length)}else await t.ignore(a.compressedSize)}}catch(s){if(!(s instanceof strtok3.EndOfStreamError))throw s}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await t.ignore(28);const u=Buffer.alloc(8);return await t.readBuffer(u),_check(u,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(u,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(u,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(u,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(u,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(u,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(i([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&96&e[8]){const c=e.toString("binary",8,12).replace("\0"," ").trim();switch(c){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return c.startsWith("3g")?c.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([212,195,178,161])||i([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await t.ignore(1350);const d=10485760,h=Buffer.alloc(Math.min(d,t.fileInfo.size));return await t.readBuffer(h,{mayBeLess:!0}),h.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:i([28,0,254,0],{offset:8})||i([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:i([8,0,0,0],{offset:4})&&(i([45,0,254,0],{offset:8})||i([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(e=Buffer.alloc(24),await t.peekBuffer(e),(i([16,251,134,1],{offset:4})||i([8,0,0,0],{offset:4}))&&i([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(i([26,69,223,163])){async function f(){const e=await t.peekNumber(Token.UINT8);let i=128,n=0;for(;!(e&i)&&0!==i;)++n,i>>=1;const r=Buffer.alloc(n+1);return await t.readBuffer(r),r}async function p(){const t=await f(),e=await f();e[0]^=128>>e.length-1;const i=Math.min(6,e.length);return{id:t.readUIntBE(0,t.length),len:e.readUIntBE(e.length-i,i)}}async function m(e,i){for(;i>0;){const e=await p();if(17026===e.id)return t.readToken(new Token.StringType(e.len,"utf-8"));await t.ignore(e.len),--i}}const b=await p();switch(await m(0,b.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(i([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(i([0,0,1,186])){if(i([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(i([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return await t.ignore(8),"debian-binary"===await t.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(i([137,80,78,71,13,10,26,10])){async function g(){return{length:await t.readToken(Token.INT32_BE),type:await t.readToken(new Token.StringType(4,"binary"))}}await t.ignore(8);do{const y=await g();if(y.length<0)return;switch(y.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(y.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(i([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(i([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(i([102,114,101,101],{offset:4})||i([109,100,97,116],{offset:4})||i([109,111,111,118],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(i([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(i([48,38,178,117,142,102,207,17,166,217])){async function Z(){const e=Buffer.alloc(16);return await t.readBuffer(e),{id:e,size:Number(await t.readToken(Token.UINT64_LE))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){const _=await Z();let v=_.size-24;if(_check(_.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const w=Buffer.alloc(16);if(v-=await t.readBuffer(w),_check(w,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(w,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(v)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(i([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((i([126,16,4])||i([126,24,4]))&&i([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(i([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(i([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(i([255,10])||i([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(e,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),n("BEGIN:")){if(n("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(n("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(i([4,0,0,0])&&e.length>=16){const S=e.readUInt32LE(12);if(S>12&&e.length>=S+16)try{const x=e.slice(16,S+16).toString();if(JSON.parse(x).files)return{ext:"asar",mime:"application/x-asar"}}catch(k){}}if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(i([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(i([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(e,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(e))return{ext:"tar",mime:"application/x-tar"};if(i([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(e.length>=2&&i([255,224],{offset:0,mask:[255,224]})){if(i([16],{offset:1,mask:[22]}))return i([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(i([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const t=new stream.PassThrough;let e;e=stream.pipeline?stream.pipeline(readableStream,t,(()=>{})):readableStream.pipe(t);const i=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const e=await fromBuffer(i);t.fileType=e}catch(t){reject(t)}resolve(e)}))})),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(t,e){return t.then((function(t){return[null,t]})).catch((function(t){return[t,void 0]}))}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(t,e){for(let i in t){let n=t[i].map((function(t){return t.toLowerCase()}));i=i.toLowerCase();for(let t=0;t<n.length;t++){const r=n[t];if("*"!==r[0]){if(!e&&r in this._types)throw new Error('Attempt to change mapping for "'+r+'" extension from "'+this._types[r]+'" to "'+i+'". Pass `force=true` to allow this, otherwise remove "'+r+'" from the list of extensions for "'+i+'".');this._types[r]=i}}if(e||!this._extensions[i]){const t=n[0];this._extensions[i]="*"!==t[0]?t:t.substr(1)}}},Mime$1.prototype.getType=function(t){let e=(t=String(t)).replace(/^.*[/\\]/,"").toLowerCase(),i=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(i.length<e.length-1||!n)&&this._types[i]||null},Mime$1.prototype.getExtension=function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/n,g:(t.g*t.a+e.g*e.a*(1-t.a))/n,b:(t.b*t.a+e.b*e.a*(1-t.a))/n,a:n}}function dstOver(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/n,g:(e.g*e.a+t.g*t.a*(1-e.a))/n,b:(e.b*e.a+t.b*t.a*(1-e.a))/n,a:n}}function multiply(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(r*s+r*(1-e.a)+s*(1-t.a))/n,g:(a*l+a*(1-e.a)+l*(1-t.a))/n,b:(o*u+o*(1-e.a)+u*(1-t.a))/n,a:n}}function add(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a;return{r:(r+e.r*e.a)/n,g:(a+e.g*e.a)/n,b:(o+e.b*e.a)/n,a:n}}function screen(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(r*e.a+s*t.a-r*s+r*(1-e.a)+s*(1-t.a))/n,g:(a*e.a+l*t.a-a*l+a*(1-e.a)+l*(1-t.a))/n,b:(o*e.a+u*t.a-o*u+o*(1-e.a)+u*(1-t.a))/n,a:n}}function overlay(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(2*s<=e.a?2*r*s+r*(1-e.a)+s*(1-t.a):r*(1+e.a)+s*(1+t.a)-2*s*r-e.a*t.a)/n,g:(2*l<=e.a?2*a*l+a*(1-e.a)+l*(1-t.a):a*(1+e.a)+l*(1+t.a)-2*l*a-e.a*t.a)/n,b:(2*u<=e.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/n,a:n}}function darken(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(Math.min(r*e.a,s*t.a)+r*(1-e.a)+s*(1-t.a))/n,g:(Math.min(a*e.a,l*t.a)+a*(1-e.a)+l*(1-t.a))/n,b:(Math.min(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/n,a:n}}function lighten(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(Math.max(r*e.a,s*t.a)+r*(1-e.a)+s*(1-t.a))/n,g:(Math.max(a*e.a,l*t.a)+a*(1-e.a)+l*(1-t.a))/n,b:(Math.max(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/n,a:n}}function hardLight(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(2*r<=t.a?2*r*s+r*(1-e.a)+s*(1-t.a):r*(1+e.a)+s*(1+t.a)-2*s*r-e.a*t.a)/n,g:(2*a<=t.a?2*a*l+a*(1-e.a)+l*(1-t.a):a*(1+e.a)+l*(1+t.a)-2*l*a-e.a*t.a)/n,b:(2*o<=t.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/n,a:n}}function difference(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(r+s-2*Math.min(r*e.a,s*t.a))/n,g:(a+l-2*Math.min(a*e.a,l*t.a))/n,b:(o+u-2*Math.min(o*e.a,u*t.a))/n,a:n}}function exclusion(t,e,i=1){t.a*=i;const n=e.a+t.a-e.a*t.a,r=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,l=e.g*e.a,u=e.b*e.a;return{r:(r*e.a+s*t.a-2*r*s+r*(1-e.a)+s*(1-t.a))/n,g:(a*e.a+l*t.a-2*a*l+a*(1-e.a)+l*(1-t.a))/n,b:(o*e.a+u*t.a-2*o*u+o*(1-e.a)+u*(1-t.a))/n,a:n}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add:add,darken:darken,difference:difference,dstOver:dstOver,exclusion:exclusion,hardLight:hardLight,lighten:lighten,multiply:multiply,names:names,overlay:overlay,screen:screen,srcOver:srcOver});function composite(t,e,i=0,n=0,r={}){if(!(e instanceof t.constructor))throw new Error("The source must be a Jimp image");if("number"!=typeof i||"number"!=typeof n)throw new Error("x and y must be numbers");const{mode:a=BlendMode.SRC_OVER}=r;let{opacitySource:o=1,opacityDest:s=1}=r;("number"!=typeof o||o<0||o>1)&&(o=1),("number"!=typeof s||s<0||s>1)&&(s=1);const l=compositeModes[a];return i=Math.round(i),n=Math.round(n),1!==s&&t.scan(((e,i,n)=>{const r=t.bitmap.data[n+3]*s;t.bitmap.data[n+3]=r})),e.scan(((r,a,s)=>{const u=t.getPixelIndex(i+r,n+a,Edge.CROP);if(-1===u)return;const c=l({r:e.bitmap.data[s+0]/255,g:e.bitmap.data[s+1]/255,b:e.bitmap.data[s+2]/255,a:e.bitmap.data[s+3]/255},{r:t.bitmap.data[u+0]/255,g:t.bitmap.data[u+1]/255,b:t.bitmap.data[u+2]/255,a:t.bitmap.data[u+3]/255},o);t.bitmap.data[u+0]=limit255(255*c.r),t.bitmap.data[u+1]=limit255(255*c.g),t.bitmap.data[u+2]=limit255(255*c.b),t.bitmap.data[u+3]=limit255(255*c.a)})),t}var jpeg$1={parseSections:function(t,e){var i,n;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==n;){if(255!==t.nextUInt8())throw new Error("Invalid JPEG section offset");i=(n=t.nextUInt8())>=208&&n<=217||218===n?0:t.nextUInt16()-2,e(n,t.branch(0,i)),t.skip(i)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){var e,i;switch(t){case 216:e="SOI";break;case 196:e="DHT";break;case 219:e="DQT";break;case 221:e="DRI";break;case 218:e="SOS";break;case 254:e="COM";break;case 217:e="EOI";break;default:t>=224&&t<=239?(e="APP",i=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e="SOF",i=t-192):t>=208&&t<=215&&(e="RST",i=t-208)}var n={name:e};return"number"==typeof i&&(n.index=i),n}};function readExifValue(t,e){switch(t){case 1:return e.nextUInt8();case 3:case 8:return e.nextUInt16();case 4:case 9:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw new Error("Invalid format while decoding: "+t)}}function getBytesPerComponent(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(t,e){var i,n,r=e.nextUInt16(),a=e.nextUInt16(),o=getBytesPerComponent(a),s=e.nextUInt32(),l=o*s;if(l>4&&(e=t.openWithOffset(e.nextUInt32())),2===a){var u=(i=e.nextString(s)).indexOf("\0");-1!==u&&(i=i.substr(0,u))}else if(7===a)i=e.nextBuffer(s);else if(0!==a)for(i=[],n=0;n<s;++n)i.push(readExifValue(a,e));return l<4&&e.skip(4-l),[r,i,a]}function readIFDSection(t,e,i){var n,r,a=e.nextUInt16();for(r=0;r<a;++r)i((n=readExifTag(t,e))[0],n[1],n[2])}function readHeader(t){if("Exif\0\0"!==t.nextString(6))throw new Error("Invalid EXIF header");var e=t.mark(),i=t.nextUInt16();if(18761===i)t.setBigEndian(!1);else{if(19789!==i)throw new Error("Invalid TIFF header");t.setBigEndian(!0)}if(42!==t.nextUInt16())throw new Error("Invalid TIFF data");return e}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){var i,n,r,a;try{i=readHeader(t)}catch(t){return!1}var o=i.openWithOffset(t.nextUInt32()),s=this.IFD0;readIFDSection(i,o,(function(t,i,a){switch(t){case 34853:r=i[0];break;case 34665:n=i[0];break;default:e(s,t,i,a)}}));var l=o.nextUInt32();if(0!==l){var u=i.openWithOffset(l);readIFDSection(i,u,e.bind(null,this.IFD1))}if(r){var c=i.openWithOffset(r);readIFDSection(i,c,e.bind(null,this.GPSIFD))}if(n){var d=i.openWithOffset(n),h=this.InteropIFD;readIFDSection(i,d,(function(t,i,n){40965===t?a=i[0]:e(h,t,i,n)}))}if(a){var f=i.openWithOffset(a);readIFDSection(i,f,e.bind(null,this.InteropIFD))}return!0}};function parseNumber(t){return parseInt(t,10)}var hours=3600,minutes=60;function parseDateTimeParts(t,e){t=t.map(parseNumber),e=e.map(parseNumber);var i=t[0],n=t[1]-1,r=t[2],a=e[0],o=e[1],s=e[2];return Date.UTC(i,n,r,a,o,s,0)/1e3}function parseDateWithTimezoneFormat(t){var e=t.substr(0,10).split("-"),i=t.substr(11,8).split(":"),n=t.substr(19,6).split(":").map(parseNumber),r=n[0]*hours+n[1]*minutes,a=parseDateTimeParts(e,i);if("number"==typeof(a-=r)&&!isNaN(a))return a}function parseDateWithSpecFormat(t){var e=t.split(" "),i=parseDateTimeParts(e[0].split(":"),e[1].split(":"));if("number"==typeof i&&!isNaN(i))return i}function parseExifDate(t){var e=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?parseDateWithTimezoneFormat(t):e?parseDateWithSpecFormat(t):void 0}var date$1={parseDateWithSpecFormat:parseDateWithSpecFormat,parseDateWithTimezoneFormat:parseDateWithTimezoneFormat,parseExifDate:parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(t,e){degreeTags.forEach((function(i){var n=t(i);if(n){var r=t({section:i.section,type:i.refType,name:i.refName})===i.posVal?1:-1,a=(n[0]+n[1]/60+n[2]/3600)*r;e(i,a)}}))},castDateValues:function(t,e){dateTags.forEach((function(i){var n=t(i);if(n){var r=date.parseExifDate(n);void 0!==r&&e(i,r)}}))},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map((function(t){return 10===e||5===e?t[0]/t[1]:t}))).length&&(t=t[0]),t}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(t,e,i,n,r,a,o){this.startMarker=t,this.tags=e,this.imageSize=i,this.thumbnailOffset=n,this.thumbnailLength=r,this.thumbnailType=a,this.app1Offset=o}function Parser$1(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(t){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!=typeof t||("image/jpeg"===t.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===t.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return jpeg.parseSections(e,(function(e,i){"SOF"===jpeg.getSectionName(e).name&&(t=jpeg.getSizeFromSOFSection(i))})),t}},Parser$1.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var t,e,i,n,r,a,o,s,l,u=this.stream.mark(),c=u.openWithOffset(0),d=this.flags;return d.resolveTagNames&&(o=requireExifTags()),d.resolveTagNames?(t={},s=function(e){return t[e.name]},l=function(e,i){t[e.name]=i}):(t=[],s=function(e){var i;for(i=0;i<t.length;++i)if(t[i].type===e.type&&t[i].section===e.section)return t.value},l=function(e,i){var n;for(n=0;n<t.length;++n)if(t[n].type===e.type&&t[n].section===e.section)return void(t.value=i)}),jpeg.parseSections(c,(function(s,l){var c=l.offsetFrom(u);225===s?exif.parseTags(l,(function(e,a,s,l){if(d.readBinaryTags||7!==l){if(513===a){if(i=s[0],d.hidePointers)return}else if(514===a){if(n=s[0],d.hidePointers)return}else if(259===a&&(r=s[0],d.hidePointers))return;if(d.returnTags)if(d.simplifyValues&&(s=simplify.simplifyValue(s,l)),d.resolveTagNames){var u=(e===exif.GPSIFD?o.gps:o.exif)[a];u||(u=o.exif[a]),t.hasOwnProperty(u)||(t[u]=s)}else t.push({section:e,type:a,value:s})}}))&&(a=c):d.imageSize&&"SOF"===jpeg.getSectionName(s).name&&(e=jpeg.getSizeFromSOFSection(l))})),d.simplifyValues&&(simplify.castDegreeValues(s,l),simplify.castDateValues(s,l)),new ExifResult(u,t,e,i,n,r,a)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function t(t,e,i,n,r,a){this.global=r,e=e||0,i=i||t.byteLength-e,this.arrayBuffer=t.slice(e,e+i),this.view=new r.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(n),this.offset=0,this.parentOffset=(a||0)+e}return hasRequiredDomBufferstream=1,t.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var e=this;return{openWithOffset:function(i){return i=(i||0)+this.offset,new t(e.arrayBuffer,i,e.arrayBuffer.byteLength-i,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(e,i){return i="number"==typeof i?i:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,i,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=t}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function t(t,e,i,n){this.buffer=t,this.offset=e||0,i="number"==typeof i?i:t.length,this.endPosition=this.offset+i,this.setBigEndian(n)}return hasRequiredBufferstream=1,t.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var e=this;return{openWithOffset:function(i){return i=(i||0)+this.offset,new t(e.buffer,i,e.endPosition-i,e.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(e,i){return i="number"==typeof i?i:this.endPosition-(this.offset+e),new t(this.buffer,this.offset+e,i,this.bigEndian)}},bufferstream=t}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(t,e){if(t instanceof(e=e||getGlobal()).ArrayBuffer){var i=requireDomBufferstream();return new Parser(new i(t,0,t.byteLength,!0,e))}var n=requireBufferstream();return new Parser(new n(t,0,t.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(t){const e=t._exif;return e&&e.tags&&e.tags.Orientation||1}function getExifOrientationTransformation(t){const e=t.bitmap.width,i=t.bitmap.height;switch(getExifOrientation(t)){case 1:default:return null;case 2:return function(t,i){return[e-t-1,i]};case 3:return function(t,n){return[e-t-1,i-n-1]};case 4:return function(t,e){return[t,i-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,i-t-1]};case 7:return function(t,n){return[e-n-1,i-t-1]};case 8:return function(t,i){return[e-i-1,t]}}}function transformBitmap(t,e,i,n){const r=t.bitmap.data,a=t.bitmap.width,o=Buffer.alloc(r.length);for(let s=0;s<e;s++)for(let t=0;t<i;t++){const[i,l]=n(s,t),u=e*t+s<<2,c=a*l+i<<2,d=r.readUInt32BE(c);o.writeUInt32BE(d,u)}t.bitmap.data=o,t.bitmap.width=e,t.bitmap.height=i,t._exif.tags.Orientation=1}function exifRotate(t){if(getExifOrientation(t)<2)return;const e=getExifOrientationTransformation(t),i=getExifOrientation(t)>4,n=i?t.bitmap.height:t.bitmap.width,r=i?t.bitmap.width:t.bitmap.height;e&&transformBitmap(t,n,r,e)}async function attemptExifRotate(t,e){try{t._exif=EXIFParser.create(e).parse(),exifRotate(t)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(t,e,i)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__publicField$2=(t,e,i)=>__defNormalProp$2(t,"symbol"!=typeof e?e+"":e,i);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(t){const e=Buffer.alloc(t.byteLength),i=new Uint8Array(t);for(let n=0;n<e.length;++n)e[n]=i[n];return e}function createJimp({plugins:t,formats:e}={}){const i=t||[],n=(e||[]).map((t=>t())),r=class{constructor(t=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=n,"data"in t)this.bitmap=t;else if(this.bitmap={data:Buffer.alloc(t.width*t.height*4),width:t.width,height:t.height},t.color){this.background="string"==typeof t.color?cssColorToHex(t.color):t.color;for(let t=0;t<this.bitmap.data.length;t+=4)this.bitmap.data.writeUInt32BE(this.background,t)}for(const e of i)for(const t in e)this[t]=(...i)=>{const n=e[t]?.(this,...i);return"object"==typeof n&&"bitmap"in n?(this.bitmap=n.bitmap,this):n}}static async read(t,e){if(Buffer.isBuffer(t)||t instanceof ArrayBuffer)return this.fromBuffer(t);const[i,n]=await to(fetch(t));if(i)throw new Error(`Could not load Buffer from URL: ${t}`);if(!n.ok)throw new Error(`HTTP Status ${n.status} for url ${t}`);const[r,a]=await to(n.arrayBuffer());if(r)throw new Error(`Could not load Buffer from ${t}`);const o=bufferFromArrayBuffer(a);return this.fromBuffer(o,e)}static fromBitmap(t){let e;if(t.data instanceof Buffer&&(e=Buffer.from(t.data)),(t.data instanceof Uint8Array||t.data instanceof Uint8ClampedArray)&&(e=Buffer.from(t.data.buffer)),Array.isArray(t.data)&&(e=Buffer.concat(t.data.map((t=>Buffer.from(t.toString(16).padStart(8,"0"),"hex"))))),!e)throw new Error("data must be a Buffer");if("number"!=typeof t.height||"number"!=typeof t.width)throw new Error("bitmap must have width and height");return new r({height:t.height,width:t.width,data:e})}static async fromBuffer(t,e){const i=t instanceof ArrayBuffer?bufferFromArrayBuffer(t):t,a=await fileType$1.fromBuffer(i);if(!a||!a.mime)throw new Error("Could not find MIME for Buffer");const o=n.find((t=>t.mime===a.mime));if(!o||!o.decode)throw new Error(`Mime type ${a.mime} does not support decoding`);const s=new r(await o.decode(i,e?.[o.mime]));return s.mime=a.mime,attemptExifRotate(s,i),s}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(t,e){const i=this.formats.find((e=>e.mime===t));if(!i||!i.encode)throw new Error(`Unsupported MIME type: ${t}`);let n;return i.hasAlpha?n=this:(n=new r({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(n,this)),i.encode(n.bitmap,e)}async getBase64(t,e){return"data:"+t+";base64,"+(await this.getBuffer(t,e)).toString("base64")}async write(t,e){const i=mime.getType(t);await writeFile(t,await this.getBuffer(i,e))}clone(){return new r({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(t,e,i){let n,r;if(i||(i=Edge.EXTEND),"number"!=typeof t||"number"!=typeof e)throw new Error("x and y must be numbers");n=t=Math.round(t),r=e=Math.round(e),i===Edge.EXTEND&&(t<0&&(n=0),t>=this.bitmap.width&&(n=this.bitmap.width-1),e<0&&(r=0),e>=this.bitmap.height&&(r=this.bitmap.height-1)),i===Edge.WRAP&&(t<0&&(n=this.bitmap.width+t),t>=this.bitmap.width&&(n=t%this.bitmap.width),e<0&&(r=this.bitmap.height+e),e>=this.bitmap.height&&(r=e%this.bitmap.height));let a=this.bitmap.width*r+n<<2;return(n<0||n>=this.bitmap.width)&&(a=-1),(r<0||r>=this.bitmap.height)&&(a=-1),a}getPixelColor(t,e){if("number"!=typeof t||"number"!=typeof e)throw new Error("x and y must be numbers");const i=this.getPixelIndex(t,e);return this.bitmap.data.readUInt32BE(i)}setPixelColor(t,e,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof i)throw new Error("hex, x and y must be numbers");const n=this.getPixelIndex(e,i);return this.bitmap.data.writeUInt32BE(t,n),this}hasAlpha(){const{width:t,height:e,data:i}=this.bitmap,n=t*e<<2;for(let r=3;r<n;r+=4)if(255!==i[r])return!0;return!1}composite(t,e=0,i=0,n={}){return composite(this,t,e,i,n)}scan(t,e,i,n,r){return scan(this,t,e,i,n,r)}scanIterator(t=0,e=0,i=this.bitmap.width,n=this.bitmap.height){if("number"!=typeof t||"number"!=typeof e)throw new Error("x and y must be numbers");if("number"!=typeof i||"number"!=typeof n)throw new Error("w and h must be numbers");return scanIterator(this,t,e,i,n)}};return r}var ResizeStrategy,ResizeStrategy2;function Resize(t,e,i,n,r,a,o){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(i)||0),this.targetHeight=Math.abs(Math.floor(n)||0),this.colorChannels=r?4:3,this.interpolationPass=Boolean(a),this.resizeCallback="function"==typeof o?o:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){const i=e?4:3,n=this.ratioWeightWidthPass,r=this.widthBuffer;let a,o,s=0,l=0,u=0,c=0,d=0;for(a=0;s<1/3;a+=i,s+=n)for(l=a,u=0;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)r[l]=t[u],r[l+1]=t[u+1],r[l+2]=t[u+2],e&&(r[l+3]=t[u+3]);for(s-=1/3,o=this.widthOriginal-1;s<o;a+=i,s+=n)for(d=s%1,c=1-d,l=a,u=Math.floor(s)*i;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)r[l+0]=t[u+0]*c+t[u+i+0]*d,r[l+1]=t[u+1]*c+t[u+i+1]*d,r[l+2]=t[u+2]*c+t[u+i+2]*d,e&&(r[l+3]=t[u+3]*c+t[u+i+3]*d);for(o=this.originalWidthMultipliedByChannels-i;a<this.targetWidthMultipliedByChannels;a+=i)for(l=a,u=o;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)r[l]=t[u],r[l+1]=t[u+1],r[l+2]=t[u+2],e&&(r[l+3]=t[u+3]);return r},Resize.prototype._resizeWidthRGBChannels=function(t,e){const i=e?4:3,n=this.ratioWeightWidthPass,r=1/n,a=this.originalWidthMultipliedByChannels-i+1,o=this.targetWidthMultipliedByChannels-i+1,s=this.outputWidthWorkBench,l=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount;let c=0,d=0,h=0,f=0,p=0,m=0,b=0,g=1,y=0,Z=0,_=0,v=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,e&&(s[p++]=0,u[p/i-1]=0);c=n;do{for(d=1+h-f,g=Math.min(c,d),p=0,m=h;p<this.originalHeightMultipliedByChannels;m+=a)y=t[m],Z=t[++m],_=t[++m],v=e?t[++m]:255,s[p++]+=(v?y:0)*g,s[p++]+=(v?Z:0)*g,s[p++]+=(v?_:0)*g,e&&(s[p++]+=v*g,u[p/i-1]+=v?g:0);if(!(c>=d)){f+=c;break}h+=i,f=h,c-=d}while(c>0&&h<this.originalWidthMultipliedByChannels);for(p=0,m=b;p<this.originalHeightMultipliedByChannels;m+=o)c=e?u[p/i]:1,g=e?c?1/c:0:r,l[m]=s[p++]*g,l[++m]=s[p++]*g,l[++m]=s[p++]*g,e&&(l[++m]=s[p++]*r);b+=i}while(b<this.targetWidthMultipliedByChannels);return l},Resize.prototype._resizeHeightRGBChannels=function(t,e){const i=this.ratioWeightHeightPass,n=1/i,r=this.outputHeightWorkBench,a=this.heightBuffer,o=this.outputHeightWorkBenchOpaquePixelsCount;let s=0,l=0,u=0,c=0,d=0,h=0,f=0,p=1,m=0,b=0,g=0,y=0;do{for(d=0;d<this.targetWidthMultipliedByChannels;)r[d++]=0,r[d++]=0,r[d++]=0,e&&(r[d++]=0,o[d/4-1]=0);s=i;do{for(l=1+u-c,p=Math.min(s,l),f=u,d=0;d<this.targetWidthMultipliedByChannels;)m=t[f++],b=t[f++],g=t[f++],y=e?t[f++]:255,r[d++]+=(y?m:0)*p,r[d++]+=(y?b:0)*p,r[d++]+=(y?g:0)*p,e&&(r[d++]+=y*p,o[d/4-1]+=y?p:0);if(!(s>=l)){c+=s;break}u=f,c=u,s-=l}while(s>0&&u<this.widthPassResultSize);for(d=0;d<this.targetWidthMultipliedByChannels;)s=e?o[d/4]:1,p=e?s?1/s:0:n,a[h++]=Math.round(r[d++]*p),a[h++]=Math.round(r[d++]*p),a[h++]=Math.round(r[d++]*p),e&&(a[h++]=Math.round(r[d++]*n))}while(h<this.finalResultSize);return a},Resize.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},Resize.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},Resize.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},Resize.prototype.resizeHeightInterpolated=function(t){const e=this.ratioWeightHeightPass,i=this.heightBuffer;let n,r=0,a=0,o=0,s=0,l=0,u=0,c=0;for(;r<1/3;r+=e)for(o=0;o<this.targetWidthMultipliedByChannels;)i[a++]=Math.round(t[o++]);for(r-=1/3,n=this.heightOriginal-1;r<n;r+=e)for(c=r%1,u=1-c,s=Math.floor(r)*this.targetWidthMultipliedByChannels,l=s+this.targetWidthMultipliedByChannels,o=0;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]*u+t[l++]*c);for(;a<this.finalResultSize;)for(o=0,s=n*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]);return i},Resize.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},Resize.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},Resize.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},Resize.prototype.bypassResizer=function(t){return t},Resize.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(t){return[]}},Resize.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(t){return[]}},Resize.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(t){return[]}};const operations={nearestNeighbor(t,e){const i=t.width,n=t.height,r=e.width,a=e.height,o=t.data,s=e.data;for(let l=0;l<a;l++)for(let t=0;t<r;t++){let e=4*(l*r+t),u=4*(Math.floor(l*n/a)*i+Math.floor(t*i/r));s[e++]=o[u++],s[e++]=o[u++],s[e++]=o[u++],s[e++]=o[u++]}},bilinearInterpolation(t,e){const i=t.width,n=t.height,r=e.width,a=e.height,o=t.data,s=e.data,l=function(t,e,i,n,r){return e===n?i:Math.round((t-e)*r+(n-t)*i)},u=function(t,e,n,r,a,u,c,d){let h=4*(c*i+r)+e,f=4*(c*i+a)+e;const p=l(n,r,o[h],a,o[f]);if(d===c)s[t+e]=p;else{h=4*(d*i+r)+e,f=4*(d*i+a)+e;const m=l(n,r,o[h],a,o[f]);s[t+e]=l(u,c,p,d,m)}};for(let c=0;c<a;c++)for(let t=0;t<r;t++){const e=4*(c*r+t),o=t*i/r,s=Math.floor(o),l=Math.min(Math.ceil(o),i-1),d=c*n/a,h=Math.floor(d),f=Math.min(Math.ceil(d),n-1);u(e,0,o,s,l,d,h,f),u(e,1,o,s,l,d,h,f),u(e,2,o,s,l,d,h,f),u(e,3,o,s,l,d,h,f)}},_interpolate2D(t,e,i,n){const r=t.data,a=e.data,o=t.width,s=t.height,l=e.width,u=e.height,c=Math.max(1,Math.floor(o/l)),d=l*c,h=Math.max(1,Math.floor(s/u)),f=u*h,p=Buffer.alloc(d*s*4);for(let g=0;g<s;g++)for(let t=0;t<d;t++){const e=t*(o-1)/d,i=Math.floor(e),a=e-i,s=4*(g*o+i),l=4*(g*d+t);for(let t=0;t<4;t++){const e=s+t,u=i>0?r[e-4]:2*r[e]-r[e+4],c=r[e],d=r[e+4],h=i<o-2?r[e+8]:2*r[e+4]-r[e];p[l+t]=n(u,c,d,h,a)}}const m=Buffer.alloc(d*f*4);for(let g=0;g<f;g++)for(let t=0;t<d;t++){const e=g*(s-1)/f,i=Math.floor(e),r=e-i,a=4*(i*d+t),o=4*(g*d+t);for(let t=0;t<4;t++){const e=a+t,l=i>0?p[e-4*d]:2*p[e]-p[e+4*d],u=p[e],c=p[e+4*d],h=i<s-2?p[e+8*d]:2*p[e+4*d]-p[e];m[o+t]=n(l,u,c,h,r)}}const b=c*h;if(b>1)for(let g=0;g<u;g++)for(let t=0;t<l;t++){let e=0,i=0,n=0,r=0,o=0;for(let a=0;a<h;a++){const s=g*h+a;for(let a=0;a<c;a++){const l=4*(s*d+(t*c+a)),u=m[l+3];u&&(e+=m[l],i+=m[l+1],n+=m[l+2],o++),r+=u}}const s=4*(g*l+t);a[s]=o?Math.round(e/o):0,a[s+1]=o?Math.round(i/o):0,a[s+2]=o?Math.round(n/o):0,a[s+3]=Math.round(r/b)}else e.data=m},bicubicInterpolation(t,e,i){return this._interpolate2D(t,e,i,(function(t,e,i,n,r){const a=n-i-t+e,o=t-e-a,s=i-t,l=e;return Math.max(0,Math.min(255,a*(r*r*r)+o*(r*r)+s*r+l))}))},hermiteInterpolation(t,e,i){return this._interpolate2D(t,e,i,(function(t,e,i,n,r){const a=e,o=.5*(i-t),s=t-2.5*e+2*i-.5*n,l=.5*(n-t)+1.5*(e-i);return Math.max(0,Math.min(255,Math.round(((l*r+s)*r+o)*r+a)))}))},bezierInterpolation(t,e,i){return this._interpolate2D(t,e,i,(function(t,e,i,n,r){const a=1-r,o=e*a*a*a,s=3*(e+(i-t)/4)*a*a*r,l=3*(i-(n-e)/4)*a*r*r,u=i*r*r*r;return Math.max(0,Math.min(255,Math.round(o+s+l+u)))}))}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(t,e){const{mode:i}=ResizeOptionsSchema.parse(e);let n,r;if("number"==typeof e.w)n=e.w,r=e.h??t.bitmap.height*(n/t.bitmap.width);else{if("number"!=typeof e.h)throw new Error("w must be a number");r=e.h,n=e.w??t.bitmap.width*(r/t.bitmap.height)}if(n=Math.round(n)||1,r=Math.round(r)||1,i&&"function"==typeof operations[i]){const e={data:Buffer.alloc(n*r*4),width:n,height:r};operations[i](t.bitmap,e),t.bitmap=e}else new Resize(t.bitmap.width,t.bitmap.height,n,r,!0,!0,(e=>{t.bitmap.data=Buffer.from(e),t.bitmap.width=n,t.bitmap.height=r})).resize(t.bitmap.data);return t},scale(t,e){const{f:i,mode:n}="number"==typeof e?{f:e}:ScaleComplexOptionsSchema.parse(e),r=t.bitmap.width*i,a=t.bitmap.height*i;return this.resize(t,{w:r,h:a,mode:n})},scaleToFit(t,e){const{h:i,w:n,mode:r}=ScaleToFitOptionsSchema.parse(e),a=n/i>t.bitmap.width/t.bitmap.height?i/t.bitmap.height:n/t.bitmap.width;return this.scale(t,{f:a,mode:r})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(t,e){const{w:i,h:n,align:r=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:a}=ContainOptionsSchema.parse(e),o=7&r,s=r>>3;if((0===o||o&o-1)&&(0===s||s&s-1))throw new Error("only use one flag per alignment direction");const l=o>>1,u=s>>1,c=i/n>t.bitmap.width/t.bitmap.height?n/t.bitmap.height:i/t.bitmap.width,d=methods$d.scale(clone(t),{f:c,mode:a});return(t=methods$d.resize(t,{w:i,h:n,mode:a})).scan(((e,i,n)=>{t.bitmap.data.writeUInt32BE(t.background,n)})),t=methods$h.blit(t,{src:d,x:(t.bitmap.width-d.bitmap.width)/2*l,y:(t.bitmap.height-d.bitmap.height)/2*u})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(t,e){let{x:i,y:n,w:r,h:a}=CropOptionsSchema.parse(e);if(i=Math.round(i),n=Math.round(n),r=Math.round(r),a=Math.round(a),0===i&&r===t.bitmap.width){const e=r*n+i<<2,o=e+(a*r<<2);t.bitmap.data=t.bitmap.data.slice(e,o)}else{const e=Buffer.allocUnsafe(r*a*4);let o=0;scan(t,i,n,r,a,(function(i,n,r){const a=t.bitmap.data.readUInt32BE(r);e.writeUInt32BE(a,o),o+=4})),t.bitmap.data=e}return t.bitmap.width=r,t.bitmap.height=a,t},autocrop(t,e={}){const{tolerance:i=2e-4,cropOnlyFrames:n=!0,cropSymmetric:r=!1,leaveBorder:a=0,ignoreSides:o}="number"==typeof e?{tolerance:e}:AutocropComplexOptionsSchema.parse(e),s=t.bitmap.width,l=t.bitmap.height,u={north:!1,south:!1,east:!1,west:!1,...o};let c=t.getPixelColor(0,0);const d=intToRGBA$1(c);let h=0,f=0,p=0,m=0;if(c=t.getPixelColor(0,0),!u.north)t:for(let Z=0;Z<l-1;Z++){for(let e=0;e<s;e++)if(colorDiff(d,intToRGBA$1(t.getPixelColor(e,Z)))>i)break t;h++}if(c=t.getPixelColor(s,0),!u.west)t:for(let Z=0;Z<s-1;Z++){for(let e=0+h;e<l;e++)if(colorDiff(d,intToRGBA$1(t.getPixelColor(Z,e)))>i)break t;m++}if(c=t.getPixelColor(0,l),!u.south)t:for(let Z=l-1;Z>=h+1;Z--){for(let e=s-f-1;e>=0;e--)if(colorDiff(d,intToRGBA$1(t.getPixelColor(e,Z)))>i)break t;p++}if(c=t.getPixelColor(s,l),!u.east)t:for(let Z=s-1;Z>=0+m+1;Z--){for(let e=l-1;e>=0+h;e--)if(colorDiff(d,intToRGBA$1(t.getPixelColor(Z,e)))>i)break t;f++}let b=!1;if(m-=a,f-=a,h-=a,p-=a,r){const t=Math.min(f,m),e=Math.min(h,p);m=t,f=t,h=e,p=e}m=m>=0?m:0,f=f>=0?f:0,h=h>=0?h:0,p=p>=0?p:0;const g=s-(m+f),y=l-(p+h);return b=n?0!==f&&0!==h&&0!==m&&0!==p:0!==f||0!==h||0!==m||0!==p,b&&this.crop(t,{x:m,y:h,w:g,h:y}),t}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(t,e){const{w:i,h:n,align:r=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:a}=CoverOptionsSchema.parse(e),o=7&r,s=r>>3;if((0===o||o&o-1)&&(0===s||s&s-1))throw new Error("only use one flag per alignment direction");const l=o>>1,u=s>>1,c=i/n>t.bitmap.width/t.bitmap.height?i/t.bitmap.width:n/t.bitmap.height;return t=methods$d.scale(t,{f:c,mode:a}),methods$b.crop(t,{x:(t.bitmap.width-i)/2*l,y:(t.bitmap.height-n)/2*u,w:i,h:n})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(t,e){const{map:i,offset:n}=DisplaceOptionsSchema.parse(e),r=clone(t);return t.scan(((e,a,o)=>{let s=i.bitmap.data[o]/256*n;s=Math.round(s);const l=t.getPixelIndex(e+s,a);t.bitmap.data[l]=r.bitmap.data[o],t.bitmap.data[l+1]=r.bitmap.data[o+1],t.bitmap.data[l+2]=r.bitmap.data[o+2]})),t}},methods$8={dither(t){const e=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return t.scan(((i,n,r)=>{const a=e[((3&n)<<2)+i%4];t.bitmap.data[r]=Math.min(t.bitmap.data[r]+a,255),t.bitmap.data[r+1]=Math.min(t.bitmap.data[r+1]+a,255),t.bitmap.data[r+2]=Math.min(t.bitmap.data[r+2]+a,255)})),t}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(t,e={}){const{radius:i=2.5}=FisheyeOptionsSchema.parse(e),n=clone(t),{width:r,height:a}=n.bitmap;return n.scan(((e,o)=>{const s=e/r,l=o/a,u=Math.sqrt(Math.pow(s-.5,2)+Math.pow(l-.5,2)),c=2*Math.pow(u,i),d=(s-.5)/u,h=(l-.5)/u,f=Math.round((c*d+.5)*r),p=Math.round((c*h+.5)*a),m=n.getPixelColor(f,p);t.setPixelColor(m,e,o)})),t.setPixelColor(n.getPixelColor(r/2,a/2),r/2,a/2),t}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(t,e){const{horizontal:i,vertical:n}=FlipOptionsSchema.parse(e),r=Buffer.alloc(t.bitmap.data.length);return t.scan(((e,a,o)=>{const s=i?t.bitmap.width-1-e:e,l=n?t.bitmap.height-1-a:a,u=t.bitmap.width*l+s<<2,c=t.bitmap.data.readUInt32BE(o);r.writeUInt32BE(c,u)})),t.bitmap.data=Buffer.from(r),t}};function Converter$1(t,e){if(!(t&&e&&t.length&&e.length))throw new Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}Converter$1.prototype.convert=function(t){var e,i,n,r={},a=this.srcAlphabet.length,o=this.dstAlphabet.length,s=t.length,l="string"==typeof t?"":[];if(!this.isValid(t))throw new Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<s;e++)r[e]=this.srcAlphabet.indexOf(t[e]);do{for(i=0,n=0,e=0;e<s;e++)(i=i*a+r[e])>=o?(r[n++]=parseInt(i/o,10),i%=o):n>0&&(r[n++]=0);s=n,l=this.dstAlphabet.slice(i,i+1).concat(l)}while(0!==n);return l},Converter$1.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(t,e){var i=new Converter(t,e);return function(t){return i.convert(t)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(t,e,i)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__publicField$1=(t,e,i)=>__defNormalProp$1(t,"symbol"!=typeof e?e+"":e,i);class ImagePHash{constructor(t,e){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=t||32,this.smallerSize=e||8,initCoefficients(this.size)}distance(t,e){let i=0;for(let n=0;n<t.length;n++)t[n]!==e[n]&&i++;return i/t.length}getHash(t){t=methods$d.resize(clone(t),{w:this.size,h:this.size}),t=methods$e.greyscale(t);const e=[];for(let o=0;o<t.bitmap.width;o++){const i=[];for(let e=0;e<t.bitmap.height;e++)i[e]=intToRGBA(t.getPixelColor(o,e)).b;e[o]=i}const i=applyDCT(e,this.size);let n=0;for(let o=0;o<this.smallerSize;o++)for(let t=0;t<this.smallerSize;t++)n+=i[o][t];const r=n/(this.smallerSize*this.smallerSize);let a="";for(let o=0;o<this.smallerSize;o++)for(let t=0;t<this.smallerSize;t++)a+=i[o][t]>r?"1":"0";return a}}function intToRGBA(t){const e=255&t,i=255&(t>>>=8),n=255&(t>>>=8);return{r:255&(t>>>=8),g:n,b:i,a:e}}const c$1=[];function initCoefficients(t){for(let e=1;e<t;e++)c$1[e]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(t,e){const i=e,n=[];for(let r=0;r<i;r++){const e=[];for(let a=0;a<i;a++){let o=0;for(let e=0;e<i;e++)for(let n=0;n<i;n++)o+=Math.cos((2*e+1)/(2*i)*r*Math.PI)*Math.cos((2*n+1)/(2*i)*a*Math.PI)*t[e][n];o*=c$1[r]*c$1[a]/4,e[a]=o,n[r]=e}}return n}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const t=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(t.length)}const methods$5={pHash:t=>(new ImagePHash).getHash(t),hash(t,e=64){if(e<2||e>64)throw new Error("base must be a number between 2 and 64");const i=alphabet.slice(0,e),n=this.pHash(t),r=maxHashLength[e];return anyBase$1(anyBase$1.BIN,i)(n).padStart(r,"0")},distanceFromHash(t,e){const i=new ImagePHash,n=i.getHash(t);return i.distance(n,e)}};function distance(t,e){const i=new ImagePHash,n=i.getHash(t),r=i.getHash(e);return i.distance(n,r)}function compareHashes(t,e){return(new ImagePHash).distance(t,e)}const MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(t,e){let i,n,r;MaskOptionsSchema.parse(e),"bitmap"in e?(i=e,n=0,r=0):(i=e.src,n=e.x??0,r=e.y??0),n=Math.round(n),r=Math.round(r);const a=t.bitmap.width,o=t.bitmap.height;return i.scan((function(e,s,l){const u=n+e,c=r+s;if(u>=0&&c>=0&&u<a&&c<o){const e=t.getPixelIndex(u,c),{data:n}=i.bitmap,r=(n[l+0]+n[l+1]+n[l+2])/3;t.bitmap.data[e+3]*=r/255}})),t}};function measureText(t,e){let i=0;for(let n=0;n<e.length;n++){const r=e[n],a=t.chars[r];if(a){const o=t.kernings[r],s=e[n+1],l=o&&s&&o[s]&&o[s]||0;i+=(a.xadvance||0)+l}}return i}function splitLines(t,e,i){const n=e.replace(/[\r\n]+/g," \n").split(" "),r=[];let a=[],o=0;return n.forEach((e=>{if(measureText(t,e+(n.length>1?" ":""))>i){const n=e[Symbol.iterator]();let o="";for(const e of n){const n=[...a,o+e].join(" "),s=measureText(t,n);s<i?o+=e:s>i?(r.push([...a,o]),a=[],o=e):(r.push([...a,o+e]),a=[],o="")}return}const s=[...a,e].join(" "),l=measureText(t,s);l<=i&&!e.includes("\n")?(l>o&&(o=l),a.push(e)):(r.push(a),a=[e.replace("\n","")])})),r.push(a),{lines:r,longestLine:o}}function measureTextHeight(t,e,i){const{lines:n}=splitLines(t,e,i);return n.length*t.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(t,e,i,n){return n===HorizontalAlign.LEFT?0:n===HorizontalAlign.CENTER?(i-measureText(t,e))/2:i-measureText(t,e)}function drawCharacter(t,e,i,n,r){if(r.width>0&&r.height>0){const a=e.pages[r.page];a&&(t=methods$h.blit(t,{src:a,x:i+r.xoffset,y:n+r.yoffset,srcX:r.x,srcY:r.y,srcW:r.width,srcH:r.height}))}return t}function printText(t,e,i,n,r,a){for(let o=0;o<r.length;o++){const s=r[o];let l;l=e.chars[s]?s:/\s/.test(s)?"":"?";const u=e.chars[l]||{xadvance:void 0},c=e.kernings[l];u&&drawCharacter(t,e,i,n,u);const d=r[o+1];i+=(c&&d&&c[d]&&c[d]||0)+(u.xadvance||a)}}const methods$3={print(t,{font:e,...i}){let n,r,{x:a,y:o,text:s,maxWidth:l=1/0,maxHeight:u=1/0,cb:c=()=>{}}=PrintOptionsSchema.parse(i);"object"==typeof s&&null!==s.text&&void 0!==s.text?(n=s.alignmentX||HorizontalAlign.LEFT,r=s.alignmentY||VerticalAlign.TOP,({text:s}=s)):(n=HorizontalAlign.LEFT,r=VerticalAlign.TOP,s=s.toString()),"number"==typeof s&&(s=s.toString()),u!==1/0&&r===VerticalAlign.BOTTOM?o+=u-measureTextHeight(e,s,l):u!==1/0&&r===VerticalAlign.MIDDLE&&(o+=u/2-measureTextHeight(e,s,l)/2);const d=Object.entries(e.chars).find((t=>t[1].xadvance))?.[1].xadvance;if("number"!=typeof d)throw new Error("Could not find default character width");const{lines:h,longestLine:f}=splitLines(e,s,l);return h.forEach((i=>{const r=i.join(" "),s=xOffsetBasedOnAlignment(e,r,l,n);printText(t,e,a+s,o,r,d),o+=e.common.lineHeight})),c.bind(t)({x:a+f,y:o}),t}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(t){return function(e,i){return i*t+e<<2}}function matrixRotate(t,e){if(Math.abs(e)%90!=0)throw new Error("Unsupported matrix rotation degree");const i=t.bitmap.width,n=t.bitmap.height;let r;switch(e){case 90:case-270:r=90;break;case 180:case-180:r=180;break;case 270:case-90:r=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const a=180===r?i:n,o=180===r?n:i,s=Buffer.alloc(t.bitmap.data.length),l=createIdxTranslationFunction(i),u=createIdxTranslationFunction(a);for(let c=0;c<i;c++)for(let e=0;e<n;e++){const a=l(c,e),o=t.bitmap.data.readUInt32BE(a);let d;switch(r){case 90:d=u(e,i-c-1);break;case-90:d=u(n-e-1,c);break;case 180:d=u(i-c-1,n-e-1);break;default:throw new Error("Unsupported matrix rotation angle")}s.writeUInt32BE(o,d)}t.bitmap.data=s,t.bitmap.width=a,t.bitmap.height=o}function createTranslationFunction(t,e){return function(i,n){return{x:i+t,y:n+e}}}function advancedRotate(t,e,i){const n=e*Math.PI/180,r=Math.cos(n),a=Math.sin(n);let o=t.bitmap.width,s=t.bitmap.height;if(!0===i||"string"==typeof i){o=Math.ceil(Math.abs(t.bitmap.width*r)+Math.abs(t.bitmap.height*a))+1,s=Math.ceil(Math.abs(t.bitmap.width*a)+Math.abs(t.bitmap.height*r))+1,o%2!=0&&o++,s%2!=0&&s++;const e=clone(t);t.scan(((e,i,n)=>{t.bitmap.data.writeUInt32BE(t.background,n)}));const n=Math.max(o,s,t.bitmap.width,t.bitmap.height);t=composite(t=methods$d.resize(t,{h:n,w:n,mode:!0===i?void 0:i}),e,t.bitmap.width/2-e.bitmap.width/2,t.bitmap.height/2-e.bitmap.height/2)}const l=t.bitmap.width,u=t.bitmap.height,c=Buffer.alloc(t.bitmap.data.length),d=createTranslationFunction(-l/2,-u/2),h=createTranslationFunction(l/2+.5,u/2+.5);for(let f=1;f<=u;f++)for(let e=1;e<=l;e++){const i=d(e,f),n=h(r*i.x-a*i.y,r*i.y+a*i.x),o=l*(f-1)+e-1<<2;if(n.x>=0&&n.x<l&&n.y>=0&&n.y<u){const e=l*(0|n.y)+n.x<<2,i=t.bitmap.data.readUInt32BE(e);c.writeUInt32BE(i,o)}else c.writeUInt32BE(t.background,o)}if(t.bitmap.data=c,!0===i||"string"==typeof i){const e=Math.max(l/2-o/2,0),i=Math.max(u/2-s/2,0);t=methods$b.crop(t,{x:e,y:i,w:o,h:s})}}const methods$2={rotate(t,e){const i=RotateOptionsSchema.parse(e),n="number"==typeof i?{deg:i}:i,{mode:r=!0}=n;let{deg:a}=n;return a%=360,a%360==0||(a%90!=0||!r&&t.bitmap.width!==t.bitmap.height&&a%180!=0?advancedRotate(t,a,r):matrixRotate(t,a)),t}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(t,e){let{max:i,replace:n=255,autoGreyscale:r=!0}=ThresholdOptionsSchema.parse(e);return i=limit255(i),n=limit255(n),r&&methods$e.greyscale(t),t.scan(((e,r,a)=>{const o=t.bitmap.data[a]<i?t.bitmap.data[a]:n;t.bitmap.data[a]=o,t.bitmap.data[a+1]=o,t.bitmap.data[a+2]=o})),t}};var __defProp=Object.defineProperty,__defNormalProp=(t,e,i)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__export=(t,e)=>{for(var i in e)__defProp(t,i,{get:e[i],enumerable:!0})},__publicField=(t,e,i)=>(__defNormalProp(t,"symbol"!=typeof e?e+"":e,i),i),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(t=>(t[t.RED=.2126]="RED",t[t.GREEN=.7152]="GREEN",t[t.BLUE=.0722]="BLUE",t[t.WHITE=1]="WHITE",t))(Y||{}),x$1=(t=>(t[t.RED=.64]="RED",t[t.GREEN=.3]="GREEN",t[t.BLUE=.15]="BLUE",t[t.WHITE=.3127]="WHITE",t))(x$1||{}),y$1=(t=>(t[t.RED=.33]="RED",t[t.GREEN=.6]="GREEN",t[t.BLUE=.06]="BLUE",t[t.WHITE=.329]="WHITE",t))(y$1||{}),conversion_exports={};function correctGamma(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function rgb2xyz(t,e,i){return{x:.4124*(t=correctGamma(t/255))+.3576*(e=correctGamma(e/255))+.1805*(i=correctGamma(i/255)),y:.2126*t+.7152*e+.0722*i,z:.0193*t+.1192*e+.9505*i}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(t){return t*(Math.PI/180)}function max3(t,e,i){let n=t;return n<e&&(n=e),n<i&&(n=i),n}function min3(t,e,i){let n=t;return n>e&&(n=e),n>i&&(n=i),n}function intInRange(t,e,i){return t>i&&(t=i),t<e&&(t=e),0|t}function inRange0to255Rounded(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t}function inRange0to255(t){return t>255?t=255:t<0&&(t=0),t}function stableSort(t,e){const i=typeof t[0];let n;if("number"===i||"string"===i){const i=Object.create(null);for(let e=0,n=t.length;e<n;e++){const n=t[e];i[n]||0===i[n]||(i[n]=e)}n=t.sort(((t,n)=>e(t,n)||i[t]-i[n]))}else{const i=t.slice(0);n=t.sort(((t,n)=>e(t,n)||i.indexOf(t)-i.indexOf(n)))}return n}function rgb2hsl(t,e,i){const n=min3(t,e,i),r=max3(t,e,i),a=r-n,o=(n+r)/510;let s=0;o>0&&o<1&&(s=a/(o<.5?r+n:510-r-n));let l=0;return a>0&&(l=r===t?(e-i)/a:r===e?2+(i-t)/a:4+(t-e)/a,l*=60,l<0&&(l+=360)),{h:l,s:s,l:o}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(t){return t>.008856?t**(1/3):7.787*t+16/116}function xyz2lab(t,e,i){if(t=pivot(t/refX),e=pivot(e/refY),i=pivot(i/refZ),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-i)}}function rgb2lab(t,e,i){const n=rgb2xyz(t,e,i);return xyz2lab(n.x,n.y,n.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(t){return t>.206893034?t**3:(t-16/116)/7.787}function lab2xyz(t,e,i){const n=(t+16)/116,r=n-i/200;return{x:refX2*pivot2(e/500+n),y:refY2*pivot2(n),z:refZ2*pivot2(r)}}function correctGamma2(t){return t>.0031308?1.055*t**(1/2.4)-.055:12.92*t}function xyz2rgb(t,e,i){const n=correctGamma2(3.2406*t+-1.5372*e+-.4986*i),r=correctGamma2(-.9689*t+1.8758*e+.0415*i),a=correctGamma2(.0557*t+-.204*e+1.057*i);return{r:inRange0to255Rounded(255*n),g:inRange0to255Rounded(255*r),b:inRange0to255Rounded(255*a)}}function lab2rgb(t,e,i){const n=lab2xyz(t,e,i);return xyz2rgb(n.x,n.y,n.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(t,e,i,n){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:i>0?255/i:0,a:n>0?255/n:0},this._maxDistance=this.calculateRaw(t,e,i,n,0,0,0,0)}calculateNormalized(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(t,e,i,n,r,a,o,s){const l=rgb2lab(inRange0to255(t*this._whitePoint.r),inRange0to255(e*this._whitePoint.g),inRange0to255(i*this._whitePoint.b)),u=rgb2lab(inRange0to255(r*this._whitePoint.r),inRange0to255(a*this._whitePoint.g),inRange0to255(o*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,h=l.b-u.b,f=Math.sqrt(l.a*l.a+l.b*l.b),p=f-Math.sqrt(u.a*u.a+u.b*u.b);let m=d*d+h*h-p*p;m=m<0?0:Math.sqrt(m);const b=(s-n)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*f))**2+(m/(1+this._K2*f))**2+b**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(t,e){const i=Math.atan2(t,e);return i>=0?i:i+_CIEDE2000._deg360InRad}static _calculateRT(t,e){const i=e**7,n=2*Math.sqrt(i/(i+_CIEDE2000._pow25to7)),r=_CIEDE2000._deg30InRad*Math.exp(-(((t-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*r)*n}static _calculateT(t){return 1-.17*Math.cos(t-_CIEDE2000._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+_CIEDE2000._deg6InRad)-.2*Math.cos(4*t-_CIEDE2000._deg63InRad)}static _calculate_ahp(t,e,i,n){const r=i+n;return 0===t?r:e<=_CIEDE2000._deg180InRad?r/2:r<_CIEDE2000._deg360InRad?(r+_CIEDE2000._deg360InRad)/2:(r-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(t,e,i,n){let r;return r=0===t?0:e<=_CIEDE2000._deg180InRad?i-n:i<=n?i-n+_CIEDE2000._deg360InRad:i-n-_CIEDE2000._deg360InRad,2*Math.sqrt(t)*Math.sin(r/2)}calculateRaw(t,e,i,n,r,a,o,s){const l=rgb2lab(inRange0to255(t*this._whitePoint.r),inRange0to255(e*this._whitePoint.g),inRange0to255(i*this._whitePoint.b)),u=rgb2lab(inRange0to255(r*this._whitePoint.r),inRange0to255(a*this._whitePoint.g),inRange0to255(o*this._whitePoint.b)),c=(s-n)*this._whitePoint.a*_CIEDE2000._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(t,e){const i=t.L,n=t.a,r=t.b,a=e.L,o=e.a,s=e.b,l=((Math.sqrt(n*n+r*r)+Math.sqrt(o*o+s*s))/2)**7,u=.5*(1-Math.sqrt(l/(l+_CIEDE2000._pow25to7))),c=(1+u)*n,d=(1+u)*o,h=Math.sqrt(c*c+r*r),f=Math.sqrt(d*d+s*s),p=h*f,m=_CIEDE2000._calculatehp(r,c),b=_CIEDE2000._calculatehp(s,d),g=Math.abs(m-b),y=a-i,Z=f-h,_=_CIEDE2000._calculate_dHp(p,g,b,m),v=_CIEDE2000._calculate_ahp(p,g,m,b),w=(h+f)/2,S=((i+a)/2-50)**2,x=Z/(1+.045*w),I=_/(1+.015*_CIEDE2000._calculateT(v)*w);return(y/(1+.015*S/Math.sqrt(20+S)))**2+x**2+I**2+_CIEDE2000._calculateRT(v,w)*x*I}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(t,e,i,n,r,a,o,s){const l=(t+r)/2*this._whitePoint.r,u=(t-r)*this._whitePoint.r,c=(e-a)*this._whitePoint.g,d=(i-o)*this._whitePoint.b,h=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),f=(s-n)*this._whitePoint.a;return Math.sqrt(h+f*f)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(t,e,i,n,r,a,o,s){const l=r-t,u=a-e,c=o-i,d=s-n;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(t,e,i,n,r,a,o,s){let l=r-t,u=a-e,c=o-i,d=s-n;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(t,e,i,n,r,a,o,s){const l=(s-n)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,r*this._whitePoint.r,l)+this._colordifferenceCh(e*this._whitePoint.g,a*this._whitePoint.g,l)+this._colordifferenceCh(i*this._whitePoint.b,o*this._whitePoint.b,l)}_colordifferenceCh(t,e,i){const n=t-e,r=n+i;return n*n+r*r}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const t of this.quantize())if(t.palette)return t.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(t){const e=new Point;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e}static createByRGBA(t,e,i,n){const r=new Point;return r.r=0|t,r.g=0|e,r.b=0|i,r.a=0|n,r._loadUINT32(),r._loadQuadruplet(),r}static createByUint32(t){const e=new Point;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e}from(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a}getLuminosity(t){let e=this.r,i=this.g,n=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),i=Math.min(255,255-this.a+this.a*i/255),n=Math.min(255,255-this.a+this.a*n/255)),.2126*e+.7152*i+.0722*n}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}getPointArray(){return this._pointArray}clone(){const t=new PointContainer;t._width=this._width,t._height=this._height;for(let e=0,i=this._pointArray.length;e<i;e++)t._pointArray[e]=Point.createByUint32(0|this._pointArray[e].uint32);return t}toUint32Array(){const t=this._pointArray.length,e=new Uint32Array(t);for(let i=0;i<t;i++)e[i]=this._pointArray[i].uint32;return e}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(t){const e=t.naturalWidth,i=t.naturalHeight,n=document.createElement("canvas");return n.width=e,n.height=i,n.getContext("2d").drawImage(t,0,0,e,i,0,0,e,i),PointContainer.fromHTMLCanvasElement(n)}static fromHTMLCanvasElement(t){const e=t.width,i=t.height,n=t.getContext("2d").getImageData(0,0,e,i);return PointContainer.fromImageData(n)}static fromImageData(t){const e=t.width,i=t.height;return PointContainer.fromUint8Array(t.data,e,i)}static fromUint8Array(t,e,i){switch(Object.prototype.toString.call(t)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:t=new Uint8Array(t)}const n=new Uint32Array(t.buffer);return PointContainer.fromUint32Array(n,e,i)}static fromUint32Array(t,e,i){const n=new PointContainer;n._width=e,n._height=i;for(let r=0,a=t.length;r<a;r++)n._pointArray[r]=Point.createByUint32(0|t[r]);return n}static fromBuffer(t,e,i){const n=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(n,e,i)}},hueGroups=10;function hueGroup(t,e){const i=360/e;for(let n=1,r=i-i/2;n<e;n++,r+=i)if(t>=r&&t<r+i)return n;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)}has(t){for(let e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1}getNearestColor(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1}_getNearestIndex(t,e){let i=this._nearestPointFromCache(""+e.uint32);if(i>=0)return i;let n=Number.MAX_VALUE;i=0;for(let r=0,a=this._pointArray.length;r<a;r++){const a=this._pointArray[r],o=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);o<n&&(n=o,i=r)}return this._i32idx[e.uint32]=i,i}sort(){this._i32idx={},this._pointArray.sort(((t,e)=>{const i=rgb2hsl(t.r,t.g,t.b),n=rgb2hsl(e.r,e.g,e.b),r=t.r===t.g&&t.g===t.b?0:1+hueGroup(i.h,hueGroups),a=(e.r===e.g&&e.g===e.b?0:1+hueGroup(n.h,hueGroups))-r;if(a)return-a;const o=t.getLuminosity(!0),s=e.getLuminosity(!0);if(s-o!=0)return s-o;const l=(100*n.s|0)-(100*i.s|0);return l?-l:0}))}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(t,e){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=t,this._minCols=e,this._stats=[];for(let i=0;i<=t;i++)this._stats[i]=new HueGroup;this._groupsFull=0}check(t){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const e=255&t,i=t>>>8&255,n=t>>>16&255,r=e===i&&i===n?0:1+hueGroup(rgb2hsl(e,i,n).h,this._numGroups),a=this._stats[r],o=this._minCols;a.num++,a.num>o||(a.num===o&&this._groupsFull++,a.num<=o&&this._stats[r].cols.push(t))}injectIntoDictionary(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((e=>{t[e]?t[e]++:t[e]=1}))}injectIntoArray(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((e=>{-1===t.indexOf(e)&&t.push(e)}))}},_ProgressTracker=class{constructor(t,e){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(t){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(t,e,i,n){this.r-=0|t,this.g-=0|e,this.b-=0|i,this.a-=0|n}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(t,e=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new Neuron((t<<networkBiasShift+8)/this._networkSize|0),this._freq[t]=_NeuQuant._initialBias/this._networkSize|0,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<_NeuQuant._minpicturebytes&&(t=1);const i=30+(t-1)/3|0,n=e/t|0;let r,a=n/_NeuQuant._nCycles|0,o=_NeuQuant._initAlpha,s=(this._networkSize>>3)*_NeuQuant._radiusBias,l=s>>_NeuQuant._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=o*((l*l-c*c)*_NeuQuant._radBias/(l*l))>>>0;r=e<_NeuQuant._minpicturebytes?1:e%_NeuQuant._prime1!=0?_NeuQuant._prime1:e%_NeuQuant._prime2!=0?_NeuQuant._prime2:e%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const u=new ProgressTracker(n,99);for(let c=0,d=0;c<n;){u.shouldNotify(c)&&(yield{progress:u.progress});const t=this._pointArray[d],n=t.b<<networkBiasShift,h=t.g<<networkBiasShift,f=t.r<<networkBiasShift,p=t.a<<networkBiasShift,m=this._contest(n,h,f,p);if(this._alterSingle(o,m,n,h,f,p),0!==l&&this._alterNeighbour(l,m,n,h,f,p),d+=r,d>=e&&(d-=e),c++,0===a&&(a=1),c%a==0){o-=o/i|0,s-=s/_NeuQuant._radiusDecrease|0,l=s>>_NeuQuant._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=o*((l*l-t*t)*_NeuQuant._radBias/(l*l))>>>0}}}_buildPalette(){const t=new Palette;return this._network.forEach((e=>{t.add(e.toPoint())})),t.sort(),t}_alterNeighbour(t,e,i,n,r,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let l=e+1,u=e-1,c=1;for(;l<s||u>o;){const t=this._radPower[c++]/_NeuQuant._alphaRadBias;if(l<s){const e=this._network[l++];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}if(u>o){const e=this._network[u--];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}}}_alterSingle(t,e,i,n,r,a){t/=_NeuQuant._initAlpha;const o=this._network[e];o.subtract(t*(o.r-r),t*(o.g-n),t*(o.b-i),t*(o.a-a))}_contest(t,e,i,n){const r=1020<<networkBiasShift;let a=~(1<<31),o=a,s=-1,l=s;for(let u=0;u<this._networkSize;u++){const c=this._network[u],d=this._distance.calculateNormalized(c,{r:i,g:e,b:t,a:n})*r|0;d<a&&(a=d,s=u);const h=d-(this._bias[u]>>_NeuQuant._initialBiasShift-networkBiasShift);h<o&&(o=h,l=u);const f=this._freq[u]>>_NeuQuant._betaShift;this._freq[u]-=f,this._bias[u]+=f<<_NeuQuant._gammaShift}return this._freq[s]+=_NeuQuant._beta,this._bias[s]-=_NeuQuant._betaGamma,l}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(t){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(t,e,i,n){this.r-=t,this.g-=e,this.b-=i,this.a-=n}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(t,e=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new NeuronFloat((t<<networkBiasShift2+8)/this._networkSize),this._freq[t]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<_NeuQuantFloat._minpicturebytes&&(t=1);const i=30+(t-1)/3,n=e/t;let r,a=n/_NeuQuantFloat._nCycles|0,o=_NeuQuantFloat._initAlpha,s=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,l=s>>_NeuQuantFloat._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=o*((l*l-c*c)*_NeuQuantFloat._radBias/(l*l));r=e<_NeuQuantFloat._minpicturebytes?1:e%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:e%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:e%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const u=new ProgressTracker(n,99);for(let c=0,d=0;c<n;){u.shouldNotify(c)&&(yield{progress:u.progress});const t=this._pointArray[d],n=t.b<<networkBiasShift2,h=t.g<<networkBiasShift2,f=t.r<<networkBiasShift2,p=t.a<<networkBiasShift2,m=this._contest(n,h,f,p);if(this._alterSingle(o,m,n,h,f,p),0!==l&&this._alterNeighbour(l,m,n,h,f,p),d+=r,d>=e&&(d-=e),c++,0===a&&(a=1),c%a==0){o-=o/i,s-=s/_NeuQuantFloat._radiusDecrease,l=s>>_NeuQuantFloat._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=o*((l*l-t*t)*_NeuQuantFloat._radBias/(l*l))}}}_buildPalette(){const t=new Palette;return this._network.forEach((e=>{t.add(e.toPoint())})),t.sort(),t}_alterNeighbour(t,e,i,n,r,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let l=e+1,u=e-1,c=1;for(;l<s||u>o;){const t=this._radPower[c++]/_NeuQuantFloat._alphaRadBias;if(l<s){const e=this._network[l++];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}if(u>o){const e=this._network[u--];e.subtract(t*(e.r-r),t*(e.g-n),t*(e.b-i),t*(e.a-a))}}}_alterSingle(t,e,i,n,r,a){t/=_NeuQuantFloat._initAlpha;const o=this._network[e];o.subtract(t*(o.r-r),t*(o.g-n),t*(o.b-i),t*(o.a-a))}_contest(t,e,i,n){const r=1020<<networkBiasShift2;let a=~(1<<31),o=a,s=-1,l=s;for(let u=0;u<this._networkSize;u++){const c=this._network[u],d=this._distance.calculateNormalized(c,{r:i,g:e,b:t,a:n})*r;d<a&&(a=d,s=u);const h=d-(this._bias[u]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);h<o&&(o=h,l=u);const f=this._freq[u]>>_NeuQuantFloat._betaShift;this._freq[u]-=f,this._bias[u]+=f<<_NeuQuantFloat._gammaShift}return this._freq[s]+=_NeuQuantFloat._beta,this._bias[s]-=_NeuQuantFloat._betaGamma,l}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(t,e){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}}getImportanceSortedColorsIDXI32(){const t=stableSort(Object.keys(this._histogram),((t,e)=>this._histogram[e]-this._histogram[t]));if(0===t.length)return[];let e;switch(this._method){case 1:const i=Math.min(t.length,this._initColors),n=t[i-1],r=this._histogram[n];e=t.slice(0,i);let a=i;const o=t.length;for(;a<o&&this._histogram[t[a]]===r;)e.push(t[a++]);this._hueStats.injectIntoArray(e);break;case 2:e=t;break;default:throw new Error("Incorrect method")}return e.map((t=>+t))}_colorStats1D(t){const e=this._histogram,i=t.getPointArray(),n=i.length;for(let r=0;r<n;r++){const t=i[r].uint32;this._hueStats.check(t),t in e?e[t]++:e[t]=1}}_colorStats2D(t){const e=t.getWidth(),i=t.getHeight(),n=t.getPointArray(),r=_ColorHistogram._boxSize[0],a=_ColorHistogram._boxSize[1],o=r*a,s=this._makeBoxes(e,i,r,a),l=this._histogram;s.forEach((t=>{let i=Math.round(t.w*t.h/o)*_ColorHistogram._boxPixels;i<2&&(i=2);const r={};this._iterateBox(t,e,(t=>{const e=n[t].uint32;this._hueStats.check(e),e in l?l[e]++:e in r?++r[e]>=i&&(l[e]=r[e]):r[e]=1}))})),this._hueStats.injectIntoDictionary(l)}_iterateBox(t,e,i){const n=t,r=n.y*e+n.x,a=(n.y+n.h-1)*e+(n.x+n.w-1),o=e-n.w+1;let s=0,l=r;do{i.call(this,l),l+=++s%n.w==0?o:1}while(l<=a)}_makeBoxes(t,e,i,n){const r=t%i,a=e%n,o=t-r,s=e-a,l=[];for(let u=0;u<e;u+=n)for(let e=0;e<t;e+=i)l.push({x:e,y:u,w:e===o?r:i,h:u===s?a:n});return l}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(t,e,i){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=t,this.color=e,this.distance=i}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(t,e=256,i=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=t,this._colors=e,this._histogram=new ColorHistogram(i,e),this._initialDistance=.01,this._distanceIncrement=.005}sample(t){this._histogram.sample(t)}*quantize(){const t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw new Error("No colors in image");yield*this._buildPalette(t)}*_buildPalette(t){const e=new Palette,i=e.getPointContainer().getPointArray(),n=new Array(t.length);for(let c=0;c<t.length;c++)i.push(Point.createByUint32(t[c])),n[c]=1;const r=i.length,a=[];let o=r,s=this._initialDistance;const l=new ProgressTracker(o-this._colors,99);for(;o>this._colors;){a.length=0;for(let t=0;t<r;t++){if(l.shouldNotify(r-o)&&(yield{progress:l.progress}),0===n[t])continue;const e=i[t];for(let l=t+1;l<r;l++){if(0===n[l])continue;const t=i[l],r=this._distance.calculateNormalized(e,t);r<s&&(a.push(new RemovedColor(l,t,r)),n[l]=0,o--)}}s+=o>3*this._colors?this._initialDistance:this._distanceIncrement}if(o<this._colors){stableSort(a,((t,e)=>e.distance-t.distance));let t=0;for(;o<this._colors&&t<a.length;)n[a[t].index]=1,o++,t++}let u=i.length;for(let c=u-1;c>=0;c--)0===n[c]&&(c!==u-1&&(i[c]=i[u-1]),--u);i.length=u,e.sort(),yield{palette:e,progress:100}}};function createArray1D(t){const e=[];for(let i=0;i<t;i++)e[i]=0;return e}function createArray4D(t,e,i,n){const r=new Array(t);for(let a=0;a<t;a++){r[a]=new Array(e);for(let t=0;t<e;t++){r[a][t]=new Array(i);for(let e=0;e<i;e++){r[a][t][e]=new Array(n);for(let i=0;i<n;i++)r[a][t][e][i]=0}}}return r}function createArray3D(t,e,i){const n=new Array(t);for(let r=0;r<t;r++){n[r]=new Array(e);for(let t=0;t<e;t++){n[r][t]=new Array(i);for(let e=0;e<i;e++)n[r][t][e]=0}}return n}function fillArray3D(t,e,i,n,r){for(let a=0;a<e;a++){t[a]=[];for(let e=0;e<i;e++){t[a][e]=[];for(let i=0;i<n;i++)t[a][e][i]=r}}}function fillArray1D(t,e,i){for(let n=0;n<e;n++)t[n]=i}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(t,e=256,i=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=t,this._setQuality(i),this._initialize(e)}sample(t){const e=t.getPointArray();for(let i=0,n=e.length;i<n;i++)this._addColor(e[i]);this._pixels=this._pixels.concat(e)}*quantize(){yield*this._preparePalette();const t=new Palette;for(let e=0;e<this._colors;e++)if(this._sums[e]>0){const i=this._sums[e],n=this._reds[e]/i,r=this._greens[e]/i,a=this._blues[e]/i,o=this._alphas[e]/i,s=Point.createByRGBA(0|n,0|r,0|a,0|o);t.add(s)}t.sort(),yield{palette:t,progress:100}}*_preparePalette(){yield*this._calculateMoments();let t=0;const e=createArray1D(this._colors);for(let o=1;o<this._colors;++o){this._cut(this._cubes[t],this._cubes[o])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[o]=this._cubes[o].volume>1?this._calculateVariance(this._cubes[o]):0):(e[t]=0,o--),t=0;let i=e[0];for(let n=1;n<=o;++n)e[n]>i&&(i=e[n],t=n);if(i<=0){this._colors=o+1;break}}const i=[],n=[],r=[],a=[];for(let o=0;o<this._colors;++o){const t=_WuQuant._volume(this._cubes[o],this._weights);t>0?(i[o]=_WuQuant._volume(this._cubes[o],this._momentsRed)/t|0,n[o]=_WuQuant._volume(this._cubes[o],this._momentsGreen)/t|0,r[o]=_WuQuant._volume(this._cubes[o],this._momentsBlue)/t|0,a[o]=_WuQuant._volume(this._cubes[o],this._momentsAlpha)/t|0):(i[o]=0,n[o]=0,r[o]=0,a[o]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let o=0,s=this._pixels.length;o<s;o++){const t=this._pixels[o];let e=-1,s=Number.MAX_VALUE;for(let o=0;o<this._colors;o++){const l=i[o],u=n[o],c=r[o],d=a[o],h=this._distance.calculateRaw(l,u,c,d,t.r,t.g,t.b,t.a);h<s&&(s=h,e=o)}this._reds[e]+=t.r,this._greens[e]+=t.g,this._blues[e]+=t.b,this._alphas[e]+=t.a,this._sums[e]++}}_addColor(t){const e=8-this._significantBitsPerChannel,i=1+(t.r>>e),n=1+(t.g>>e),r=1+(t.b>>e),a=1+(t.a>>e);this._weights[a][i][n][r]++,this._momentsRed[a][i][n][r]+=t.r,this._momentsGreen[a][i][n][r]+=t.g,this._momentsBlue[a][i][n][r]+=t.b,this._momentsAlpha[a][i][n][r]+=t.a,this._moments[a][i][n][r]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]}*_calculateMoments(){const t=[],e=[],i=[],n=[],r=[],a=[],o=createArray3D(this._sideSize,this._sideSize,this._sideSize),s=createArray3D(this._sideSize,this._sideSize,this._sideSize),l=createArray3D(this._sideSize,this._sideSize,this._sideSize),u=createArray3D(this._sideSize,this._sideSize,this._sideSize),c=createArray3D(this._sideSize,this._sideSize,this._sideSize),d=createArray3D(this._sideSize,this._sideSize,this._sideSize);let h=0;const f=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){fillArray3D(o,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(s,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(l,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(u,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(c,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){f.shouldNotify(h)&&(yield{progress:f.progress}),fillArray1D(t,this._sideSize,0),fillArray1D(e,this._sideSize,0),fillArray1D(i,this._sideSize,0),fillArray1D(n,this._sideSize,0),fillArray1D(r,this._sideSize,0),fillArray1D(a,this._sideSize,0);for(let h=1;h<=this._maxSideIndex;++h){let f=0,b=0,g=0,y=0,Z=0,_=0;for(let v=1;v<=this._maxSideIndex;++v)f+=this._weights[p][m][h][v],b+=this._momentsRed[p][m][h][v],g+=this._momentsGreen[p][m][h][v],y+=this._momentsBlue[p][m][h][v],Z+=this._momentsAlpha[p][m][h][v],_+=this._moments[p][m][h][v],t[v]+=f,e[v]+=b,i[v]+=g,n[v]+=y,r[v]+=Z,a[v]+=_,o[m][h][v]=o[m-1][h][v]+t[v],s[m][h][v]=s[m-1][h][v]+e[v],l[m][h][v]=l[m-1][h][v]+i[v],u[m][h][v]=u[m-1][h][v]+n[v],c[m][h][v]=c[m-1][h][v]+r[v],d[m][h][v]=d[m-1][h][v]+a[v],this._weights[p][m][h][v]=this._weights[p-1][m][h][v]+o[m][h][v],this._momentsRed[p][m][h][v]=this._momentsRed[p-1][m][h][v]+s[m][h][v],this._momentsGreen[p][m][h][v]=this._momentsGreen[p-1][m][h][v]+l[m][h][v],this._momentsBlue[p][m][h][v]=this._momentsBlue[p-1][m][h][v]+u[m][h][v],this._momentsAlpha[p][m][h][v]=this._momentsAlpha[p-1][m][h][v]+c[m][h][v],this._moments[p][m][h][v]=this._moments[p-1][m][h][v]+d[m][h][v]}}}}static _volumeFloat(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])}static _volume(t,e){return 0|_WuQuant._volumeFloat(t,e)}static _top(t,e,i,n){let r;switch(e){case _WuQuant._alpha:r=n[i][t.redMaximum][t.greenMaximum][t.blueMaximum]-n[i][t.redMaximum][t.greenMinimum][t.blueMaximum]-n[i][t.redMinimum][t.greenMaximum][t.blueMaximum]+n[i][t.redMinimum][t.greenMinimum][t.blueMaximum]-(n[i][t.redMaximum][t.greenMaximum][t.blueMinimum]-n[i][t.redMaximum][t.greenMinimum][t.blueMinimum]-n[i][t.redMinimum][t.greenMaximum][t.blueMinimum]+n[i][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case _WuQuant._red:r=n[t.alphaMaximum][i][t.greenMaximum][t.blueMaximum]-n[t.alphaMaximum][i][t.greenMinimum][t.blueMaximum]-n[t.alphaMinimum][i][t.greenMaximum][t.blueMaximum]+n[t.alphaMinimum][i][t.greenMinimum][t.blueMaximum]-(n[t.alphaMaximum][i][t.greenMaximum][t.blueMinimum]-n[t.alphaMaximum][i][t.greenMinimum][t.blueMinimum]-n[t.alphaMinimum][i][t.greenMaximum][t.blueMinimum]+n[t.alphaMinimum][i][t.greenMinimum][t.blueMinimum]);break;case _WuQuant._green:r=n[t.alphaMaximum][t.redMaximum][i][t.blueMaximum]-n[t.alphaMaximum][t.redMinimum][i][t.blueMaximum]-n[t.alphaMinimum][t.redMaximum][i][t.blueMaximum]+n[t.alphaMinimum][t.redMinimum][i][t.blueMaximum]-(n[t.alphaMaximum][t.redMaximum][i][t.blueMinimum]-n[t.alphaMaximum][t.redMinimum][i][t.blueMinimum]-n[t.alphaMinimum][t.redMaximum][i][t.blueMinimum]+n[t.alphaMinimum][t.redMinimum][i][t.blueMinimum]);break;case _WuQuant._blue:r=n[t.alphaMaximum][t.redMaximum][t.greenMaximum][i]-n[t.alphaMaximum][t.redMaximum][t.greenMinimum][i]-n[t.alphaMaximum][t.redMinimum][t.greenMaximum][i]+n[t.alphaMaximum][t.redMinimum][t.greenMinimum][i]-(n[t.alphaMinimum][t.redMaximum][t.greenMaximum][i]-n[t.alphaMinimum][t.redMaximum][t.greenMinimum][i]-n[t.alphaMinimum][t.redMinimum][t.greenMaximum][i]+n[t.alphaMinimum][t.redMinimum][t.greenMinimum][i]);break;default:throw new Error("impossible")}return 0|r}static _bottom(t,e,i){switch(e){case _WuQuant._alpha:return-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant._red:return-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant._green:return-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case _WuQuant._blue:return-i[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-i[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-i[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}}_calculateVariance(t){const e=_WuQuant._volume(t,this._momentsRed),i=_WuQuant._volume(t,this._momentsGreen),n=_WuQuant._volume(t,this._momentsBlue),r=_WuQuant._volume(t,this._momentsAlpha);return _WuQuant._volumeFloat(t,this._moments)-(e*e+i*i+n*n+r*r)/_WuQuant._volume(t,this._weights)}_maximize(t,e,i,n,r,a,o,s,l){const u=0|_WuQuant._bottom(t,e,this._momentsRed),c=0|_WuQuant._bottom(t,e,this._momentsGreen),d=0|_WuQuant._bottom(t,e,this._momentsBlue),h=0|_WuQuant._bottom(t,e,this._momentsAlpha),f=0|_WuQuant._bottom(t,e,this._weights);let p=0,m=-1;for(let b=i;b<n;++b){let i=u+_WuQuant._top(t,e,b,this._momentsRed),n=c+_WuQuant._top(t,e,b,this._momentsGreen),g=d+_WuQuant._top(t,e,b,this._momentsBlue),y=h+_WuQuant._top(t,e,b,this._momentsAlpha),Z=f+_WuQuant._top(t,e,b,this._weights);if(0!==Z){let t=i*i+n*n+g*g+y*y,e=t/Z;i=r-i,n=a-n,g=o-g,y=s-y,Z=l-Z,0!==Z&&(t=i*i+n*n+g*g+y*y,e+=t/Z,e>p&&(p=e,m=b))}}return{max:p,position:m}}_cut(t,e){let i;const n=_WuQuant._volume(t,this._momentsRed),r=_WuQuant._volume(t,this._momentsGreen),a=_WuQuant._volume(t,this._momentsBlue),o=_WuQuant._volume(t,this._momentsAlpha),s=_WuQuant._volume(t,this._weights),l=this._maximize(t,_WuQuant._red,t.redMinimum+1,t.redMaximum,n,r,a,o,s),u=this._maximize(t,_WuQuant._green,t.greenMinimum+1,t.greenMaximum,n,r,a,o,s),c=this._maximize(t,_WuQuant._blue,t.blueMinimum+1,t.blueMaximum,n,r,a,o,s),d=this._maximize(t,_WuQuant._alpha,t.alphaMinimum+1,t.alphaMaximum,n,r,a,o,s);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(i=_WuQuant._alpha,d.position<0)return!1}else i=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?_WuQuant._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?_WuQuant._green:_WuQuant._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,i){case _WuQuant._red:e.redMinimum=t.redMaximum=l.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant._green:e.greenMinimum=t.greenMaximum=u.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant._blue:e.blueMinimum=t.blueMaximum=c.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case _WuQuant._alpha:e.alphaMinimum=t.alphaMaximum=d.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0}_initialize(t){this._colors=t,this._cubes=[];for(let e=0;e<t;e++)this._cubes[e]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]}_setQuality(t=5){this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(t,e){for(const i of this.quantize(t,e))if(i.pointContainer)return i.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(t){super(),__publicField(this,"_distance"),this._distance=t}*quantize(t,e){const i=t.getPointArray(),n=t.getWidth(),r=t.getHeight(),a=new ProgressTracker(r,99);for(let o=0;o<r;o++){a.shouldNotify(o)&&(yield{progress:a.progress});for(let t=0,r=o*n;t<n;t++,r++){const t=i[r];t.from(e.getNearestColor(this._distance,t))}}yield{pointContainer:t,progress:100}}},ErrorDiffusionArrayKernel=(t=>(t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite",t))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(t,e,i=!0,n=0,r=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(e),this._distance=t,this._minColorDistance=n,this._serpentine=i,this._calculateErrorLikeGIMP=r}*quantize(t,e){const i=t.getPointArray(),n=new Point,r=t.getWidth(),a=t.getHeight(),o=[];let s=1,l=1;for(const c of this._kernel){const t=c[2]+1;l<t&&(l=t)}for(let c=0;c<l;c++)this._fillErrorLine(o[c]=[],r);const u=new ProgressTracker(a,99);for(let c=0;c<a;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(s*=-1);const t=c*r,l=1===s?0:r-1,d=1===s?r:-1;this._fillErrorLine(o[0],r),o.push(o.shift());const h=o[0];for(let u=l,f=t+l;u!==d;u+=s,f+=s){const t=i[f],l=h[u];n.from(t);const d=Point.createByRGBA(inRange0to255Rounded(t.r+l[0]),inRange0to255Rounded(t.g+l[1]),inRange0to255Rounded(t.b+l[2]),inRange0to255Rounded(t.a+l[3])),p=e.getNearestColor(this._distance,d);if(t.from(p),this._minColorDistance&&this._distance.calculateNormalized(n,p)<this._minColorDistance)continue;let m,b,g,y;this._calculateErrorLikeGIMP?(m=d.r-p.r,b=d.g-p.g,g=d.b-p.b,y=d.a-p.a):(m=n.r-p.r,b=n.g-p.g,g=n.b-p.b,y=n.a-p.a);const Z=1===s?0:this._kernel.length-1,_=1===s?this._kernel.length:-1;for(let e=Z;e!==_;e+=s){const t=this._kernel[e][1]*s,i=this._kernel[e][2];if(t+u>=0&&t+u<r&&i+c>=0&&i+c<a){const n=this._kernel[e][0],r=o[i][t+u];r[0]+=m*n,r[1]+=b*n,r[2]+=g*n,r[3]+=y*n}}}}yield{pointContainer:t,progress:100}}_fillErrorLine(t,e){t.length>e&&(t.length=e);const i=t.length;for(let n=0;n<i;n++){const e=t[n];e[0]=e[1]=e[2]=e[3]=0}for(let n=i;n<e;n++)t[n]=[0,0,0,0]}_setKernel(t){switch(t){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${t}`)}}};function*hilbertCurve(t,e,i){const n=Math.max(t,e),r={width:t,height:e,level:Math.floor(Math.log(n)/Math.log(2)+1),callback:i,tracker:new ProgressTracker(t*e,99),index:0,x:0,y:0};yield*walkHilbert(r,1),visit(r,0)}function*walkHilbert(t,e){if(!(t.level<1)){switch(t.tracker.shouldNotify(t.index)&&(yield{progress:t.tracker.progress}),t.level--,e){case 2:yield*walkHilbert(t,1),visit(t,3),yield*walkHilbert(t,2),visit(t,4),yield*walkHilbert(t,2),visit(t,2),yield*walkHilbert(t,4);break;case 3:yield*walkHilbert(t,4),visit(t,2),yield*walkHilbert(t,3),visit(t,1),yield*walkHilbert(t,3),visit(t,3),yield*walkHilbert(t,1);break;case 1:yield*walkHilbert(t,2),visit(t,4),yield*walkHilbert(t,1),visit(t,3),yield*walkHilbert(t,1),visit(t,1),yield*walkHilbert(t,3);break;case 4:yield*walkHilbert(t,3),visit(t,1),yield*walkHilbert(t,4),visit(t,2),yield*walkHilbert(t,4),visit(t,4),yield*walkHilbert(t,2)}t.level++}}function visit(t,e){switch(t.x>=0&&t.x<t.width&&t.y>=0&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case 2:t.x--;break;case 3:t.x++;break;case 1:t.y--;break;case 4:t.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(t,e=16,i=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=t,this._errorQueueSize=e,this._weights=ErrorDiffusionRiemersma._createWeights(i,e)}*quantize(t,e){const i=t.getPointArray(),n=t.getWidth(),r=t.getHeight(),a=[];let o=0;for(let s=0;s<this._errorQueueSize;s++)a[s]={r:0,g:0,b:0,a:0};yield*hilbertCurve(n,r,((t,r)=>{const s=i[t+r*n];let{r:l,g:u,b:c,a:d}=s;for(let e=0;e<this._errorQueueSize;e++){const t=this._weights[e],i=a[(e+o)%this._errorQueueSize];l+=i.r*t,u+=i.g*t,c+=i.b*t,d+=i.a*t}const h=Point.createByRGBA(inRange0to255Rounded(l),inRange0to255Rounded(u),inRange0to255Rounded(c),inRange0to255Rounded(d)),f=e.getNearestColor(this._distance,h);o=(o+1)%this._errorQueueSize;const p=(o+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=s.r-f.r,a[p].g=s.g-f.g,a[p].b=s.b-f.b,a[p].a=s.a-f.a,s.from(f)})),yield{pointContainer:t,progress:100}}static _createWeights(t,e){const i=[],n=Math.exp(Math.log(e)/(e-1));for(let r=0,a=1;r<e;r++)i[r]=(a+.5|0)/e*t,a*=n;return i}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error("Images have different sizes!");const i=(255*K1)**2,n=(255*K2)**2;let r=0,a=0;return iterate(t,e,((t,e,o,s)=>{let l=0,u=0,c=0;for(let i=0;i<t.length;i++)u+=(t[i]-o)**2,c+=(e[i]-s)**2,l+=(t[i]-o)*(e[i]-s);const d=t.length-1;u/=d,c/=d,l/=d,a+=(2*o*s+i)*(2*l+n)/((o**2+s**2+i)*(u+c+n)),r++})),a/r}function iterate(t,e,i){const n=t.getWidth(),r=t.getHeight();for(let a=0;a<r;a+=8)for(let o=0;o<n;o+=8){const s=Math.min(8,n-o),l=Math.min(8,r-a),u=calculateLumaValuesForWindow(t,o,a,s,l),c=calculateLumaValuesForWindow(e,o,a,s,l);i(u,c,calculateAverageLuma(u),calculateAverageLuma(c))}}function calculateLumaValuesForWindow(t,e,i,n,r){const a=t.getPointArray(),o=[];let s=0;for(let l=i;l<i+r;l++){const i=l*t.getWidth();for(let t=e;t<e+n;t++){const e=a[i+t];o[s]=.2126*e.r+.7152*e.g+.0722*e.b,s++}}return o}function calculateAverageLuma(t){let e=0;for(const i of t)e+=i;return e/t.length}function buildPaletteSync(t,{colorDistanceFormula:e,paletteQuantization:i,colors:n}={}){const r=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(e),i,n);return t.forEach((t=>r.sample(t))),r.quantizeSync()}function applyPaletteSync(t,e,{colorDistanceFormula:i,imageQuantization:n}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(i),n).quantizeSync(t,e)}function colorDistanceFormulaToColorDistance(t="euclidean-bt709"){switch(t){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${t}`)}}function imageQuantizationToImageQuantizer(t,e="floyd-steinberg"){switch(e){case"nearest":return new NearestColor(t);case"riemersma":return new ErrorDiffusionRiemersma(t);case"floyd-steinberg":return new ErrorDiffusionArray(t,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(t,1);case"stucki":return new ErrorDiffusionArray(t,2);case"atkinson":return new ErrorDiffusionArray(t,3);case"jarvis":return new ErrorDiffusionArray(t,4);case"burkes":return new ErrorDiffusionArray(t,5);case"sierra":return new ErrorDiffusionArray(t,6);case"two-sierra":return new ErrorDiffusionArray(t,7);case"sierra-lite":return new ErrorDiffusionArray(t,8);default:throw new Error(`Unknown imageQuantization ${e}`)}}function paletteQuantizationToPaletteQuantizer(t,e="wuquant",i=256){switch(e){case"neuquant":return new NeuQuant(t,i);case"rgbquant":return new RGBQuant(t,i);case"wuquant":return new WuQuant(t,i);case"neuquant-float":return new NeuQuantFloat(t,i);default:throw new Error(`Unknown paletteQuantization ${e}`)}}"function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&(null==process||process.nextTick);const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods={quantize(t,e){const{colors:i,colorDistanceFormula:n,paletteQuantization:r,imageQuantization:a}=QuantizeOptionsSchema.parse(e),o=utils_exports.PointContainer.fromUint8Array(t.bitmap.data,t.bitmap.width,t.bitmap.height),s=applyPaletteSync(o,buildPaletteSync([o],{colors:i,colorDistanceFormula:n,paletteQuantization:r}),{colorDistanceFormula:n,imageQuantization:a});return t.bitmap.data=Buffer.from(s.toUint8Array()),t}};var parseBmfontAscii=function(t){if(!t)throw new Error("no data provided");var e={pages:[],chars:[],kernings:[]},i=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===i.length)throw new Error("no data in BMFont file");for(var n=0;n<i.length;n++){var r=splitLine(i[n],n);if(r)if("page"===r.key){if("number"!=typeof r.data.id)throw new Error("malformed file at line "+n+" -- needs page id=N");if("string"!=typeof r.data.file)throw new Error("malformed file at line "+n+' -- needs page file="path"');e.pages[r.data.id]=r.data.file}else"chars"===r.key||"kernings"===r.key||("char"===r.key?e.chars.push(r.data):"kerning"===r.key?e.kernings.push(r.data):e[r.key]=r.data)}return e};function splitLine(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var i=t.indexOf(" ");if(-1===i)throw new Error("no named row at line "+e);var n=t.substring(0,i);t=(t=(t=(t=t.substring(i+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var r=[],a=0;a<t.length;a++){var o=t[a];0===a?r.push({key:o[0],data:""}):a===t.length-1?r[r.length-1].data=parseData(o[0]):(r[r.length-1].data=parseData(o[0]),r.push({key:o[1],data:""}))}var s={key:n,data:{}};return r.forEach((function(t){s.data[t.key]=t.data})),s}function parseData(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?parseIntList$1(t):parseInt(t,10):""}function parseIntList$1(t){return t.split(",").map((function(t){return parseInt(t,10)}))}var parseASCII=getDefaultExportFromCjs(parseBmfontAscii),GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(t){for(var e in t=Object.assign({},t),GLYPH_DESIGNER_ERROR in t&&(t.charset=t[GLYPH_DESIGNER_ERROR],delete t[GLYPH_DESIGNER_ERROR]),t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?parseIntList(t[e]):parseInt(t[e],10));return t};function parseIntList(t){return t.split(",").map((function(t){return parseInt(t,10)}))}var xmlParseFromString=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(t){t=t.toString();var e=parseFromString(t),i={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(t){var n=e.getElementsByTagName(t)[0];n&&(i[t]=parseAttributes(getAttribs(n)))}));var n=e.getElementsByTagName("pages")[0];if(!n)throw new Error("malformed file -- no <pages> element");for(var r=n.getElementsByTagName("page"),a=0;a<r.length;a++){var o=r[a],s=parseInt(o.getAttribute("id"),10),l=o.getAttribute("file");if(isNaN(s))throw new Error('malformed file -- page "id" attribute is NaN');if(!l)throw new Error('malformed file -- needs page "file" attribute');i.pages[parseInt(s,10)]=l}return["chars","kernings"].forEach((function(t){var n=e.getElementsByTagName(t)[0];if(n)for(var r=t.substring(0,t.length-1),a=n.getElementsByTagName(r),o=0;o<a.length;o++){var s=a[o];i[t].push(parseAttributes(getAttribs(s)))}})),i};function getAttribs(t){return getAttribList(t).reduce((function(t,e){return t[mapName(e.nodeName)]=e.nodeValue,t}),{})}function getAttribList(t){for(var e=[],i=0;i<t.attributes.length;i++)e.push(t.attributes[i]);return e}function mapName(t){return NAME_MAP[t.toLowerCase()]||t}var parseXML=getDefaultExportFromCjs(browser),HEADER$1=[66,77,70],parseBmfontBinary=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var e=HEADER$1.every((function(e,i){return t.readUInt8(i)===e}));if(!e)throw new Error("BMFont missing BMF byte header");var i=3;if(t.readUInt8(i++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var n={kernings:[],chars:[]},r=0;r<5;r++)i+=readBlock(n,t,i);return n};function readBlock(t,e,i){if(i>e.length-1)return 0;var n=e.readUInt8(i++),r=e.readInt32LE(i);switch(i+=4,n){case 1:t.info=readInfo(e,i);break;case 2:t.common=readCommon(e,i);break;case 3:t.pages=readPages(e,i,r);break;case 4:t.chars=readChars(e,i,r);break;case 5:t.kernings=readKernings(e,i,r)}return 5+r}function readInfo(t,e){var i={};i.size=t.readInt16LE(e);var n=t.readUInt8(e+2);return i.smooth=n>>7&1,i.unicode=n>>6&1,i.italic=n>>5&1,i.bold=n>>4&1,n>>3&1&&(i.fixedHeight=1),i.charset=t.readUInt8(e+3)||"",i.stretchH=t.readUInt16LE(e+4),i.aa=t.readUInt8(e+6),i.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],i.spacing=[t.readInt8(e+11),t.readInt8(e+12)],i.outline=t.readUInt8(e+13),i.face=readStringNT(t,e+14),i}function readCommon(t,e){var i={};return i.lineHeight=t.readUInt16LE(e),i.base=t.readUInt16LE(e+2),i.scaleW=t.readUInt16LE(e+4),i.scaleH=t.readUInt16LE(e+6),i.pages=t.readUInt16LE(e+8),t.readUInt8(e+10),i.packed=0,i.alphaChnl=t.readUInt8(e+11),i.redChnl=t.readUInt8(e+12),i.greenChnl=t.readUInt8(e+13),i.blueChnl=t.readUInt8(e+14),i}function readPages(t,e,i){for(var n=[],r=readNameNT(t,e),a=r.length+1,o=i/a,s=0;s<o;s++)n[s]=t.slice(e,e+r.length).toString("utf8"),e+=a;return n}function readChars(t,e,i){for(var n=[],r=i/20,a=0;a<r;a++){var o={},s=20*a;o.id=t.readUInt32LE(e+0+s),o.x=t.readUInt16LE(e+4+s),o.y=t.readUInt16LE(e+6+s),o.width=t.readUInt16LE(e+8+s),o.height=t.readUInt16LE(e+10+s),o.xoffset=t.readInt16LE(e+12+s),o.yoffset=t.readInt16LE(e+14+s),o.xadvance=t.readInt16LE(e+16+s),o.page=t.readUInt8(e+18+s),o.chnl=t.readUInt8(e+19+s),n[a]=o}return n}function readKernings(t,e,i){for(var n=[],r=i/10,a=0;a<r;a++){var o={},s=10*a;o.first=t.readUInt32LE(e+0+s),o.second=t.readUInt32LE(e+4+s),o.amount=t.readInt16LE(e+8+s),n[a]=o}return n}function readNameNT(t,e){for(var i=e;i<t.length&&0!==t[i];i++);return t.slice(e,i)}function readStringNT(t,e){return readNameNT(t,e).toString("utf8")}var readBinary=getDefaultExportFromCjs(parseBmfontBinary);function normalizeArray(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(t){return splitPathRe.exec(t).slice(1)};function resolve(){for(var t="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var n=i>=0?arguments[i]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return t=normalizeArray(filter(t.split("/"),(function(t){return!!t})),!e).join("/"),(e?"/":"")+t||"."}function normalize(t){var e=isAbsolute(t),i="/"===substr(t,-1);return t=normalizeArray(filter(t.split("/"),(function(t){return!!t})),!e).join("/"),t||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t}function isAbsolute(t){return"/"===t.charAt(0)}function join(){return normalize(filter(Array.prototype.slice.call(arguments,0),(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))}function relative(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=resolve(t).substr(1),e=resolve(e).substr(1);for(var n=i(t.split("/")),r=i(e.split("/")),a=Math.min(n.length,r.length),o=a,s=0;s<a;s++)if(n[s]!==r[s]){o=s;break}var l=[];for(s=o;s<n.length;s++)l.push("..");return(l=l.concat(r.slice(o))).join("/")}var sep="/",delimiter=":";function dirname(t){var e=splitPath(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."}function basename(t,e){var i=splitPath(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i}function extname(t){return splitPath(t)[3]}var path={extname:extname,basename:basename,dirname:dirname,sep:sep,delimiter:delimiter,relative:relative,join:join,isAbsolute:isAbsolute,normalize:normalize,resolve:resolve};function filter(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var substr=function(t,e,i){return t.substr(e,i)};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const t=e=>{if(!e)return null;const i={};switch(e.type){case"ELEMENT":{let n={};const a=E(e.value.attributes),o=t(e.value.children);if(a&&(n=Object.assign(n,a)),o){const t=r(e.value.children);n=Object.assign(n,t)}i[e.value.type]=n;break}case"ATTRIBUTE":{const t=e.value;i[t.name]=t.value;break}case"CONTENT":return{content:e.value}}return i},r=e=>e&&Array.isArray(e)&&0!==e.length?n(e)?{content:e[0].value}:{children:e.map(t)}:null,n=t=>t&&Array.isArray(t)&&1===t.length&&"CONTENT"===t[0].type,E=e=>e&&Array.isArray(e)?e.map(t).reduce(((t,e)=>Object.assign(t,e)),{}):null;var s={convert:e=>t(e.value.children[0])},a={Token:(t,e)=>({type:t,value:e}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=t=>" "===t||"\n"===t||"\r"===t||"\t"===t,o=t=>t.replace(/'/g,'"');var N={createLexer:function(t){let e=null,i=(t=>{let e=0;for(;e<t.length&&l(t[e]);)e++;return((t,e)=>{if(t.startsWith("<?xml",e)){const i=t.length;for(;e<i;)if("?"!==t[e])e++;else{if(">"===t[e+1])return e+2;e++}}return e})(t,e)})(t),n=[];const r=()=>t[i],a=()=>e!==c&&i<t.length,s=t=>'"'===t||"'"===t,d=()=>{for(;a()&&l(t[i]);)i++},h=e=>{if(a()){if("<"===t[i]){let e="<";return i++,a()&&"/"===t[i]?(i++,e="</"):a()&&"!"===t[i]&&"-"===t[i+1]&&"-"===t[i+2]&&(i++,i++,i++,e="\x3c!--"),e}if("/"===r()){let t="/";return i++,a()&&">"===r()&&(i++,t="/>"),t}if("="===t[i]||">"===t[i]){const e=t[i];return i++,e}}return f(!!e)},f=e=>{const n=e?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let r=i;for(;a()&&t[i].match(n);)i++;return o(t.substring(r,i))},p=()=>{const l=i;d();const m=i-l;if(a())if(e&&e.type===u.OPEN_BRACKET){d();const t=h(!1);e=T(u.ELEMENT_TYPE,t),n.push(t)}else if(e&&e.type===u.ASSIGN){a()&&s(r())&&i++;let n=i;for(;a()&&!s(r());)i++;const l=o(t.substring(n,i));i++,e=T(u.ATTRIB_VALUE,l)}else{d();let o=h(!0);switch(o){case"=":e=e.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,o);break;case"</":{const r=i;for(;">"!==t[i];)i++;e=T(u.CLOSE_ELEMENT,t.substring(r,i)),i++,n.pop();break}case"/>":{const t=n.pop();e=T(u.CLOSE_ELEMENT,t);break}case"\x3c!--":{const e=["!","-","-"];for(;a()&&(">"!==e[2]||"-"!==e[1]||"-"!==e[0]);)e.shift(),e.push(t[i]),i++;return p()}case">":e=T(u.CLOSE_BRACKET);break;case"<":e=T(u.OPEN_BRACKET);break;default:if(o&&o.length>0){if(e.type===u.CLOSE_BRACKET){let t="";"<"!==r()&&(t=f(!0)),e=T(u.CONTENT,o+t)}else if(e.type!==u.ATTRIB_NAME&&e.type!==u.CONTENT)e.type===u.CLOSE_ELEMENT?(o=" ".repeat(m)+o,e=T(u.CONTENT,o)):e=T(u.ATTRIB_NAME,o);else{const t=" ".repeat(m)+o;e=T(u.CONTENT,t)}break}{const e='Unknown Syntax : "'+t[i]+'"';throw new Error(e)}}}else e=c;return e};return{peek:r,next:p,hasNext:a}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(t,e)=>({type:t,value:e}),L=t=>_(h,t),y=(t,e,i)=>_(f,{type:t,attributes:e,children:i}),v=(t,e)=>_(C,{name:t,value:e}),S=(t,e)=>{const i=[];for(;t.hasNext();){const n=t.next();switch(n.type){case O.OPEN_BRACKET:{const e=t.next(),[n,r]=R(t);let a=[];r.type!==O.CLOSE_ELEMENT&&(a=S(t,e)),a&&a.length>0&&a[0].type===O.CONTENT&&(a=b(a)),i.push(y(e.value,n,a));break}case O.CLOSE_ELEMENT:if(n.value===e.value)return i;break;case O.CONTENT:i.push(L(n.value));break;case O.EOF:return i;default:throw new Error(`Unknown Lexem type: ${n.type} "${n.value}, scoping element: ${e.value}"`)}}return i},R=t=>{const e=[];let i=t.peek();if(!t.hasNext()||i&&i.type===O.CLOSE_BRACKET||i&&i.type===O.CLOSE_ELEMENT)return[e,i];for(i=t.next();t.hasNext()&&i&&i.type!==O.CLOSE_BRACKET&&i.type!==O.CLOSE_ELEMENT;){const n=i;t.next();const r=t.next(),a=v(n.value,r.value);e.push(a),i=t.next()}return[e,i]};function b(t){let e=[],i="";return t.forEach((t=>{t.type===O.CONTENT?i+=t.value:(i.length&&(e.push(L(i)),i=""),e.push(t))})),i.length&&e.push(L(i)),e}var B={transpile:function(t,e){const n=(t=>_(A,{children:S(t,p(A,"ROOT"))}))(i(t));return e?e.convert(n):n},Node:_,ElementNode:y,AttribNode:v};const M=s,{transpile:x}=B;var k=e({convertXML:function(t,e){return x(t,e||M)},createAST:function(t){return x(t)}}),simpleXmlToJson_min=k,xmlPackage=getDefaultExportFromCjs(simpleXmlToJson_min);const{convertXML:convertXML}=xmlPackage,isWebWorker="undefined"!=typeof self&&void 0===self.document,CharacterJimp=createJimp({formats:[png]}),HEADER=Buffer.from([66,77,70,3]);function isBinary(t){if("string"==typeof t)return"BMF"===t.substring(0,3);const e=t.slice(0,4);return t.length>4&&e[0]===HEADER[0]&&e[1]===HEADER[1]&&e[2]===HEADER[2]}function parseFont(t,e){return isBinary(e)?("string"==typeof e&&(e=Buffer.from(e,"binary")),readBinary(e)):(e=e.toString().trim(),/.json$/.test(t)||"{"===e.charAt(0)?JSON.parse(e):/.xml$/.test(t)||"<"===e.charAt(0)?parseXML(e):parseASCII(e))}function parseNumbersInObject(t){for(const e in t){try{t[e]=parseInt(t[e],10)}catch{}"object"==typeof t[e]&&parseNumbersInObject(t[e])}return t}async function loadBitmapFontData(t){if(isWebWorker&&"string"==typeof t){const e=await fetch(t),i=await e.text(),n=convertXML(i).font.children.reduce(((t,e)=>({...t,...e})),{}),r=[],a=[],o=[];for(let t=0;t<n.pages.children.length;t++){const e=n.pages.children[t].page;r[parseInt(e.id,10)]=parseNumbersInObject(e.file)}for(let t=0;t<n.chars.children.length;t++)a.push(parseNumbersInObject(n.chars.children[t].char));for(let t=0;t<n.kernings.children.length;t++)o.push(parseNumbersInObject(n.kernings.children[t].kerning));return{info:n.info,common:n.common,pages:r,chars:a,kernings:o}}if("string"==typeof t){const e=await fetch(t);return parseFont(t,await e.text())}return parseFont("",t)}async function processBitmapFont(t,e){const i={},n={};for(let r=0;r<e.chars.length;r++){const t=e.chars[r];i[String.fromCharCode(t.id)]=t}for(let r=0;r<e.kernings.length;r++){const t=String.fromCharCode(e.kernings[r].first);n[t]=n[t]||{},n[t][String.fromCharCode(e.kernings[r].second)]=e.kernings[r].amount}return{...e,chars:i,kernings:n,pages:await Promise.all(e.pages.map((async e=>CharacterJimp.read(path.join(path.dirname(t),e)))))}}async function loadFont(t){let e=t;if("undefined"==typeof window&&!isWebWorker){const{existsSync:i,promises:n}=await Promise.resolve().then((function(){return _polyfillNode_fs$1}));i(t)&&(e=await n.readFile(t))}return processBitmapFont(t,await loadBitmapFontData(e))}var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(t,e,i,n,r,a){if(!isPixelData(t)||!isPixelData(e)||i&&!isPixelData(i))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(t.length!==e.length||i&&i.length!==t.length)throw new Error("Image sizes do not match.");if(t.length!==n*r*4)throw new Error("Image data size does not match width/height.");a=Object.assign({},defaultOptions,a);const o=n*r,s=new Uint32Array(t.buffer,t.byteOffset,o),l=new Uint32Array(e.buffer,e.byteOffset,o);let u=!0;for(let h=0;h<o;h++)if(s[h]!==l[h]){u=!1;break}if(u){if(i&&!a.diffMask)for(let e=0;e<o;e++)drawGrayPixel(t,4*e,a.alpha,i);return 0}const c=35215*a.threshold*a.threshold;let d=0;for(let h=0;h<r;h++)for(let o=0;o<n;o++){const s=4*(h*n+o),l=colorDelta(t,e,s,s);Math.abs(l)>c?a.includeAA||!antialiased(t,o,h,n,r,e)&&!antialiased(e,o,h,n,r,t)?(i&&drawPixel(i,s,...l<0&&a.diffColorAlt||a.diffColor),d++):i&&!a.diffMask&&drawPixel(i,s,...a.aaColor):i&&(a.diffMask||drawGrayPixel(t,s,a.alpha,i))}return d}function isPixelData(t){return ArrayBuffer.isView(t)&&1===t.constructor.BYTES_PER_ELEMENT}function antialiased(t,e,i,n,r,a){const o=Math.max(e-1,0),s=Math.max(i-1,0),l=Math.min(e+1,n-1),u=Math.min(i+1,r-1),c=4*(i*n+e);let d,h,f,p,m=e===o||e===l||i===s||i===u?1:0,b=0,g=0;for(let y=o;y<=l;y++)for(let r=s;r<=u;r++){if(y===e&&r===i)continue;const a=colorDelta(t,t,c,4*(r*n+y),!0);if(0===a){if(m++,m>2)return!1}else a<b?(b=a,d=y,h=r):a>g&&(g=a,f=y,p=r)}return 0!==b&&0!==g&&(hasManySiblings(t,d,h,n,r)&&hasManySiblings(a,d,h,n,r)||hasManySiblings(t,f,p,n,r)&&hasManySiblings(a,f,p,n,r))}function hasManySiblings(t,e,i,n,r){const a=Math.max(e-1,0),o=Math.max(i-1,0),s=Math.min(e+1,n-1),l=Math.min(i+1,r-1),u=4*(i*n+e);let c=e===a||e===s||i===o||i===l?1:0;for(let d=a;d<=s;d++)for(let r=o;r<=l;r++){if(d===e&&r===i)continue;const a=4*(r*n+d);if(t[u]===t[a]&&t[u+1]===t[a+1]&&t[u+2]===t[a+2]&&t[u+3]===t[a+3]&&c++,c>2)return!0}return!1}function colorDelta(t,e,i,n,r){let a=t[i+0],o=t[i+1],s=t[i+2],l=t[i+3],u=e[n+0],c=e[n+1],d=e[n+2],h=e[n+3];if(l===h&&a===u&&o===c&&s===d)return 0;l<255&&(l/=255,a=blend(a,l),o=blend(o,l),s=blend(s,l)),h<255&&(h/=255,u=blend(u,h),c=blend(c,h),d=blend(d,h));const f=rgb2y(a,o,s),p=rgb2y(u,c,d),m=f-p;if(r)return m;const b=rgb2i(a,o,s)-rgb2i(u,c,d),g=rgb2q(a,o,s)-rgb2q(u,c,d),y=.5053*m*m+.299*b*b+.1957*g*g;return f>p?-y:y}function rgb2y(t,e,i){return.29889531*t+.58662247*e+.11448223*i}function rgb2i(t,e,i){return.59597799*t-.2741761*e-.32180189*i}function rgb2q(t,e,i){return.21147017*t-.52261711*e+.31114694*i}function blend(t,e){return 255+(t-255)*e}function drawPixel(t,e,i,n,r){t[e+0]=i,t[e+1]=n,t[e+2]=r,t[e+3]=255}function drawGrayPixel(t,e,i,n){const r=blend(rgb2y(t[e+0],t[e+1],t[e+2]),i*t[e+3]/255);drawPixel(n,e,r,r,r)}var pixelMatch=getDefaultExportFromCjs(pixelmatch_1);function diff(t,e,i=.1){let n=t.bitmap,r=e.bitmap;if(n.width===r.width&&n.height===r.height||(n.width*n.height>r.width*r.height?n=methods$d.resize(clone(t),{w:r.width,h:r.height}).bitmap:r=methods$d.resize(clone(e),{w:n.width,h:n.height}).bitmap),"number"!=typeof i||i<0||i>1)throw new Error("threshold must be a number between 0 and 1");const a=new t.constructor({width:n.width,height:n.height,color:4294967295});return{percent:pixelMatch(n.data,r.data,a.bitmap.data,a.bitmap.width,a.bitmap.height,{threshold:i})/(a.bitmap.width*a.bitmap.height),image:a}}const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff],JimpMime={bmp:bmp().mime,gif:gif().mime,jpeg:jpeg$2().mime,png:png().mime,tiff:tiff().mime},Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins})}}]);
//# sourceMappingURL=chunk-vendors.67faf114.js.map